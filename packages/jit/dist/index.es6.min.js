function validatePrototype(e,t){for(const def of t)def.pattern in e?"function"!=typeof e[def.pattern]&&Reporter.write(402,def.pattern):Reporter.write(401,def.pattern)}function attributePattern(...e){return function(t){const n=t.prototype;return validatePrototype(n,e),n.t=e,t.register=function(e){return Registration.singleton(IAttributePattern,t).register(e,IAttributePattern)},t}}function register(e){const t=BindingCommandResource.i(this.description.name);e.register(Registration.singleton(t,this))}function bindingCommand(e){return t=>BindingCommandResource.s(e,t)}function keyFrom(name){return`${this.name}:${name}`}function isType(e){return e.kind===this}function define(e,t){const n=t,r=n,i="string"==typeof e?{name:e,target:null}:e;return r.kind=BindingCommandResource,r.description=i,n.register=register,n}function getTarget(e,t){return 256&e.flags?e.bindable.o:t?camelCase(e.l.target):e.l.target}function getMode(e){return 256&e.flags?e.bindable.mode:commandToMode[e.l.command]}function unescapeCode(e){switch(e){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return e}}function parseExpression(e,t){return $state.input=e,$state.length=e.length,$state.index=0,$state.u=e.charCodeAt(0),parse($state,0,61,void 0===t?53:t)}function parse(e,t,n,r){if(Profiler.enabled&&enter$1(),0===e.index){if(2048&r)return Profiler.enabled&&leave$1(),parseInterpolation(e);if(nextToken(e),1048576&e.m)throw Profiler.enabled&&leave$1(),Reporter.error(100,{state:e})}e.p=448>n;let i=void 0;if(32768&e.m){const n=TokenValues[63&e.m];nextToken(e),i=new Unary(n,parse(e,t,449,r)),e.p=0}else{e:switch(e.m){case 3077:e.p=0;do{if(nextToken(e),t++,!consumeOpt(e,16392)){if(524288&e.m){const e=511&t;i=0===e?$this:1===e?$parent:new AccessThis(e),t=512;break e}throw Profiler.enabled&&leave$1(),Reporter.error(103,{state:e})}if(16392===e.m)throw Profiler.enabled&&leave$1(),Reporter.error(102,{state:e});if(1572864===e.m)throw Profiler.enabled&&leave$1(),Reporter.error(105,{state:e})}while(3077===e.m);case 1024:512&r?i=new BindingIdentifier(e.g):(i=new AccessScope(e.g,511&t),t=1024),e.p=1,nextToken(e);break;case 3076:e.p=0,nextToken(e),i=$this,t=512;break;case 671750:nextToken(e),i=parse(e,0,62,r),consume(e,1835018),t=0;break;case 671756:i=parseArrayLiteralExpression(e,t,r),t=0;break;case 131079:i=parseObjectLiteralExpression(e,r),t=0;break;case 540713:i=new Template([e.g]),e.p=0,nextToken(e),t=0;break;case 540714:i=parseTemplate(e,t,r,i,0),t=0;break;case 4096:case 8192:i=new PrimitiveLiteral(e.g),e.p=0,nextToken(e),t=0;break;case 2050:case 2051:case 2049:case 2048:i=TokenValues[63&e.m],e.p=0,nextToken(e),t=0;break;default:throw e.length>e.index?(Profiler.enabled&&leave$1(),Reporter.error(101,{state:e})):(Profiler.enabled&&leave$1(),Reporter.error(104,{state:e}))}if(512&r)return Profiler.enabled&&leave$1(),parseForOfStatement(e,i);if(n>449)return Profiler.enabled&&leave$1(),i;let name=e.g;for(;(16384&e.m)>0;)switch(e.m){case 16392:if(e.p=1,nextToken(e),0==(3072&e.m))throw Profiler.enabled&&leave$1(),Reporter.error(105,{state:e});if(name=e.g,nextToken(e),t=(1536&t)<<1|2048&t|(4096&t)>>1,671750===e.m){0===t&&(t=2048);continue}i=1024&t?new AccessScope(name,i.C):new AccessMember(i,name);continue;case 671756:e.p=1,nextToken(e),t=4096,i=new AccessKeyed(i,parse(e,0,62,r)),consume(e,1835021);break;case 671750:e.p=0,nextToken(e);const n=[];for(;1835018!==e.m&&(n.push(parse(e,0,62,r)),consumeOpt(e,1572875)););consume(e,1835018),i=1024&t?new CallScope(name,n,i.C):2048&t?new CallMember(i,name,n):new CallFunction(i,n),t=0;break;case 540713:e.p=0;const s=[e.g];i=new TaggedTemplate(s,s,i),nextToken(e);break;case 540714:i=parseTemplate(e,t,r,i,1)}}if(n>448)return Profiler.enabled&&leave$1(),i;for(;(65536&e.m)>0;){const s=e.m;if(n>=(448&s))break;nextToken(e),i=new Binary(TokenValues[63&s],i,parse(e,t,448&s,r)),e.p=0}if(n>63)return Profiler.enabled&&leave$1(),i;if(consumeOpt(e,1572879)){const n=parse(e,t,62,r);consume(e,1572878),i=new Conditional(i,n,parse(e,t,62,r)),e.p=0}if(n>62)return Profiler.enabled&&leave$1(),i;if(consumeOpt(e,1048615)){if(!e.p)throw Profiler.enabled&&leave$1(),Reporter.error(150,{state:e});i=new Assign(i,parse(e,t,62,r))}if(n>61)return Profiler.enabled&&leave$1(),i;for(;consumeOpt(e,1572883);){if(1572864===e.m)throw Profiler.enabled&&leave$1(),Reporter.error(112);const name=e.g;nextToken(e);const n=[];for(;consumeOpt(e,1572878);)n.push(parse(e,t,62,r));i=new ValueConverter(i,name,n)}for(;consumeOpt(e,1572880);){if(1572864===e.m)throw Profiler.enabled&&leave$1(),Reporter.error(113);const name=e.g;nextToken(e);const n=[];for(;consumeOpt(e,1572878);)n.push(parse(e,t,62,r));i=new BindingBehavior(i,name,n)}if(1572864!==e.m){if(2048&r)return Profiler.enabled&&leave$1(),i;if("of"===e.T)throw Profiler.enabled&&leave$1(),Reporter.error(151,{state:e});throw Profiler.enabled&&leave$1(),Reporter.error(101,{state:e})}return Profiler.enabled&&leave$1(),i}function parseArrayLiteralExpression(e,t,n){nextToken(e);const r=[];for(;1835021!==e.m;)if(consumeOpt(e,1572875)){if(r.push($undefined),1835021===e.m)break}else{if(r.push(parse(e,t,62,-513&n)),!consumeOpt(e,1572875))break;if(1835021===e.m)break}return consume(e,1835021),512&n?new ArrayBindingPattern(r):(e.p=0,new ArrayLiteral(r))}function parseForOfStatement(e,t){if(0==(65536&t.P))throw Reporter.error(106,{state:e});if(1051179!==e.m)throw Reporter.error(106,{state:e});nextToken(e);const n=t,r=parse(e,0,61,0);return new ForOfStatement(n,r)}function parseObjectLiteralExpression(e,t){const n=[],r=[];for(nextToken(e);1835017!==e.m;){if(n.push(e.g),12288&e.m)nextToken(e),consume(e,1572878),r.push(parse(e,0,62,-513&t));else{if(!(3072&e.m))throw Reporter.error(107,{state:e});{const{u:n,m:i,index:s}=e;nextToken(e),consumeOpt(e,1572878)?r.push(parse(e,0,62,-513&t)):(e.u=n,e.m=i,e.index=s,r.push(parse(e,0,450,-513&t)))}}1835017!==e.m&&consume(e,1572875)}return consume(e,1835017),512&t?new ObjectBindingPattern(n,r):(e.p=0,new ObjectLiteral(n,r))}function parseInterpolation(e){const parts=[],t=[],n=e.length;let r="";for(;n>e.index;){switch(e.u){case 36:if(123===e.input.charCodeAt(e.index+1)){parts.push(r),r="",e.index+=2,e.u=e.input.charCodeAt(e.index),nextToken(e);const n=parse(e,0,61,2048);t.push(n);continue}r+="$";break;case 92:r+=String.fromCharCode(unescapeCode(nextChar(e)));break;default:r+=String.fromCharCode(e.u)}nextChar(e)}return t.length?(parts.push(r),new Interpolation(parts,t)):null}function parseTemplate(e,t,n,r,i){const s=[e.g];consume(e,540714);const o=[parse(e,t,62,n)];for(;540713!==(e.m=scanTemplateTail(e));)s.push(e.g),consume(e,540714),o.push(parse(e,t,62,n));return s.push(e.g),e.p=0,i?(nextToken(e),new TaggedTemplate(s,s,r,o)):(nextToken(e),new Template(s,o))}function nextToken(e){for(;e.length>e.index;)if(e.B=e.index,null!=(e.m=CharScanners[e.u](e)))return;e.m=1572864}function nextChar(e){return e.u=e.input.charCodeAt(++e.index)}function scanIdentifier(e){for(;IdParts[nextChar(e)];);const t=KeywordLookup[e.g=e.T];return void 0===t?1024:t}function scanNumber(e,t){let n=e.u;if(0==t){do{n=nextChar(e)}while(57>=n&&n>=48);if(46!==n)return e.g=parseInt(e.T,10),8192;if(n=nextChar(e),e.index>=e.length)return e.g=parseInt(e.T.slice(0,-1),10),8192}if(n>57||48>n)e.u=e.input.charCodeAt(--e.index);else do{n=nextChar(e)}while(57>=n&&n>=48);return e.g=parseFloat(e.T),8192}function scanString(e){const t=e.u;nextChar(e);let n=0;const r=[];let i=e.index;for(;e.u!==t;)if(92===e.u)r.push(e.input.slice(i,e.index)),nextChar(e),n=unescapeCode(e.u),nextChar(e),r.push(String.fromCharCode(n)),i=e.index;else{if(e.index>=e.length)throw Reporter.error(108,{state:e});nextChar(e)}const s=e.input.slice(i,e.index);nextChar(e),r.push(s);const o=r.join("");return e.g=o,4096}function scanTemplate(e){let t=1,n="";for(;96!==nextChar(e);)if(36===e.u){if(e.length>e.index+1&&123===e.input.charCodeAt(e.index+1)){e.index++,t=0;break}n+="$"}else if(92===e.u)n+=String.fromCharCode(unescapeCode(nextChar(e)));else{if(e.index>=e.length)throw Reporter.error(109,{state:e});n+=String.fromCharCode(e.u)}return nextChar(e),e.g=n,t?540713:540714}function scanTemplateTail(e){if(e.index>=e.length)throw Reporter.error(109,{state:e});return e.index--,scanTemplate(e)}function consumeOpt(e,t){return e.m===t?(nextToken(e),1):0}function consume(e,t){if(e.m!==t)throw Reporter.error(110,{state:e,S:t});nextToken(e)}function decompress(e,t,n,value){const r=n.length;for(let i=0;r>i;i+=2){const r=n[i];let s=n[i+1];if(s=s>0?s:r+1,e&&e.fill(value,r,s),t)for(let e=r;s>e;e++)t.add(e)}}function returnToken(e){return t=>(nextChar(t),e)}function createElementInfo(def){const e=new ElementInfo(def.name,def.containerless),bindables=def.bindables,defaultBindingMode=BindingMode.A;let bindable,t,n,mode;for(t in bindables)void 0!==(bindable=bindables[t]).R&&(t=bindable.R),n=void 0!==bindable.k?bindable.k:kebabCase(t),e.bindables[n]=new BindableInfo(t,mode=void 0!==bindable.mode&&bindable.mode!==BindingMode.default?bindable.mode:defaultBindingMode);return e}function createAttributeInfo(def){const e=new AttrInfo(def.name,def.isTemplateController),bindables=def.bindables,defaultBindingMode=void 0!==def.defaultBindingMode&&def.defaultBindingMode!==BindingMode.default?def.defaultBindingMode:BindingMode.A;let bindable,t,mode,n=0;for(t in bindables)++n,void 0!==(bindable=bindables[t]).R&&(t=bindable.R),e.bindables[t]=new BindableInfo(t,mode=void 0!==bindable.mode&&bindable.mode!==BindingMode.default?bindable.mode:defaultBindingMode),null===e.bindable&&(e.bindable=e.bindables[t]);return null===e.bindable&&(e.bindable=new BindableInfo("value",defaultBindingMode)),(def.I||n>1)&&(e.I=1),e}function createMarker(dom){const e=dom.createElement("au-m");return dom.L(e),e}var Access,Precedence,Token,Char,SyntaxError,SemanticError,SymbolFlags;import{PLATFORM,DI,Registration,Reporter,Profiler,all,camelCase,kebabCase}from"@aurelia/kernel";import{OneTimeBindingInstruction,ToViewBindingInstruction,FromViewBindingInstruction,TwoWayBindingInstruction,BindingMode,CallBindingInstruction,IteratorBindingInstruction,PrimitiveLiteral,AccessThis,Unary,BindingIdentifier,AccessScope,Template,AccessMember,AccessKeyed,CallScope,CallMember,CallFunction,TaggedTemplate,Binary,Conditional,Assign,ValueConverter,BindingBehavior,ArrayBindingPattern,ArrayLiteral,ForOfStatement,ObjectBindingPattern,ObjectLiteral,Interpolation,IExpressionParser,RuntimeBasicConfiguration,CustomElementResource,CustomAttributeResource}from"@aurelia/runtime";class AttrSyntax{constructor(e,t,n,r){this.v=e,this.O=t,this.target=n,this.command=r}}class CharSpec{constructor(e,t,n,r){if(this.$=e,this.repeat=t,this.F=n,this.M=r,r)switch(e.length){case 0:this.has=this.D;break;case 1:this.has=this.U;break;default:this.has=this.V}else switch(e.length){case 0:this.has=this.K;break;case 1:this.has=this.N;break;default:this.has=this.q}}W(e){return this.$===e.$&&this.repeat===e.repeat&&this.F===e.F&&this.M===e.M}q(e){return-1!==this.$.indexOf(e)}N(e){return this.$===e}K(e){return 0}V(e){return-1===this.$.indexOf(e)}U(e){return this.$!==e}D(e){return 1}}class Interpretation{get pattern(){const value=this.j;return""===value?null:value}set pattern(value){null==value?(this.j="",this.parts=PLATFORM.H):(this.j=value,this.parts=this.G[value])}constructor(){this.j="",this.parts=PLATFORM.H,this.Z={},this.G={}}append(e,t){const{Z:n}=this;void 0===n[e]?n[e]=t:n[e]+=t}next(e){const{Z:t}=this;if(void 0!==t[e]){const{G:n}=this;void 0===n[e]?n[e]=[t[e]]:n[e].push(t[e]),t[e]=void 0}}}class State{get pattern(){return this.J?this.X[0]:null}constructor(e,...t){this.Y=e,this.ee=[],this.types=null,this.X=t,this.J=0}te(e){const t=this.ee,n=t.length;let r=null;for(let i=0;n>i;++i)if(e.W((r=t[i]).Y))return r;return null}append(e,t){const{X:n}=this;-1===n.indexOf(t)&&n.push(t);let r=this.te(e);return null==r&&(r=new State(e,t),this.ee.push(r),e.repeat&&r.ee.push(r)),r}ne(e,t){const n=[],r=this.ee,i=r.length;let s=0,o=null,a=0,l=0;for(;i>a;++a)if((o=r[a]).Y.has(e))if(n.push(o),s=o.X.length,l=0,o.Y.F)for(;s>l;++l)t.next(o.X[l]);else for(;s>l;++l)t.append(o.X[l],e);return n}}class StaticSegment{constructor(e){this.text=e;const t=this.re=e.length,n=this.ie=[];for(let r=0;t>r;++r)n.push(new CharSpec(e[r],0,0,0))}se(e){const{re:t,ie:n}=this;for(let r=0;t>r;++r)e(n[r])}}class DynamicSegment{constructor(e){this.text="PART",this.oe=new CharSpec(e,1,0,1)}se(e){e(this.oe)}}class SymbolSegment{constructor(e){this.text=e,this.oe=new CharSpec(e,0,1,0)}se(e){e(this.oe)}}class SegmentTypes{constructor(){this.ae=0,this.le=0,this.symbols=0}}const ISyntaxInterpreter=DI.ue("ISyntaxInterpreter").ce(e=>e.singleton(SyntaxInterpreter));class SyntaxInterpreter{constructor(){this.de=new State(null),this.he=[this.de]}add(e){let t=0;if(Array.isArray(e)){const n=e.length;for(;n>t;++t)this.add(e[t]);return}let n=this.de;const def=e,r=def.pattern,i=new SegmentTypes,s=this.parse(def,i),o=s.length,a=e=>{n=n.append(e,r)};for(t=0;o>t;++t)s[t].se(a);n.types=i,n.J=1}me(name){const e=new Interpretation;let t=this.he;const n=name.length;for(let r=0;n>r&&0!==(t=this.pe(t,name.charAt(r),e)).length;++r);if(t.sort((e,t)=>{if(!e.J)return t.J?1:0;if(!t.J)return-1;const n=e.types,r=t.types;return n.ae!==r.ae?r.ae-n.ae:n.le!==r.le?r.le-n.le:n.symbols!==r.symbols?r.symbols-n.symbols:0}),t.length>0){const n=t[0];n.Y.F||e.next(n.pattern),e.pattern=n.pattern}return e}pe(e,t,n){const r=[];let i=null;const s=e.length;for(let o=0;s>o;++o)r.push(...(i=e[o]).ne(t,n));return r}parse(def,e){const t=[],n=def.pattern,r=n.length;let i=0,s=0,o="";for(;r>i;)o=n.charAt(i),-1===def.symbols.indexOf(o)?i===s&&"P"===o&&"PART"===n.slice(i,i+4)?(s=i+=4,t.push(new DynamicSegment(def.symbols)),++e.le):++i:i!==s?(t.push(new StaticSegment(n.slice(s,i))),++e.ae,s=i):(t.push(new SymbolSegment(n.slice(s,i+1))),++e.symbols,s=++i);return s!==i&&(t.push(new StaticSegment(n.slice(s,i))),++e.ae),t}}const IAttributePattern=DI.ue("IAttributePattern").fe();class DotSeparatedAttributePattern{ge(e,t,parts){return new AttrSyntax(e,t,parts[0],parts[1])}Ce(e,t,parts){return new AttrSyntax(e,t,parts[0],parts[2])}}attributePattern({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})(DotSeparatedAttributePattern);class RefAttributePattern{Te(e,t,parts){return new AttrSyntax(e,t,"ref",null)}we(e,t,parts){return new AttrSyntax(e,t,"ref",parts[1])}}attributePattern({pattern:"ref",symbols:""},{pattern:"ref.PART",symbols:"."})(RefAttributePattern);class ColonPrefixedBindAttributePattern{Pe(e,t,parts){return new AttrSyntax(e,t,parts[0],"bind")}}attributePattern({pattern:":PART",symbols:":"})(ColonPrefixedBindAttributePattern);class AtPrefixedTriggerAttributePattern{be(e,t,parts){return new AttrSyntax(e,t,parts[0],"trigger")}}attributePattern({pattern:"@PART",symbols:"@"})(AtPrefixedTriggerAttributePattern);const IAttributeParser=DI.ue("IAttributeParser").ce(e=>e.singleton(AttributeParser)),{Be:enter,Se:leave}=Profiler.xe("AttributeParser");class AttributeParser{constructor(e,t){this.Ae=e,this.cache={};const n=this.X={};t.forEach(t=>{const r=t.t;e.add(r),r.forEach(def=>{n[def.pattern]=t})})}parse(name,value){Profiler.enabled&&enter();let e=this.cache[name];null==e&&(e=this.cache[name]=this.Ae.me(name));const t=e.pattern;return null==t?(Profiler.enabled&&leave(),new AttrSyntax(name,value,name,null)):(Profiler.enabled&&leave(),this.X[t][t](name,value,e.parts))}}AttributeParser.inject=[ISyntaxInterpreter,all(IAttributePattern)];const BindingCommandResource={name:"binding-command",i:keyFrom,ye:isType,s:define};class OneTimeBindingCommand{constructor(){this.Re=49}compile(e){return new OneTimeBindingInstruction(e.ke,getTarget(e,0))}}BindingCommandResource.s("one-time",OneTimeBindingCommand);class ToViewBindingCommand{constructor(){this.Re=50}compile(e){return new ToViewBindingInstruction(e.ke,getTarget(e,0))}}BindingCommandResource.s("to-view",ToViewBindingCommand);class FromViewBindingCommand{constructor(){this.Re=51}compile(e){return new FromViewBindingInstruction(e.ke,getTarget(e,0))}}BindingCommandResource.s("from-view",FromViewBindingCommand);class TwoWayBindingCommand{constructor(){this.Re=52}compile(e){return new TwoWayBindingInstruction(e.ke,getTarget(e,0))}}BindingCommandResource.s("two-way",TwoWayBindingCommand);const modeToProperty=["","$1","$2","","$4","","$6"],commandToMode={bind:BindingMode.A,Ie:BindingMode.oneTime,Le:BindingMode.A,ve:BindingMode.Ee,Oe:BindingMode.$e};class DefaultBindingCommand{constructor(){this.Re=53,this.$1=OneTimeBindingCommand.prototype.compile,this.$2=ToViewBindingCommand.prototype.compile,this.$4=FromViewBindingCommand.prototype.compile,this.$6=TwoWayBindingCommand.prototype.compile}compile(e){return this[modeToProperty[getMode(e)]](e)}}BindingCommandResource.s("bind",DefaultBindingCommand);class CallBindingCommand{constructor(){this.Re=153}compile(e){return new CallBindingInstruction(e.ke,getTarget(e,1))}}BindingCommandResource.s("call",CallBindingCommand);class ForBindingCommand{constructor(){this.Re=539}compile(e){return new IteratorBindingInstruction(e.ke,getTarget(e,0))}}BindingCommandResource.s("for",ForBindingCommand),(function(Access){Access[Access.Fe=0]="Reset",Access[Access.Me=511]="Ancestor",Access[Access.De=512]="This",Access[Access.Scope=1024]="Scope",Access[Access.Ue=2048]="Member",Access[Access.Ve=4096]="Keyed"})(Access||(Access={})),(function(Precedence){Precedence[Precedence.Ke=61]="Variadic",Precedence[Precedence.Assign=62]="Assign",Precedence[Precedence.Conditional=63]="Conditional",Precedence[Precedence.Ne=64]="LogicalOR",Precedence[Precedence.qe=128]="LogicalAND",Precedence[Precedence.We=192]="Equality",Precedence[Precedence.je=256]="Relational",Precedence[Precedence.Qe=320]="Additive",Precedence[Precedence.He=384]="Multiplicative",Precedence[Precedence.Binary=448]="Binary",Precedence[Precedence.Ge=449]="LeftHandSide",Precedence[Precedence.Ze=450]="Primary",Precedence[Precedence.Unary=451]="Unary"})(Precedence||(Precedence={})),(function(e){e[e.Je=1572864]="EOF",e[e.Xe=1048576]="ExpressionTerminal",e[e.Ye=524288]="AccessScopeTerminal",e[e.ze=262144]="ClosingToken",e[e._e=131072]="OpeningToken",e[e.et=65536]="BinaryOp",e[e.tt=32768]="UnaryOp",e[e.Ge=16384]="LeftHandSide",e[e.nt=12288]="StringOrNumericLiteral",e[e.rt=8192]="NumericLiteral",e[e.it=4096]="StringLiteral",e[e.st=3072]="IdentifierName",e[e.ot=2048]="Keyword",e[e.at=1024]="Identifier",e[e.lt=512]="Contextual",e[e.Precedence=448]="Precedence",e[e.ct=63]="Type",e[e.ut=2048]="FalseKeyword",e[e.dt=2049]="TrueKeyword",e[e.ht=2050]="NullKeyword",e[e.pt=2051]="UndefinedKeyword",e[e.ft=3076]="ThisScope",e[e.gt=3077]="ParentScope",e[e.Ct=671750]="OpenParen",e[e.Tt=131079]="OpenBrace",e[e.wt=16392]="Dot",e[e.Pt=1835017]="CloseBrace",e[e.bt=1835018]="CloseParen",e[e.Bt=1572875]="Comma",e[e.St=671756]="OpenBracket",e[e.xt=1835021]="CloseBracket",e[e.At=1572878]="Colon",e[e.yt=1572879]="Question",e[e.Rt=1572880]="Ampersand",e[e.kt=1572883]="Bar",e[e.It=1638548]="BarBar",e[e.Lt=1638613]="AmpersandAmpersand",e[e.vt=1638678]="EqualsEquals",e[e.Et=1638679]="ExclamationEquals",e[e.Ot=1638680]="EqualsEqualsEquals",e[e.$t=1638681]="ExclamationEqualsEquals",e[e.Ft=1638746]="LessThan",e[e.Mt=1638747]="GreaterThan",e[e.Dt=1638748]="LessThanEquals",e[e.Ut=1638749]="GreaterThanEquals",e[e.Vt=1640798]="InKeyword",e[e.Kt=1640799]="InstanceOfKeyword",e[e.Nt=623008]="Plus",e[e.qt=623009]="Minus",e[e.Wt=34850]="TypeofKeyword",e[e.jt=34851]="VoidKeyword",e[e.Qt=1638884]="Asterisk",e[e.Ht=1638885]="Percent",e[e.Gt=1638886]="Slash",e[e.Zt=1048615]="Equals",e[e.Jt=32808]="Exclamation",e[e.Xt=540713]="TemplateTail",e[e.Yt=540714]="TemplateContinuation",e[e.zt=1051179]="OfKeyword"})(Token||(Token={})),(function(Char){Char[Char._t=0]="Null",Char[Char.en=8]="Backspace",Char[Char.tn=9]="Tab",Char[Char.nn=10]="LineFeed",Char[Char.rn=11]="VerticalTab",Char[Char.in=12]="FormFeed",Char[Char.sn=13]="CarriageReturn",Char[Char.on=32]="Space",Char[Char.Jt=33]="Exclamation",Char[Char.an=34]="DoubleQuote",Char[Char.ln=36]="Dollar",Char[Char.Ht=37]="Percent",Char[Char.Rt=38]="Ampersand",Char[Char.cn=39]="SingleQuote",Char[Char.Ct=40]="OpenParen",Char[Char.bt=41]="CloseParen",Char[Char.Qt=42]="Asterisk",Char[Char.Nt=43]="Plus",Char[Char.Bt=44]="Comma",Char[Char.qt=45]="Minus",Char[Char.wt=46]="Dot",Char[Char.Gt=47]="Slash",Char[Char.un=59]="Semicolon",Char[Char.dn=96]="Backtick",Char[Char.St=91]="OpenBracket",Char[Char.hn=92]="Backslash",Char[Char.xt=93]="CloseBracket",Char[Char.mn=94]="Caret",Char[Char.pn=95]="Underscore",Char[Char.Tt=123]="OpenBrace",Char[Char.kt=124]="Bar",Char[Char.Pt=125]="CloseBrace",Char[Char.At=58]="Colon",Char[Char.Ft=60]="LessThan",Char[Char.Zt=61]="Equals",Char[Char.Mt=62]="GreaterThan",Char[Char.yt=63]="Question",Char[Char.fn=48]="Zero",Char[Char.gn=49]="One",Char[Char.Cn=50]="Two",Char[Char.Tn=51]="Three",Char[Char.wn=52]="Four",Char[Char.Pn=53]="Five",Char[Char.bn=54]="Six",Char[Char.Bn=55]="Seven",Char[Char.Sn=56]="Eight",Char[Char.xn=57]="Nine",Char[Char.An=65]="UpperA",Char[Char.yn=66]="UpperB",Char[Char.Rn=67]="UpperC",Char[Char.kn=68]="UpperD",Char[Char.In=69]="UpperE",Char[Char.Ln=70]="UpperF",Char[Char.vn=71]="UpperG",Char[Char.En=72]="UpperH",Char[Char.On=73]="UpperI",Char[Char.$n=74]="UpperJ",Char[Char.Fn=75]="UpperK",Char[Char.Mn=76]="UpperL",Char[Char.Dn=77]="UpperM",Char[Char.Un=78]="UpperN",Char[Char.Vn=79]="UpperO",Char[Char.Kn=80]="UpperP",Char[Char.Nn=81]="UpperQ",Char[Char.qn=82]="UpperR",Char[Char.Wn=83]="UpperS",Char[Char.jn=84]="UpperT",Char[Char.Qn=85]="UpperU",Char[Char.Hn=86]="UpperV",Char[Char.Gn=87]="UpperW",Char[Char.Zn=88]="UpperX",Char[Char.Jn=89]="UpperY",Char[Char.Xn=90]="UpperZ",Char[Char.Yn=97]="LowerA",Char[Char.zn=98]="LowerB",Char[Char._n=99]="LowerC",Char[Char.er=100]="LowerD",Char[Char.tr=101]="LowerE",Char[Char.nr=102]="LowerF",Char[Char.rr=103]="LowerG",Char[Char.ir=104]="LowerH",Char[Char.sr=105]="LowerI",Char[Char.or=106]="LowerJ",Char[Char.ar=107]="LowerK",Char[Char.lr=108]="LowerL",Char[Char.cr=109]="LowerM",Char[Char.ur=110]="LowerN",Char[Char.dr=111]="LowerO",Char[Char.hr=112]="LowerP",Char[Char.mr=113]="LowerQ",Char[Char.pr=114]="LowerR",Char[Char.gr=115]="LowerS",Char[Char.Cr=116]="LowerT",Char[Char.Tr=117]="LowerU",Char[Char.wr=118]="LowerV",Char[Char.Pr=119]="LowerW",Char[Char.br=120]="LowerX",Char[Char.Br=121]="LowerY",Char[Char.Sr=122]="LowerZ"})(Char||(Char={}));const{Be:enter$1,Se:leave$1}=Profiler.xe("ExpressionParser"),$false=PrimitiveLiteral.xr,$true=PrimitiveLiteral.Ar,$null=PrimitiveLiteral.yr,$undefined=PrimitiveLiteral.Rr,$this=AccessThis.kr,$parent=AccessThis.Ir;class ParserState{get T(){return this.input.slice(this.B,this.index)}constructor(e){this.index=0,this.B=0,this.lastIndex=0,this.input=e,this.length=e.length,this.m=1572864,this.g="",this.u=e.charCodeAt(0),this.p=1}}const $state=new ParserState("");(function(e){e[e.Lr=100]="InvalidExpressionStart",e[e.vr=101]="UnconsumedToken",e[e.Er=102]="DoubleDot",e[e.Or=103]="InvalidMemberExpression",e[e.$r=104]="UnexpectedEndOfExpression",e[e.Fr=105]="ExpectedIdentifier",e[e.Mr=106]="InvalidForDeclaration",e[e.Dr=107]="InvalidObjectLiteralPropertyDefinition",e[e.Ur=108]="UnterminatedQuote",e[e.Vr=109]="UnterminatedTemplate",e[e.Kr=110]="MissingExpectedToken",e[e.Nr=111]="UnexpectedCharacter",e[e.qr=112]="MissingValueConverter",e[e.Wr=113]="MissingBindingBehavior"})(SyntaxError||(SyntaxError={})),(function(e){e[e.jr=150]="NotAssignable",e[e.Qr=151]="UnexpectedForOf"})(SemanticError||(SemanticError={}));const TokenValues=[$false,$true,$null,$undefined,"$this","$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",540713,540714,"of"],KeywordLookup=Object.create(null);KeywordLookup.true=2049,KeywordLookup.null=2050,KeywordLookup.false=2048,KeywordLookup.undefined=2051,KeywordLookup.kr=3076,KeywordLookup.Ir=3077,KeywordLookup.Hr=1640798,KeywordLookup.Gr=1640799,KeywordLookup.Zr=34850,KeywordLookup.Jr=34851,KeywordLookup.of=1051179;const codes={Xr:[36,0,48,58,65,91,95,0,97,123],Yr:[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],zr:[48,58],_r:[0,33,127,161]},unexpectedCharacter=e=>{throw Reporter.error(111,{state:e})};unexpectedCharacter.ei=1;const AsciiIdParts=new Set;decompress(null,AsciiIdParts,codes.Xr,1);const IdParts=new Uint8Array(65535);decompress(IdParts,null,codes.Yr,1),decompress(IdParts,null,codes.zr,1);const CharScanners=Array(65535);CharScanners.fill(unexpectedCharacter,0,65535),decompress(CharScanners,null,codes._r,e=>(nextChar(e),null)),decompress(CharScanners,null,codes.Yr,scanIdentifier),decompress(CharScanners,null,codes.zr,e=>scanNumber(e,0)),CharScanners[34]=CharScanners[39]=(e=>scanString(e)),CharScanners[96]=(e=>scanTemplate(e)),CharScanners[33]=(e=>61!==nextChar(e)?32808:61!==nextChar(e)?1638679:(nextChar(e),1638681)),CharScanners[61]=(e=>61!==nextChar(e)?1048615:61!==nextChar(e)?1638678:(nextChar(e),1638680)),CharScanners[38]=(e=>38!==nextChar(e)?1572880:(nextChar(e),1638613)),CharScanners[124]=(e=>124!==nextChar(e)?1572883:(nextChar(e),1638548)),CharScanners[46]=(e=>nextChar(e)>57||48>e.u?16392:scanNumber(e,1)),CharScanners[60]=(e=>61!==nextChar(e)?1638746:(nextChar(e),1638748)),CharScanners[62]=(e=>61!==nextChar(e)?1638747:(nextChar(e),1638749)),CharScanners[37]=returnToken(1638885),CharScanners[40]=returnToken(671750),CharScanners[41]=returnToken(1835018),CharScanners[42]=returnToken(1638884),CharScanners[43]=returnToken(623008),CharScanners[44]=returnToken(1572875),CharScanners[45]=returnToken(623009),CharScanners[47]=returnToken(1638886),CharScanners[58]=returnToken(1572878),CharScanners[63]=returnToken(1572879),CharScanners[91]=returnToken(671756),CharScanners[93]=returnToken(1835021),CharScanners[123]=returnToken(131079),CharScanners[125]=returnToken(1835017);const IExpressionParserRegistration={register(e){e.ti(IExpressionParser,e=>(Reflect.set(e,"parseCore",parseExpression),e))}},DefaultComponents=[IExpressionParserRegistration],AtPrefixedTriggerAttributePatternRegistration=AtPrefixedTriggerAttributePattern,ColonPrefixedBindAttributePatternRegistration=ColonPrefixedBindAttributePattern,RefAttributePatternRegistration=RefAttributePattern,DotSeparatedAttributePatternRegistration=DotSeparatedAttributePattern,DefaultBindingSyntax=[RefAttributePatternRegistration,DotSeparatedAttributePatternRegistration],ShortHandBindingSyntax=[AtPrefixedTriggerAttributePatternRegistration,ColonPrefixedBindAttributePatternRegistration],CallBindingCommandRegistration=CallBindingCommand,DefaultBindingCommandRegistration=DefaultBindingCommand,ForBindingCommandRegistration=ForBindingCommand,FromViewBindingCommandRegistration=FromViewBindingCommand,OneTimeBindingCommandRegistration=OneTimeBindingCommand,ToViewBindingCommandRegistration=ToViewBindingCommand,TwoWayBindingCommandRegistration=TwoWayBindingCommand,DefaultBindingLanguage=[DefaultBindingCommandRegistration,OneTimeBindingCommandRegistration,FromViewBindingCommandRegistration,ToViewBindingCommandRegistration,TwoWayBindingCommandRegistration,CallBindingCommandRegistration,ForBindingCommandRegistration],BasicConfiguration={register:e=>RuntimeBasicConfiguration.register(e).register(...DefaultComponents,...DefaultBindingSyntax,...DefaultBindingLanguage),ni(){return this.register(DI.ni())}};class ResourceModel{constructor(e){this.ri=e,this.ii={},this.si={},this.oi={}}ai(name){let e=this.ii[name];if(void 0===e){const def=this.ri.find(CustomElementResource,name);e=null==def?null:createElementInfo(def),this.ii[name]=e}return e}li(e){const name=camelCase(e.target);let t=this.si[name];if(void 0===t){const def=this.ri.find(CustomAttributeResource,name);t=null==def?null:createAttributeInfo(def),this.si[name]=t}return t}ci(e){const name=e.command;if(null===name)return null;let t=this.oi[name];if(void 0===t){if(null==(t=this.ri.create(BindingCommandResource,name)))throw Reporter.error(0);this.oi[name]=t}return t}}class BindableInfo{constructor(e,mode){this.o=e,this.mode=mode}}class ElementInfo{constructor(name,containerless){this.name=name,this.containerless=containerless,this.bindables={}}}class AttrInfo{constructor(name,isTemplateController){this.name=name,this.bindables={},this.bindable=null,this.isTemplateController=isTemplateController,this.I=0}}(function(SymbolFlags){SymbolFlags[SymbolFlags.type=511]="type",SymbolFlags[SymbolFlags.isTemplateController=1]="isTemplateController",SymbolFlags[SymbolFlags.ui=2]="isReplacePart",SymbolFlags[SymbolFlags.di=4]="isCustomAttribute",SymbolFlags[SymbolFlags.hi=8]="isPlainAttribute",SymbolFlags[SymbolFlags.mi=16]="isCustomElement",SymbolFlags[SymbolFlags.pi=32]="isLetElement",SymbolFlags[SymbolFlags.fi=64]="isPlainElement",SymbolFlags[SymbolFlags.gi=128]="isText",SymbolFlags[SymbolFlags.Ci=256]="isBinding",SymbolFlags[SymbolFlags.Ti=512]="hasMarker",SymbolFlags[SymbolFlags.wi=1024]="hasTemplate",SymbolFlags[SymbolFlags.hasAttributes=2048]="hasAttributes",SymbolFlags[SymbolFlags.Pi=4096]="hasBindings",SymbolFlags[SymbolFlags.hasChildNodes=8192]="hasChildNodes",SymbolFlags[SymbolFlags.bi=16384]="hasParts"})(SymbolFlags||(SymbolFlags={}));class TemplateControllerSymbol{get Bi(){return null==this.Si&&(this.Si=[],this.flags|=4096),this.Si}get parts(){return null==this.xi&&(this.xi=[],this.flags|=16384),this.xi}constructor(dom,e,t,n){this.flags=513,this.res=t.name,this.Ai=n,this.yi=null,this.l=e,this.template=null,this.templateController=null,this.marker=createMarker(dom),this.Si=null,this.xi=null}}class ReplacePartSymbol{constructor(name){this.flags=2,this.name=name,this.yi=null,this.parent=null,this.template=null}}class CustomAttributeSymbol{get Bi(){return null==this.Si&&(this.Si=[],this.flags|=4096),this.Si}constructor(e,t){this.flags=4,this.res=t.name,this.l=e,this.Si=null}}class PlainAttributeSymbol{constructor(e,t,n){this.flags=8,this.l=e,this.command=t,this.ke=n}}class BindingSymbol{constructor(e,bindable,t,n,r){this.flags=256,this.command=e,this.bindable=bindable,this.ke=t,this.O=n,this.target=r}}class CustomElementSymbol{get attributes(){return null==this.Ri&&(this.Ri=[],this.flags|=2048),this.Ri}get Bi(){return null==this.Si&&(this.Si=[],this.flags|=4096),this.Si}get childNodes(){return null==this.ki&&(this.ki=[],this.flags|=8192),this.ki}get parts(){return null==this.xi&&(this.xi=[],this.flags|=16384),this.xi}constructor(dom,e,t){this.flags=16,this.res=t.name,this.yi=e,this.bindables=t.bindables,this.Ii=1,this.templateController=null,t.containerless?(this.Li=1,this.marker=createMarker(dom),this.flags|=512):(this.Li=0,this.marker=null),this.Ri=null,this.Si=null,this.ki=null,this.xi=null}}class LetElementSymbol{get Bi(){return null==this.Si&&(this.Si=[],this.flags|=4096),this.Si}constructor(dom,e){this.flags=544,this.yi=e,this.toViewModel=0,this.marker=createMarker(dom),this.Si=null}}class PlainElementSymbol{get attributes(){return null==this.Ri&&(this.Ri=[],this.flags|=2048),this.Ri}get childNodes(){return null==this.ki&&(this.ki=[],this.flags|=8192),this.ki}constructor(e){this.flags=64,this.yi=e,this.Ii=0,this.templateController=null,this.Ri=null,this.ki=null}}class TextSymbol{constructor(dom,e,t){this.flags=640,this.yi=e,this.vi=t,this.marker=createMarker(dom)}}export{Access,AtPrefixedTriggerAttributePattern,AtPrefixedTriggerAttributePatternRegistration,AttrInfo,AttrSyntax,BasicConfiguration,BindableInfo,BindingCommandResource,BindingSymbol,CallBindingCommand,CallBindingCommandRegistration,Char,ColonPrefixedBindAttributePattern,ColonPrefixedBindAttributePatternRegistration,CustomAttributeSymbol,CustomElementSymbol,DefaultBindingCommand,DefaultBindingCommandRegistration,DefaultBindingLanguage,DefaultBindingSyntax,DefaultComponents,DotSeparatedAttributePattern,DotSeparatedAttributePatternRegistration,ElementInfo,ForBindingCommand,ForBindingCommandRegistration,FromViewBindingCommand,FromViewBindingCommandRegistration,IAttributeParser,IAttributePattern,IExpressionParserRegistration,ISyntaxInterpreter,Interpretation,LetElementSymbol,OneTimeBindingCommand,OneTimeBindingCommandRegistration,ParserState,PlainAttributeSymbol,PlainElementSymbol,Precedence,RefAttributePattern,RefAttributePatternRegistration,ReplacePartSymbol,ResourceModel,ShortHandBindingSyntax,SymbolFlags,TemplateControllerSymbol,TextSymbol,ToViewBindingCommand,ToViewBindingCommandRegistration,TwoWayBindingCommand,TwoWayBindingCommandRegistration,attributePattern,bindingCommand,getMode,getTarget,parse,parseExpression};
