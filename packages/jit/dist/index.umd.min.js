(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@aurelia/kernel"),require("@aurelia/runtime")):"function"==typeof define&&define.amd?define(["exports","@aurelia/kernel","@aurelia/runtime"],e):e((t=t||self).jit={},t.kernel,t.runtime)})(this,function(t,kernel,runtime){"use strict";function attributePattern(...t){return function(e){const s=e.prototype;return(function(t,e){for(const def of e)def.pattern in t?"function"!=typeof t[def.pattern]&&kernel.Reporter.write(402,def):kernel.Reporter.write(401,def)})(s,t),s.t=t,e.register=function(t){return kernel.Registration.singleton(IAttributePattern,e).register(t,IAttributePattern)},e}}function e(t){const e=BindingCommandResource.s(this.description.name);t.register(kernel.Registration.singleton(e,this))}function getTarget(t,e){return 256&t.flags?t.bindable.i:e?kernel.PLATFORM.o(t.l.target):t.l.target}function getMode(t){return 256&t.flags?t.bindable.mode:R[t.l.command]}function s(t){switch(t){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return t}}function parseExpression(t,e){return $state.input=t,$state.length=t.length,$state.index=0,$state.u=t.charCodeAt(0),n($state,0,61,void 0===e?53:e)}function n(t,e,c,l){if(0===t.index){if(2048&l)return(function(t){const parts=[],e=[],r=t.length;let c="";for(;r>t.index;){switch(t.u){case 36:if(123===t.input.charCodeAt(t.index+1)){parts.push(c),c="",t.index+=2,t.u=t.input.charCodeAt(t.index),i(t);const s=n(t,0,61,2048);e.push(s);continue}c+="$";break;case 92:c+=String.fromCharCode(s(o(t)));break;default:c+=String.fromCharCode(t.u)}o(t)}return e.length?(parts.push(c),new runtime.Interpolation(parts,e)):null})(t);if(i(t),1048576&t.h)throw kernel.Reporter.error(100,{state:t})}t.p=448>c;let a=void 0;if(32768&t.h){const s=N[63&t.h];i(t),a=new runtime.Unary(s,n(t,e,449,l)),t.p=0}else{t:switch(t.h){case 3077:t.p=0;do{if(i(t),e++,!u(t,16392)){if(524288&t.h){const t=511&e;a=0===t?I:1===t?q:new runtime.AccessThis(t),e=512;break t}throw kernel.Reporter.error(103,{state:t})}if(16392===t.h)throw kernel.Reporter.error(102,{state:t});if(1572864===t.h)throw kernel.Reporter.error(105,{state:t})}while(3077===t.h);case 1024:512&l?a=new runtime.BindingIdentifier(t.m):(a=new runtime.AccessScope(t.m,511&e),e=1024),t.p=1,i(t);break;case 3076:t.p=0,i(t),a=I,e=512;break;case 671750:i(t),a=n(t,0,62,l),h(t,1835018),e=0;break;case 671756:a=(function(t,e,s){i(t);const r=[];for(;1835021!==t.h;)if(u(t,1572875)){if(r.push(B),1835021===t.h)break}else{if(r.push(n(t,e,62,-513&s)),!u(t,1572875))break;if(1835021===t.h)break}return h(t,1835021),512&s?new runtime.ArrayBindingPattern(r):(t.p=0,new runtime.ArrayLiteral(r))})(t,e,l),e=0;break;case 131079:a=(function(t,e){const s=[],r=[];for(i(t);1835017!==t.h;){if(s.push(t.m),12288&t.h)i(t),h(t,1572878),r.push(n(t,0,62,-513&e));else{if(!(3072&t.h))throw kernel.Reporter.error(107,{state:t});{const{u:s,h:o,index:c}=t;i(t),u(t,1572878)?r.push(n(t,0,62,-513&e)):(t.u=s,t.h=o,t.index=c,r.push(n(t,0,450,-513&e)))}}1835017!==t.h&&h(t,1572875)}return h(t,1835017),512&e?new runtime.ObjectBindingPattern(s,r):(t.p=0,new runtime.ObjectLiteral(s,r))})(t,l),e=0;break;case 540713:a=new runtime.Template([t.m]),t.p=0,i(t),e=0;break;case 540714:a=r(t,e,l,a,0),e=0;break;case 4096:case 8192:a=new runtime.PrimitiveLiteral(t.m),t.p=0,i(t),e=0;break;case 2050:case 2051:case 2049:case 2048:a=N[63&t.h],t.p=0,i(t),e=0;break;default:throw kernel.Reporter.error(t.length>t.index?101:104,{state:t})}if(512&l)return(function(t,e){if(0==(65536&e.g))throw kernel.Reporter.error(106,{state:t});if(1051179!==t.h)throw kernel.Reporter.error(106,{state:t});i(t);const s=e,r=n(t,0,61,0);return new runtime.ForOfStatement(s,r)})(t,a);if(c>449)return a;let name=t.m;for(;(16384&t.h)>0;)switch(t.h){case 16392:if(t.p=1,i(t),0==(3072&t.h))throw kernel.Reporter.error(105,{state:t});if(name=t.m,i(t),e=(1536&e)<<1|2048&e|(4096&e)>>1,671750===t.h){0===e&&(e=2048);continue}a=1024&e?new runtime.AccessScope(name,a.T):new runtime.AccessMember(a,name);continue;case 671756:t.p=1,i(t),e=4096,a=new runtime.AccessKeyed(a,n(t,0,62,l)),h(t,1835021);break;case 671750:t.p=0,i(t);const s=[];for(;1835018!==t.h&&(s.push(n(t,0,62,l)),u(t,1572875)););h(t,1835018),a=1024&e?new runtime.CallScope(name,s,a.T):2048&e?new runtime.CallMember(a,name,s):new runtime.CallFunction(a,s),e=0;break;case 540713:t.p=0;const o=[t.m];a=new runtime.TaggedTemplate(o,o,a),i(t);break;case 540714:a=r(t,e,l,a,1)}}if(c>448)return a;for(;(65536&t.h)>0;){const s=t.h;if(c>=(448&s))break;i(t),a=new runtime.Binary(N[63&s],a,n(t,e,448&s,l)),t.p=0}if(c>63)return a;if(u(t,1572879)){const s=n(t,e,62,l);h(t,1572878),a=new runtime.Conditional(a,s,n(t,e,62,l)),t.p=0}if(c>62)return a;if(u(t,1048615)){if(!t.p)throw kernel.Reporter.error(150,{state:t});a=new runtime.Assign(a,n(t,e,62,l))}if(c>61)return a;for(;u(t,1572883);){if(1572864===t.h)throw kernel.Reporter.error(112);const name=t.m;i(t);const s=[];for(;u(t,1572878);)s.push(n(t,e,62,l));a=new runtime.ValueConverter(a,name,s)}for(;u(t,1572880);){if(1572864===t.h)throw kernel.Reporter.error(113);const name=t.m;i(t);const s=[];for(;u(t,1572878);)s.push(n(t,e,62,l));a=new runtime.BindingBehavior(a,name,s)}if(1572864!==t.h){if(2048&l)return a;if("of"===t.k)throw kernel.Reporter.error(151,{state:t});throw kernel.Reporter.error(101,{state:t})}return a}function r(t,e,s,r,o){const c=[t.m];h(t,540714);const l=[n(t,e,62,s)];for(;540713!==(t.h=a(t));)c.push(t.m),h(t,540714),l.push(n(t,e,62,s));return c.push(t.m),t.p=0,o?(i(t),new runtime.TaggedTemplate(c,c,r,l)):(i(t),new runtime.Template(c,l))}function i(t){for(;t.length>t.index;)if(t.A=t.index,null!==(t.h=Q[t.u](t)))return;t.h=1572864}function o(t){return t.u=t.input.charCodeAt(++t.index)}function c(t,e){let s=t.u;if(0==e){do{s=o(t)}while(57>=s&&s>=48);if(46!==s)return t.m=parseInt(t.k,10),8192;if(s=o(t),t.index>=t.length)return t.m=parseInt(t.k.slice(0,-1),10),8192}if(s>57||48>s)t.u=t.input.charCodeAt(--t.index);else do{s=o(t)}while(57>=s&&s>=48);return t.m=parseFloat(t.k),8192}function l(t){let e=1,n="";for(;96!==o(t);)if(36===t.u){if(t.length>t.index+1&&123===t.input.charCodeAt(t.index+1)){t.index++,e=0;break}n+="$"}else if(92===t.u)n+=String.fromCharCode(s(o(t)));else{if(t.index>=t.length)throw kernel.Reporter.error(109,{state:t});n+=String.fromCharCode(t.u)}return o(t),t.m=n,e?540713:540714}function a(t){if(t.index>=t.length)throw kernel.Reporter.error(109,{state:t});return t.index--,l(t)}function u(t,e){return t.h===e?(i(t),1):0}function h(t,e){if(t.h!==e)throw kernel.Reporter.error(110,{state:t,L:e});i(t)}function f(t,e,s,value){const n=s.length;for(let r=0;n>r;r+=2){const n=s[r];let i=s[r+1];if(i=i>0?i:n+1,t&&t.fill(value,n,i),e)for(let t=n;i>t;t++)e.add(t)}}function p(t){return e=>(o(e),t)}function w(dom){const t=dom.createElement("au-m");return dom.P(t),t}var d,m,b,g,T,k,SymbolFlags;class AttrSyntax{constructor(t,e,s,n){this.U=t,this.v=e,this.target=s,this.command=n}}class A{constructor(t,e,s,n){if(this.C=t,this.repeat=e,this.R=s,this.O=n,n)switch(t.length){case 0:this.has=this.S;break;case 1:this.has=this.B;break;default:this.has=this.I}else switch(t.length){case 0:this.has=this.q;break;case 1:this.has=this.N;break;default:this.has=this.M}}F(t){return this.C===t.C&&this.repeat===t.repeat&&this.R===t.R&&this.O===t.O}M(t){return-1!==this.C.indexOf(t)}N(t){return this.C===t}q(t){return 0}I(t){return-1===this.C.indexOf(t)}B(t){return this.C!==t}S(t){return 1}}class Interpretation{get pattern(){const value=this.K;return""===value?null:value}set pattern(value){null===value?(this.K="",this.parts=kernel.PLATFORM.D):(this.K=value,this.parts=this.$[value])}constructor(){this.K="",this.parts=kernel.PLATFORM.D,this.V={},this.$={}}append(t,e){const{V:s}=this;void 0===s[t]?s[t]=e:s[t]+=e}next(t){const{V:e}=this;if(void 0!==e[t]){const{$:s}=this;void 0===s[t]?s[t]=[e[t]]:s[t].push(e[t]),e[t]=void 0}}}class State{get pattern(){return this.G?this.j[0]:null}constructor(t,...e){this.H=t,this.Z=[],this.types=null,this.j=e,this.G=0}J(t){const e=this.Z,s=e.length;let n=null;for(let r=0;s>r;++r)if(t.F((n=e[r]).H))return n;return null}append(t,e){const{j:s}=this;-1===s.indexOf(e)&&s.push(e);let n=this.J(t);return null===n&&(n=new State(t,e),this.Z.push(n),t.repeat&&n.Z.push(n)),n}W(t,e){const s=[],n=this.Z,r=n.length;let i=0,o=null,c=0,l=0;for(;r>c;++c)if((o=n[c]).H.has(t))if(s.push(o),i=o.j.length,l=0,o.H.R)for(;i>l;++l)e.next(o.j[l]);else for(;i>l;++l)e.append(o.j[l],t);return s}}class y{constructor(t){this.text=t;const e=this.X=t.length,s=this.Y=[];for(let n=0;e>n;++n)s.push(new A(t[n],0,0,0))}_(t){const{X:e,Y:s}=this;for(let n=0;e>n;++n)t(s[n])}}class L{constructor(t){this.text="PART",this.tt=new A(t,1,0,1)}_(t){t(this.tt)}}class P{constructor(t){this.text=t,this.tt=new A(t,0,1,0)}_(t){t(this.tt)}}class U{constructor(){this.et=0,this.st=0,this.symbols=0}}const ISyntaxInterpreter=kernel.DI.rt("ISyntaxInterpreter").nt(t=>t.singleton(v));class v{constructor(){this.it=new State(null),this.ot=[this.it]}add(t){let e=0;if(Array.isArray(t)){const s=t.length;for(;s>e;++e)this.add(t[e]);return}let s=this.it;const def=t,n=def.pattern,r=new U,i=this.parse(def,r),o=i.length,c=t=>{s=s.append(t,n)};for(e=0;o>e;++e)i[e]._(c);s.types=r,s.G=1}ct(name){const t=new Interpretation;let e=this.ot;const s=name.length;for(let n=0;s>n&&0!==(e=this.lt(e,name.charAt(n),t)).length;++n);if(e.sort((t,e)=>{if(!t.G)return e.G?1:0;if(!e.G)return-1;const s=t.types,n=e.types;return s.et!==n.et?n.et-s.et:s.st!==n.st?n.st-s.st:s.symbols!==n.symbols?n.symbols-s.symbols:0}),e.length>0){const s=e[0];s.H.R||t.next(s.pattern),t.pattern=s.pattern}return t}lt(t,e,s){const n=[];let r=null;const i=t.length;for(let o=0;i>o;++o)n.push(...(r=t[o]).W(e,s));return n}parse(def,t){const e=[],s=def.pattern,n=s.length;let r=0,i=0,o="";for(;n>r;)o=s.charAt(r),-1===def.symbols.indexOf(o)?r===i&&"P"===o&&"PART"===s.slice(r,r+4)?(i=r+=4,e.push(new L(def.symbols)),++t.st):++r:r!==i?(e.push(new y(s.slice(i,r))),++t.et,i=r):(e.push(new P(s.slice(i,r+1))),++t.symbols,i=++r);return i!==r&&(e.push(new y(s.slice(i,r))),++t.et),e}}const IAttributePattern=kernel.DI.rt("IAttributePattern").at();class DotSeparatedAttributePattern{ut(t,e,parts){return new AttrSyntax(t,e,parts[0],parts[1])}ht(t,e,parts){return new AttrSyntax(t,e,parts[0],parts[2])}}attributePattern({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})(DotSeparatedAttributePattern);class RefAttributePattern{ft(t,e,parts){return new AttrSyntax(t,e,"ref",null)}pt(t,e,parts){return new AttrSyntax(t,e,"ref",parts[1])}}attributePattern({pattern:"ref",symbols:""},{pattern:"ref.PART",symbols:"."})(RefAttributePattern);class ColonPrefixedBindAttributePattern{wt(t,e,parts){return new AttrSyntax(t,e,parts[0],"bind")}}attributePattern({pattern:":PART",symbols:":"})(ColonPrefixedBindAttributePattern);class AtPrefixedTriggerAttributePattern{dt(t,e,parts){return new AttrSyntax(t,e,parts[0],"trigger")}}attributePattern({pattern:"@PART",symbols:"@"})(AtPrefixedTriggerAttributePattern);const IAttributeParser=kernel.DI.rt("IAttributeParser").nt(t=>t.singleton(E));kernel.Profiler.bt("AttributeParser");class E{constructor(t,e){this.gt=t,this.cache={};const s=this.j={};e.forEach(e=>{const n=e.t;t.add(n),n.forEach(def=>{s[def.pattern]=e})})}parse(name,value){let t=this.cache[name];void 0===t&&(t=this.cache[name]=this.gt.ct(name));const e=t.pattern;return null===e?new AttrSyntax(name,value,name,null):this.j[e][e](name,value,t.parts)}}E.inject=[ISyntaxInterpreter,kernel.all(IAttributePattern)];const BindingCommandResource={name:"binding-command",s(name){return`${this.name}:${name}`},Tt(t){return t.kind===this},kt(t,s){const n=s,r=n,i="string"==typeof t?{name:t,target:null}:t;return r.kind=BindingCommandResource,r.description=i,n.register=e,n}};class OneTimeBindingCommand{constructor(){this.At=49}compile(t){return new runtime.OneTimeBindingInstruction(t.yt,getTarget(t,0))}}BindingCommandResource.kt("one-time",OneTimeBindingCommand);class ToViewBindingCommand{constructor(){this.At=50}compile(t){return new runtime.ToViewBindingInstruction(t.yt,getTarget(t,0))}}BindingCommandResource.kt("to-view",ToViewBindingCommand);class FromViewBindingCommand{constructor(){this.At=51}compile(t){return new runtime.FromViewBindingInstruction(t.yt,getTarget(t,0))}}BindingCommandResource.kt("from-view",FromViewBindingCommand);class TwoWayBindingCommand{constructor(){this.At=52}compile(t){return new runtime.TwoWayBindingInstruction(t.yt,getTarget(t,0))}}BindingCommandResource.kt("two-way",TwoWayBindingCommand);const C=["","$1","$2","","$4","","$6"],R={bind:runtime.BindingMode.Lt,Pt:runtime.BindingMode.oneTime,Ut:runtime.BindingMode.Lt,vt:runtime.BindingMode.Et,Ct:runtime.BindingMode.Rt};class DefaultBindingCommand{constructor(){this.At=53,this.$1=OneTimeBindingCommand.prototype.compile,this.$2=ToViewBindingCommand.prototype.compile,this.$4=FromViewBindingCommand.prototype.compile,this.$6=TwoWayBindingCommand.prototype.compile}compile(t){return this[C[getMode(t)]](t)}}BindingCommandResource.kt("bind",DefaultBindingCommand);class CallBindingCommand{constructor(){this.At=153}compile(t){return new runtime.CallBindingInstruction(t.yt,getTarget(t,1))}}BindingCommandResource.kt("call",CallBindingCommand);class ForBindingCommand{constructor(){this.At=539}compile(t){return new runtime.IteratorBindingInstruction(t.yt,getTarget(t,0))}}BindingCommandResource.kt("for",ForBindingCommand),(function(t){t[t.Ot=0]="Reset",t[t.St=511]="Ancestor",t[t.xt=512]="This",t[t.Scope=1024]="Scope",t[t.Bt=2048]="Member",t[t.It=4096]="Keyed"})(d||(d={})),(function(t){t[t.qt=61]="Variadic",t[t.Assign=62]="Assign",t[t.Conditional=63]="Conditional",t[t.Nt=64]="LogicalOR",t[t.Mt=128]="LogicalAND",t[t.Ft=192]="Equality",t[t.Kt=256]="Relational",t[t.Dt=320]="Additive",t[t.$t=384]="Multiplicative",t[t.Binary=448]="Binary",t[t.Qt=449]="LeftHandSide",t[t.Vt=450]="Primary",t[t.Unary=451]="Unary"})(m||(m={})),(function(t){t[t.Gt=1572864]="EOF",t[t.jt=1048576]="ExpressionTerminal",t[t.Ht=524288]="AccessScopeTerminal",t[t.Zt=262144]="ClosingToken",t[t.Jt=131072]="OpeningToken",t[t.Wt=65536]="BinaryOp",t[t.Xt=32768]="UnaryOp",t[t.Qt=16384]="LeftHandSide",t[t.Yt=12288]="StringOrNumericLiteral",t[t._t=8192]="NumericLiteral",t[t.zt=4096]="StringLiteral",t[t.te=3072]="IdentifierName",t[t.ee=2048]="Keyword",t[t.se=1024]="Identifier",t[t.ne=512]="Contextual",t[t.re=448]="Precedence",t[t.ie=63]="Type",t[t.oe=2048]="FalseKeyword",t[t.ce=2049]="TrueKeyword",t[t.le=2050]="NullKeyword",t[t.ae=2051]="UndefinedKeyword",t[t.ue=3076]="ThisScope",t[t.he=3077]="ParentScope",t[t.fe=671750]="OpenParen",t[t.pe=131079]="OpenBrace",t[t.we=16392]="Dot",t[t.de=1835017]="CloseBrace",t[t.me=1835018]="CloseParen",t[t.be=1572875]="Comma",t[t.ge=671756]="OpenBracket",t[t.Te=1835021]="CloseBracket",t[t.ke=1572878]="Colon",t[t.Ae=1572879]="Question",t[t.ye=1572880]="Ampersand",t[t.Le=1572883]="Bar",t[t.Pe=1638548]="BarBar",t[t.Ue=1638613]="AmpersandAmpersand",t[t.ve=1638678]="EqualsEquals",t[t.Ee=1638679]="ExclamationEquals",t[t.Ce=1638680]="EqualsEqualsEquals",t[t.Re=1638681]="ExclamationEqualsEquals",t[t.Oe=1638746]="LessThan",t[t.Se=1638747]="GreaterThan",t[t.xe=1638748]="LessThanEquals",t[t.Be=1638749]="GreaterThanEquals",t[t.Ie=1640798]="InKeyword",t[t.qe=1640799]="InstanceOfKeyword",t[t.Ne=623008]="Plus",t[t.Me=623009]="Minus",t[t.Fe=34850]="TypeofKeyword",t[t.Ke=34851]="VoidKeyword",t[t.De=1638884]="Asterisk",t[t.$e=1638885]="Percent",t[t.Qe=1638886]="Slash",t[t.Ve=1048615]="Equals",t[t.Ge=32808]="Exclamation",t[t.je=540713]="TemplateTail",t[t.He=540714]="TemplateContinuation",t[t.Ze=1051179]="OfKeyword"})(b||(b={})),(function(t){t[t.Je=0]="Null",t[t.We=8]="Backspace",t[t.Xe=9]="Tab",t[t.Ye=10]="LineFeed",t[t._e=11]="VerticalTab",t[t.ze=12]="FormFeed",t[t.ts=13]="CarriageReturn",t[t.es=32]="Space",t[t.Ge=33]="Exclamation",t[t.ss=34]="DoubleQuote",t[t.ns=36]="Dollar",t[t.$e=37]="Percent",t[t.ye=38]="Ampersand",t[t.rs=39]="SingleQuote",t[t.fe=40]="OpenParen",t[t.me=41]="CloseParen",t[t.De=42]="Asterisk",t[t.Ne=43]="Plus",t[t.be=44]="Comma",t[t.Me=45]="Minus",t[t.we=46]="Dot",t[t.Qe=47]="Slash",t[t.os=59]="Semicolon",t[t.cs=96]="Backtick",t[t.ge=91]="OpenBracket",t[t.ls=92]="Backslash",t[t.Te=93]="CloseBracket",t[t.as=94]="Caret",t[t.us=95]="Underscore",t[t.pe=123]="OpenBrace",t[t.Le=124]="Bar",t[t.de=125]="CloseBrace",t[t.ke=58]="Colon",t[t.Oe=60]="LessThan",t[t.Ve=61]="Equals",t[t.Se=62]="GreaterThan",t[t.Ae=63]="Question",t[t.hs=48]="Zero",t[t.fs=49]="One",t[t.ps=50]="Two",t[t.ws=51]="Three",t[t.ds=52]="Four",t[t.ms=53]="Five",t[t.bs=54]="Six",t[t.gs=55]="Seven",t[t.Ts=56]="Eight",t[t.ks=57]="Nine",t[t.As=65]="UpperA",t[t.ys=66]="UpperB",t[t.Ls=67]="UpperC",t[t.Ps=68]="UpperD",t[t.Us=69]="UpperE",t[t.vs=70]="UpperF",t[t.Es=71]="UpperG",t[t.Cs=72]="UpperH",t[t.Rs=73]="UpperI",t[t.Os=74]="UpperJ",t[t.Ss=75]="UpperK",t[t.xs=76]="UpperL",t[t.Bs=77]="UpperM",t[t.Is=78]="UpperN",t[t.qs=79]="UpperO",t[t.Ns=80]="UpperP",t[t.Ms=81]="UpperQ",t[t.Fs=82]="UpperR",t[t.Ks=83]="UpperS",t[t.Ds=84]="UpperT",t[t.$s=85]="UpperU",t[t.Qs=86]="UpperV",t[t.Vs=87]="UpperW",t[t.Gs=88]="UpperX",t[t.js=89]="UpperY",t[t.Hs=90]="UpperZ",t[t.Zs=97]="LowerA",t[t.Js=98]="LowerB",t[t.Ws=99]="LowerC",t[t.Xs=100]="LowerD",t[t.Ys=101]="LowerE",t[t._s=102]="LowerF",t[t.zs=103]="LowerG",t[t.tn=104]="LowerH",t[t.en=105]="LowerI",t[t.sn=106]="LowerJ",t[t.nn=107]="LowerK",t[t.rn=108]="LowerL",t[t.in=109]="LowerM",t[t.on=110]="LowerN",t[t.cn=111]="LowerO",t[t.ln=112]="LowerP",t[t.an=113]="LowerQ",t[t.un=114]="LowerR",t[t.hn=115]="LowerS",t[t.fn=116]="LowerT",t[t.pn=117]="LowerU",t[t.wn=118]="LowerV",t[t.dn=119]="LowerW",t[t.mn=120]="LowerX",t[t.bn=121]="LowerY",t[t.gn=122]="LowerZ"})(g||(g={})),kernel.Profiler.bt("ExpressionParser");const O=runtime.PrimitiveLiteral.Tn,S=runtime.PrimitiveLiteral.kn,x=runtime.PrimitiveLiteral.An,B=runtime.PrimitiveLiteral.yn,I=runtime.AccessThis.Ln,q=runtime.AccessThis.Pn,$state=new class{get k(){return this.input.slice(this.A,this.index)}constructor(t){this.index=0,this.A=0,this.lastIndex=0,this.input=t,this.length=t.length,this.h=1572864,this.m="",this.u=t.charCodeAt(0),this.p=1}}("");(function(t){t[t.Un=100]="InvalidExpressionStart",t[t.vn=101]="UnconsumedToken",t[t.En=102]="DoubleDot",t[t.Cn=103]="InvalidMemberExpression",t[t.Rn=104]="UnexpectedEndOfExpression",t[t.On=105]="ExpectedIdentifier",t[t.Sn=106]="InvalidForDeclaration",t[t.xn=107]="InvalidObjectLiteralPropertyDefinition",t[t.Bn=108]="UnterminatedQuote",t[t.In=109]="UnterminatedTemplate",t[t.qn=110]="MissingExpectedToken",t[t.Nn=111]="UnexpectedCharacter",t[t.Mn=112]="MissingValueConverter",t[t.Fn=113]="MissingBindingBehavior"})(T||(T={})),(function(t){t[t.Kn=150]="NotAssignable",t[t.Dn=151]="UnexpectedForOf"})(k||(k={}));const N=[O,S,x,B,"$this","$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",540713,540714,"of"],M=Object.create(null);M.true=2049,M.null=2050,M.false=2048,M.undefined=2051,M.Ln=3076,M.Pn=3077,M.$n=1640798,M.Qn=1640799,M.Vn=34850,M.Gn=34851,M.of=1051179;const F=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],K=[48,58],D=t=>{throw kernel.Reporter.error(111,{state:t})};D.jn=1,f(null,new Set,[36,0,48,58,65,91,95,0,97,123],1);const $=new Uint8Array(65535);f($,null,F,1),f($,null,K,1);const Q=Array(65535);Q.fill(D,0,65535),f(Q,null,[0,33,127,161],t=>(o(t),null)),f(Q,null,F,function(t){for(;$[o(t)];);const e=M[t.m=t.k];return void 0===e?1024:e}),f(Q,null,K,t=>c(t,0)),Q[34]=Q[39]=(t=>(function(t){const e=t.u;o(t);let n=0;const r=[];let i=t.index;for(;t.u!==e;)if(92===t.u)r.push(t.input.slice(i,t.index)),o(t),n=s(t.u),o(t),r.push(String.fromCharCode(n)),i=t.index;else{if(t.index>=t.length)throw kernel.Reporter.error(108,{state:t});o(t)}const c=t.input.slice(i,t.index);o(t),r.push(c);const l=r.join("");return t.m=l,4096})(t)),Q[96]=(t=>l(t)),Q[33]=(t=>61!==o(t)?32808:61!==o(t)?1638679:(o(t),1638681)),Q[61]=(t=>61!==o(t)?1048615:61!==o(t)?1638678:(o(t),1638680)),Q[38]=(t=>38!==o(t)?1572880:(o(t),1638613)),Q[124]=(t=>124!==o(t)?1572883:(o(t),1638548)),Q[46]=(t=>o(t)>57||48>t.u?16392:c(t,1)),Q[60]=(t=>61!==o(t)?1638746:(o(t),1638748)),Q[62]=(t=>61!==o(t)?1638747:(o(t),1638749)),Q[37]=p(1638885),Q[40]=p(671750),Q[41]=p(1835018),Q[42]=p(1638884),Q[43]=p(623008),Q[44]=p(1572875),Q[45]=p(623009),Q[47]=p(1638886),Q[58]=p(1572878),Q[63]=p(1572879),Q[91]=p(671756),Q[93]=p(1835021),Q[123]=p(131079),Q[125]=p(1835017);const IExpressionParserRegistration={register(t){t.Hn(runtime.IExpressionParser,t=>(t.Zn=parseExpression,t))}},DefaultComponents=[IExpressionParserRegistration],AtPrefixedTriggerAttributePatternRegistration=AtPrefixedTriggerAttributePattern,ColonPrefixedBindAttributePatternRegistration=ColonPrefixedBindAttributePattern,RefAttributePatternRegistration=RefAttributePattern,DotSeparatedAttributePatternRegistration=DotSeparatedAttributePattern,DefaultBindingSyntax=[RefAttributePatternRegistration,DotSeparatedAttributePatternRegistration],ShortHandBindingSyntax=[AtPrefixedTriggerAttributePatternRegistration,ColonPrefixedBindAttributePatternRegistration],CallBindingCommandRegistration=CallBindingCommand,DefaultBindingCommandRegistration=DefaultBindingCommand,ForBindingCommandRegistration=ForBindingCommand,FromViewBindingCommandRegistration=FromViewBindingCommand,OneTimeBindingCommandRegistration=OneTimeBindingCommand,ToViewBindingCommandRegistration=ToViewBindingCommand,TwoWayBindingCommandRegistration=TwoWayBindingCommand,DefaultBindingLanguage=[DefaultBindingCommandRegistration,OneTimeBindingCommandRegistration,FromViewBindingCommandRegistration,ToViewBindingCommandRegistration,TwoWayBindingCommandRegistration,CallBindingCommandRegistration,ForBindingCommandRegistration],BasicConfiguration={register:t=>runtime.RuntimeBasicConfiguration.register(t).register(...DefaultComponents,...DefaultBindingSyntax,...DefaultBindingLanguage),Jn(){return this.register(kernel.DI.Jn())}};class BindableInfo{constructor(t,mode){this.i=t,this.mode=mode}}class ElementInfo{constructor(name,containerless){this.name=name,this.containerless=containerless,this.bindables={}}}class AttrInfo{constructor(name,isTemplateController){this.name=name,this.bindables={},this.bindable=null,this.isTemplateController=isTemplateController,this.Wn=0}}(SymbolFlags=t.SymbolFlags||(t.SymbolFlags={}))[SymbolFlags.type=511]="type",SymbolFlags[SymbolFlags.isTemplateController=1]="isTemplateController",SymbolFlags[SymbolFlags.Xn=2]="isReplacePart",SymbolFlags[SymbolFlags.Yn=4]="isCustomAttribute",SymbolFlags[SymbolFlags._n=8]="isPlainAttribute",SymbolFlags[SymbolFlags.zn=16]="isCustomElement",SymbolFlags[SymbolFlags.tr=32]="isLetElement",SymbolFlags[SymbolFlags.er=64]="isPlainElement",SymbolFlags[SymbolFlags.sr=128]="isText",SymbolFlags[SymbolFlags.nr=256]="isBinding",SymbolFlags[SymbolFlags.rr=512]="hasMarker",SymbolFlags[SymbolFlags.ir=1024]="hasTemplate",SymbolFlags[SymbolFlags.hasAttributes=2048]="hasAttributes",SymbolFlags[SymbolFlags.or=4096]="hasBindings",SymbolFlags[SymbolFlags.hasChildNodes=8192]="hasChildNodes",SymbolFlags[SymbolFlags.cr=16384]="hasParts",t.AtPrefixedTriggerAttributePattern=AtPrefixedTriggerAttributePattern,t.AtPrefixedTriggerAttributePatternRegistration=AtPrefixedTriggerAttributePatternRegistration,t.AttrInfo=AttrInfo,t.AttrSyntax=AttrSyntax,t.BasicConfiguration=BasicConfiguration,t.BindableInfo=BindableInfo,t.BindingCommandResource=BindingCommandResource,t.BindingSymbol=class{constructor(t,bindable,e,s,n){this.flags=256,this.command=t,this.bindable=bindable,this.yt=e,this.v=s,this.target=n}},t.CallBindingCommand=CallBindingCommand,t.CallBindingCommandRegistration=CallBindingCommandRegistration,t.ColonPrefixedBindAttributePattern=ColonPrefixedBindAttributePattern,t.ColonPrefixedBindAttributePatternRegistration=ColonPrefixedBindAttributePatternRegistration,t.CustomAttributeSymbol=class{get lr(){return null===this.ar&&(this.ar=[],this.flags|=4096),this.ar}constructor(t,e){this.flags=4,this.res=e.name,this.l=t,this.ar=null}},t.CustomElementSymbol=class{get attributes(){return null===this.ur&&(this.ur=[],this.flags|=2048),this.ur}get lr(){return null===this.ar&&(this.ar=[],this.flags|=4096),this.ar}get childNodes(){return null===this.hr&&(this.hr=[],this.flags|=8192),this.hr}get parts(){return null===this.pr&&(this.pr=[],this.flags|=16384),this.pr}constructor(dom,t,e){this.flags=16,this.res=e.name,this.wr=t,this.bindables=e.bindables,this.dr=1,this.templateController=null,e.containerless?(this.mr=1,this.marker=w(dom),this.flags|=512):(this.mr=0,this.marker=null),this.ur=null,this.ar=null,this.hr=null,this.pr=null}},t.DefaultBindingCommand=DefaultBindingCommand,t.DefaultBindingCommandRegistration=DefaultBindingCommandRegistration,t.DefaultBindingLanguage=DefaultBindingLanguage,t.DefaultBindingSyntax=DefaultBindingSyntax,t.DefaultComponents=DefaultComponents,t.DotSeparatedAttributePattern=DotSeparatedAttributePattern,t.DotSeparatedAttributePatternRegistration=DotSeparatedAttributePatternRegistration,t.ElementInfo=ElementInfo,t.ForBindingCommand=ForBindingCommand,t.ForBindingCommandRegistration=ForBindingCommandRegistration,t.FromViewBindingCommand=FromViewBindingCommand,t.FromViewBindingCommandRegistration=FromViewBindingCommandRegistration,t.IAttributeParser=IAttributeParser,t.IAttributePattern=IAttributePattern,t.IExpressionParserRegistration=IExpressionParserRegistration,t.ISyntaxInterpreter=ISyntaxInterpreter,t.Interpretation=Interpretation,t.LetElementSymbol=class{get lr(){return null===this.ar&&(this.ar=[],this.flags|=4096),this.ar}constructor(dom,t){this.flags=544,this.wr=t,this.toViewModel=0,this.marker=w(dom),this.ar=null}},t.OneTimeBindingCommand=OneTimeBindingCommand,t.OneTimeBindingCommandRegistration=OneTimeBindingCommandRegistration,t.PlainAttributeSymbol=class{constructor(t,e,s){this.flags=8,this.l=t,this.command=e,this.yt=s}},t.PlainElementSymbol=class{get attributes(){return null===this.ur&&(this.ur=[],this.flags|=2048),this.ur}get childNodes(){return null===this.hr&&(this.hr=[],this.flags|=8192),this.hr}constructor(t){this.flags=64,this.wr=t,this.dr=0,this.templateController=null,this.ur=null,this.hr=null}},t.RefAttributePattern=RefAttributePattern,t.RefAttributePatternRegistration=RefAttributePatternRegistration,t.ReplacePartSymbol=class{constructor(name){this.flags=2,this.name=name,this.wr=null,this.parent=null,this.template=null}},t.ResourceModel=class{constructor(t){this.br=t,this.gr={},this.Tr={},this.kr={}}Ar(name){let t=this.gr[name];if(void 0===t){const def=this.br.find(runtime.CustomElementResource,name);t=null===def?null:(function(def){const t=new ElementInfo(def.name,def.containerless),bindables=def.bindables,defaultBindingMode=runtime.BindingMode.Lt;let bindable,e,s,mode;for(e in bindables)void 0!==(bindable=bindables[e]).yr&&(e=bindable.yr),s=void 0!==bindable.Lr?bindable.Lr:kernel.PLATFORM.Pr(e),t.bindables[s]=new BindableInfo(e,mode=void 0!==bindable.mode&&bindable.mode!==runtime.BindingMode.default?bindable.mode:defaultBindingMode);return t})(def),this.gr[name]=t}return t}Ur(t){const name=kernel.PLATFORM.o(t.target);let e=this.Tr[name];if(void 0===e){const def=this.br.find(runtime.CustomAttributeResource,name);e=null===def?null:(function(def){const t=new AttrInfo(def.name,def.isTemplateController),bindables=def.bindables,defaultBindingMode=void 0!==def.defaultBindingMode&&def.defaultBindingMode!==runtime.BindingMode.default?def.defaultBindingMode:runtime.BindingMode.Lt;let bindable,e,mode,s=0;for(e in bindables)++s,void 0!==(bindable=bindables[e]).yr&&(e=bindable.yr),t.bindables[e]=new BindableInfo(e,mode=void 0!==bindable.mode&&bindable.mode!==runtime.BindingMode.default?bindable.mode:defaultBindingMode),null===t.bindable&&(t.bindable=t.bindables[e]);return null===t.bindable&&(t.bindable=new BindableInfo("value",defaultBindingMode)),(def.Wn||s>1)&&(t.Wn=1),t})(def),this.Tr[name]=e}return e}vr(t){const name=t.command;if(null===name)return null;let e=this.kr[name];if(void 0===e){if(null===(e=this.br.create(BindingCommandResource,name)))throw kernel.Reporter.error(0);this.kr[name]=e}return e}},t.ShortHandBindingSyntax=ShortHandBindingSyntax,t.TemplateControllerSymbol=class{get lr(){return null===this.ar&&(this.ar=[],this.flags|=4096),this.ar}constructor(dom,t,e,s){this.flags=513,this.res=e.name,this.Er=s,this.wr=null,this.l=t,this.template=null,this.templateController=null,this.marker=w(dom),this.ar=null}},t.TextSymbol=class{constructor(dom,t,e){this.flags=640,this.wr=t,this.Cr=e,this.marker=w(dom)}},t.ToViewBindingCommand=ToViewBindingCommand,t.ToViewBindingCommandRegistration=ToViewBindingCommandRegistration,t.TwoWayBindingCommand=TwoWayBindingCommand,t.TwoWayBindingCommandRegistration=TwoWayBindingCommandRegistration,t.attributePattern=attributePattern,t.bindingCommand=function(t){return e=>BindingCommandResource.kt(t,e)},t.getMode=getMode,t.getTarget=getTarget,t.parseExpression=parseExpression,Object.defineProperty(t,"Rr",{value:1})});
