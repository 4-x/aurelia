(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@aurelia/kernel"),require("@aurelia/runtime")):"function"==typeof define&&define.amd?define(["exports","@aurelia/kernel","@aurelia/runtime"],e):e((t=t||self).jit={},t.kernel,t.runtime)})(this,function(t,kernel,runtime){"use strict";function attributePattern(...t){return function(e){const s=e.prototype;return(function(t,e){for(const def of e)def.pattern in t?"function"!=typeof t[def.pattern]&&kernel.Reporter.write(402,def.pattern):kernel.Reporter.write(401,def.pattern)})(s,t),s.t=t,e.register=function(t){return kernel.Registration.singleton(IAttributePattern,e).register(t,IAttributePattern)},e}}function e(t){const e=BindingCommandResource.s(this.description.name);t.register(kernel.Registration.singleton(e,this))}function getTarget(t,e){return 256&t.flags?t.bindable.i:e?kernel.camelCase(t.o.target):t.o.target}function getMode(t){return 256&t.flags?t.bindable.mode:C[t.o.command]}function s(t){switch(t){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return t}}function parseExpression(t,e){return $state.input=t,$state.length=t.length,$state.index=0,$state.l=t.charCodeAt(0),parse($state,0,61,void 0===e?53:e)}function parse(t,e,o,l){if(kernel.Profiler.enabled&&R(),0===t.index){if(2048&l)return kernel.Profiler.enabled&&O(),(function(t){const parts=[],e=[],n=t.length;let o="";for(;n>t.index;){switch(t.l){case 36:if(123===t.input.charCodeAt(t.index+1)){parts.push(o),o="",t.index+=2,t.l=t.input.charCodeAt(t.index),r(t);const s=parse(t,0,61,2048);e.push(s);continue}o+="$";break;case 92:o+=String.fromCharCode(s(i(t)));break;default:o+=String.fromCharCode(t.l)}i(t)}return e.length?(parts.push(o),new runtime.Interpolation(parts,e)):null})(t);if(r(t),1048576&t.u)throw kernel.Profiler.enabled&&O(),kernel.Reporter.error(100,{state:t})}t.p=448>o;let c=void 0;if(32768&t.u){const s=M[63&t.u];r(t),c=new runtime.Unary(s,parse(t,e,449,l)),t.p=0}else{t:switch(t.u){case 3077:t.p=0;do{if(r(t),e++,!a(t,16392)){if(524288&t.u){const t=511&e;c=0===t?q:1===t?N:new runtime.AccessThis(t),e=512;break t}throw kernel.Profiler.enabled&&O(),kernel.Reporter.error(103,{state:t})}if(16392===t.u)throw kernel.Profiler.enabled&&O(),kernel.Reporter.error(102,{state:t});if(1572864===t.u)throw kernel.Profiler.enabled&&O(),kernel.Reporter.error(105,{state:t})}while(3077===t.u);case 1024:512&l?c=new runtime.BindingIdentifier(t.m):(c=new runtime.AccessScope(t.m,511&e),e=1024),t.p=1,r(t);break;case 3076:t.p=0,r(t),c=q,e=512;break;case 671750:r(t),c=parse(t,0,62,l),u(t,1835018),e=0;break;case 671756:c=(function(t,e,s){r(t);const n=[];for(;1835021!==t.u;)if(a(t,1572875)){if(n.push(I),1835021===t.u)break}else{if(n.push(parse(t,e,62,-513&s)),!a(t,1572875))break;if(1835021===t.u)break}return u(t,1835021),512&s?new runtime.ArrayBindingPattern(n):(t.p=0,new runtime.ArrayLiteral(n))})(t,e,l),e=0;break;case 131079:c=(function(t,e){const s=[],n=[];for(r(t);1835017!==t.u;){if(s.push(t.m),12288&t.u)r(t),u(t,1572878),n.push(parse(t,0,62,-513&e));else{if(!(3072&t.u))throw kernel.Reporter.error(107,{state:t});{const{l:s,u:i,index:o}=t;r(t),a(t,1572878)?n.push(parse(t,0,62,-513&e)):(t.l=s,t.u=i,t.index=o,n.push(parse(t,0,450,-513&e)))}}1835017!==t.u&&u(t,1572875)}return u(t,1835017),512&e?new runtime.ObjectBindingPattern(s,n):(t.p=0,new runtime.ObjectLiteral(s,n))})(t,l),e=0;break;case 540713:c=new runtime.Template([t.m]),t.p=0,r(t),e=0;break;case 540714:c=n(t,e,l,c,0),e=0;break;case 4096:case 8192:c=new runtime.PrimitiveLiteral(t.m),t.p=0,r(t),e=0;break;case 2050:case 2051:case 2049:case 2048:c=M[63&t.u],t.p=0,r(t),e=0;break;default:throw t.length>t.index?(kernel.Profiler.enabled&&O(),kernel.Reporter.error(101,{state:t})):(kernel.Profiler.enabled&&O(),kernel.Reporter.error(104,{state:t}))}if(512&l)return kernel.Profiler.enabled&&O(),(function(t,e){if(0==(65536&e.g))throw kernel.Reporter.error(106,{state:t});if(1051179!==t.u)throw kernel.Reporter.error(106,{state:t});r(t);const s=e,n=parse(t,0,61,0);return new runtime.ForOfStatement(s,n)})(t,c);if(o>449)return kernel.Profiler.enabled&&O(),c;let name=t.m;for(;(16384&t.u)>0;)switch(t.u){case 16392:if(t.p=1,r(t),0==(3072&t.u))throw kernel.Profiler.enabled&&O(),kernel.Reporter.error(105,{state:t});if(name=t.m,r(t),e=(1536&e)<<1|2048&e|(4096&e)>>1,671750===t.u){0===e&&(e=2048);continue}c=1024&e?new runtime.AccessScope(name,c.T):new runtime.AccessMember(c,name);continue;case 671756:t.p=1,r(t),e=4096,c=new runtime.AccessKeyed(c,parse(t,0,62,l)),u(t,1835021);break;case 671750:t.p=0,r(t);const s=[];for(;1835018!==t.u&&(s.push(parse(t,0,62,l)),a(t,1572875)););u(t,1835018),c=1024&e?new runtime.CallScope(name,s,c.T):2048&e?new runtime.CallMember(c,name,s):new runtime.CallFunction(c,s),e=0;break;case 540713:t.p=0;const i=[t.m];c=new runtime.TaggedTemplate(i,i,c),r(t);break;case 540714:c=n(t,e,l,c,1)}}if(o>448)return kernel.Profiler.enabled&&O(),c;for(;(65536&t.u)>0;){const s=t.u;if(o>=(448&s))break;r(t),c=new runtime.Binary(M[63&s],c,parse(t,e,448&s,l)),t.p=0}if(o>63)return kernel.Profiler.enabled&&O(),c;if(a(t,1572879)){const s=parse(t,e,62,l);u(t,1572878),c=new runtime.Conditional(c,s,parse(t,e,62,l)),t.p=0}if(o>62)return kernel.Profiler.enabled&&O(),c;if(a(t,1048615)){if(!t.p)throw kernel.Profiler.enabled&&O(),kernel.Reporter.error(150,{state:t});c=new runtime.Assign(c,parse(t,e,62,l))}if(o>61)return kernel.Profiler.enabled&&O(),c;for(;a(t,1572883);){if(1572864===t.u)throw kernel.Profiler.enabled&&O(),kernel.Reporter.error(112);const name=t.m;r(t);const s=[];for(;a(t,1572878);)s.push(parse(t,e,62,l));c=new runtime.ValueConverter(c,name,s)}for(;a(t,1572880);){if(1572864===t.u)throw kernel.Profiler.enabled&&O(),kernel.Reporter.error(113);const name=t.m;r(t);const s=[];for(;a(t,1572878);)s.push(parse(t,e,62,l));c=new runtime.BindingBehavior(c,name,s)}if(1572864!==t.u){if(2048&l)return kernel.Profiler.enabled&&O(),c;if("of"===t.k)throw kernel.Profiler.enabled&&O(),kernel.Reporter.error(151,{state:t});throw kernel.Profiler.enabled&&O(),kernel.Reporter.error(101,{state:t})}return kernel.Profiler.enabled&&O(),c}function n(t,e,s,n,i){const o=[t.m];u(t,540714);const l=[parse(t,e,62,s)];for(;540713!==(t.u=c(t));)o.push(t.m),u(t,540714),l.push(parse(t,e,62,s));return o.push(t.m),t.p=0,i?(r(t),new runtime.TaggedTemplate(o,o,n,l)):(r(t),new runtime.Template(o,l))}function r(t){for(;t.length>t.index;)if(t.A=t.index,null!=(t.u=V[t.l](t)))return;t.u=1572864}function i(t){return t.l=t.input.charCodeAt(++t.index)}function o(t,e){let s=t.l;if(0==e){do{s=i(t)}while(57>=s&&s>=48);if(46!==s)return t.m=parseInt(t.k,10),8192;if(s=i(t),t.index>=t.length)return t.m=parseInt(t.k.slice(0,-1),10),8192}if(s>57||48>s)t.l=t.input.charCodeAt(--t.index);else do{s=i(t)}while(57>=s&&s>=48);return t.m=parseFloat(t.k),8192}function l(t){let e=1,n="";for(;96!==i(t);)if(36===t.l){if(t.length>t.index+1&&123===t.input.charCodeAt(t.index+1)){t.index++,e=0;break}n+="$"}else if(92===t.l)n+=String.fromCharCode(s(i(t)));else{if(t.index>=t.length)throw kernel.Reporter.error(109,{state:t});n+=String.fromCharCode(t.l)}return i(t),t.m=n,e?540713:540714}function c(t){if(t.index>=t.length)throw kernel.Reporter.error(109,{state:t});return t.index--,l(t)}function a(t,e){return t.u===e?(r(t),1):0}function u(t,e){if(t.u!==e)throw kernel.Reporter.error(110,{state:t,L:e});r(t)}function f(t,e,s,value){const n=s.length;for(let r=0;n>r;r+=2){const n=s[r];let i=s[r+1];if(i=i>0?i:n+1,t&&t.fill(value,n,i),e)for(let t=n;i>t;t++)e.add(t)}}function p(t){return e=>(i(e),t)}function w(dom){const t=dom.createElement("au-m");return dom.P(t),t}var d,m,b,Access,Precedence,Char,SymbolFlags;class AttrSyntax{constructor(t,e,s,n){this.v=t,this.U=e,this.target=s,this.command=n}}class g{constructor(t,e,s,n){if(this.C=t,this.repeat=e,this.R=s,this.O=n,n)switch(t.length){case 0:this.has=this.S;break;case 1:this.has=this.B;break;default:this.has=this.I}else switch(t.length){case 0:this.has=this.q;break;case 1:this.has=this.N;break;default:this.has=this.M}}F(t){return this.C===t.C&&this.repeat===t.repeat&&this.R===t.R&&this.O===t.O}M(t){return-1!==this.C.indexOf(t)}N(t){return this.C===t}q(t){return 0}I(t){return-1===this.C.indexOf(t)}B(t){return this.C!==t}S(t){return 1}}class Interpretation{get pattern(){const value=this.K;return""===value?null:value}set pattern(value){null==value?(this.K="",this.parts=kernel.PLATFORM.D):(this.K=value,this.parts=this.$[value])}constructor(){this.K="",this.parts=kernel.PLATFORM.D,this.V={},this.$={}}append(t,e){const{V:s}=this;void 0===s[t]?s[t]=e:s[t]+=e}next(t){const{V:e}=this;if(void 0!==e[t]){const{$:s}=this;void 0===s[t]?s[t]=[e[t]]:s[t].push(e[t]),e[t]=void 0}}}class State{get pattern(){return this.G?this.j[0]:null}constructor(t,...e){this.H=t,this.Z=[],this.types=null,this.j=e,this.G=0}J(t){const e=this.Z,s=e.length;let n=null;for(let r=0;s>r;++r)if(t.F((n=e[r]).H))return n;return null}append(t,e){const{j:s}=this;-1===s.indexOf(e)&&s.push(e);let n=this.J(t);return null==n&&(n=new State(t,e),this.Z.push(n),t.repeat&&n.Z.push(n)),n}W(t,e){const s=[],n=this.Z,r=n.length;let i=0,o=null,l=0,c=0;for(;r>l;++l)if((o=n[l]).H.has(t))if(s.push(o),i=o.j.length,c=0,o.H.R)for(;i>c;++c)e.next(o.j[c]);else for(;i>c;++c)e.append(o.j[c],t);return s}}class T{constructor(t){this.text=t;const e=this.X=t.length,s=this.Y=[];for(let n=0;e>n;++n)s.push(new g(t[n],0,0,0))}tt(t){const{X:e,Y:s}=this;for(let n=0;e>n;++n)t(s[n])}}class k{constructor(t){this.text="PART",this.et=new g(t,1,0,1)}tt(t){t(this.et)}}class A{constructor(t){this.text=t,this.et=new g(t,0,1,0)}tt(t){t(this.et)}}class y{constructor(){this.st=0,this.nt=0,this.symbols=0}}const ISyntaxInterpreter=kernel.DI.it("ISyntaxInterpreter").rt(t=>t.singleton(L));class L{constructor(){this.ot=new State(null),this.lt=[this.ot]}add(t){let e=0;if(Array.isArray(t)){const s=t.length;for(;s>e;++e)this.add(t[e]);return}let s=this.ot;const def=t,n=def.pattern,r=new y,i=this.parse(def,r),o=i.length,l=t=>{s=s.append(t,n)};for(e=0;o>e;++e)i[e].tt(l);s.types=r,s.G=1}ct(name){const t=new Interpretation;let e=this.lt;const s=name.length;for(let n=0;s>n&&0!==(e=this.at(e,name.charAt(n),t)).length;++n);if(e.sort((t,e)=>{if(!t.G)return e.G?1:0;if(!e.G)return-1;const s=t.types,n=e.types;return s.st!==n.st?n.st-s.st:s.nt!==n.nt?n.nt-s.nt:s.symbols!==n.symbols?n.symbols-s.symbols:0}),e.length>0){const s=e[0];s.H.R||t.next(s.pattern),t.pattern=s.pattern}return t}at(t,e,s){const n=[];let r=null;const i=t.length;for(let o=0;i>o;++o)n.push(...(r=t[o]).W(e,s));return n}parse(def,t){const e=[],s=def.pattern,n=s.length;let r=0,i=0,o="";for(;n>r;)o=s.charAt(r),-1===def.symbols.indexOf(o)?r===i&&"P"===o&&"PART"===s.slice(r,r+4)?(i=r+=4,e.push(new k(def.symbols)),++t.nt):++r:r!==i?(e.push(new T(s.slice(i,r))),++t.st,i=r):(e.push(new A(s.slice(i,r+1))),++t.symbols,i=++r);return i!==r&&(e.push(new T(s.slice(i,r))),++t.st),e}}const IAttributePattern=kernel.DI.it("IAttributePattern").ut();class DotSeparatedAttributePattern{ht(t,e,parts){return new AttrSyntax(t,e,parts[0],parts[1])}ft(t,e,parts){return new AttrSyntax(t,e,parts[0],parts[2])}}attributePattern({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})(DotSeparatedAttributePattern);class RefAttributePattern{pt(t,e,parts){return new AttrSyntax(t,e,"ref",null)}wt(t,e,parts){return new AttrSyntax(t,e,"ref",parts[1])}}attributePattern({pattern:"ref",symbols:""},{pattern:"ref.PART",symbols:"."})(RefAttributePattern);class ColonPrefixedBindAttributePattern{dt(t,e,parts){return new AttrSyntax(t,e,parts[0],"bind")}}attributePattern({pattern:":PART",symbols:":"})(ColonPrefixedBindAttributePattern);class AtPrefixedTriggerAttributePattern{bt(t,e,parts){return new AttrSyntax(t,e,parts[0],"trigger")}}attributePattern({pattern:"@PART",symbols:"@"})(AtPrefixedTriggerAttributePattern);const IAttributeParser=kernel.DI.it("IAttributeParser").rt(t=>t.singleton(U)),{gt:P,Tt:v}=kernel.Profiler.kt("AttributeParser");class U{constructor(t,e){this.At=t,this.cache={};const s=this.j={};e.forEach(e=>{const n=e.t;t.add(n),n.forEach(def=>{s[def.pattern]=e})})}parse(name,value){kernel.Profiler.enabled&&P();let t=this.cache[name];null==t&&(t=this.cache[name]=this.At.ct(name));const e=t.pattern;return null==e?(kernel.Profiler.enabled&&v(),new AttrSyntax(name,value,name,null)):(kernel.Profiler.enabled&&v(),this.j[e][e](name,value,t.parts))}}U.inject=[ISyntaxInterpreter,kernel.all(IAttributePattern)];const BindingCommandResource={name:"binding-command",s(name){return`${this.name}:${name}`},yt(t){return t.kind===this},Lt(t,s){const n=s,r=n,i="string"==typeof t?{name:t,target:null}:t;return r.kind=BindingCommandResource,r.description=i,n.register=e,n}};class OneTimeBindingCommand{constructor(){this.Pt=49}compile(t){return new runtime.OneTimeBindingInstruction(t.vt,getTarget(t,0))}}BindingCommandResource.Lt("one-time",OneTimeBindingCommand);class ToViewBindingCommand{constructor(){this.Pt=50}compile(t){return new runtime.ToViewBindingInstruction(t.vt,getTarget(t,0))}}BindingCommandResource.Lt("to-view",ToViewBindingCommand);class FromViewBindingCommand{constructor(){this.Pt=51}compile(t){return new runtime.FromViewBindingInstruction(t.vt,getTarget(t,0))}}BindingCommandResource.Lt("from-view",FromViewBindingCommand);class TwoWayBindingCommand{constructor(){this.Pt=52}compile(t){return new runtime.TwoWayBindingInstruction(t.vt,getTarget(t,0))}}BindingCommandResource.Lt("two-way",TwoWayBindingCommand);const E=["","$1","$2","","$4","","$6"],C={bind:runtime.BindingMode.Ut,Et:runtime.BindingMode.oneTime,Ct:runtime.BindingMode.Ut,Rt:runtime.BindingMode.Ot,St:runtime.BindingMode.xt};class DefaultBindingCommand{constructor(){this.Pt=53,this.$1=OneTimeBindingCommand.prototype.compile,this.$2=ToViewBindingCommand.prototype.compile,this.$4=FromViewBindingCommand.prototype.compile,this.$6=TwoWayBindingCommand.prototype.compile}compile(t){return this[E[getMode(t)]](t)}}BindingCommandResource.Lt("bind",DefaultBindingCommand);class CallBindingCommand{constructor(){this.Pt=153}compile(t){return new runtime.CallBindingInstruction(t.vt,getTarget(t,1))}}BindingCommandResource.Lt("call",CallBindingCommand);class ForBindingCommand{constructor(){this.Pt=539}compile(t){return new runtime.IteratorBindingInstruction(t.vt,getTarget(t,0))}}BindingCommandResource.Lt("for",ForBindingCommand),(Access=t.Access||(t.Access={}))[Access.Bt=0]="Reset",Access[Access.It=511]="Ancestor",Access[Access.qt=512]="This",Access[Access.Scope=1024]="Scope",Access[Access.Nt=2048]="Member",Access[Access.Mt=4096]="Keyed",(Precedence=t.Precedence||(t.Precedence={}))[Precedence.Ft=61]="Variadic",Precedence[Precedence.Assign=62]="Assign",Precedence[Precedence.Conditional=63]="Conditional",Precedence[Precedence.Kt=64]="LogicalOR",Precedence[Precedence.Dt=128]="LogicalAND",Precedence[Precedence.$t=192]="Equality",Precedence[Precedence.Qt=256]="Relational",Precedence[Precedence.Vt=320]="Additive",Precedence[Precedence.Gt=384]="Multiplicative",Precedence[Precedence.Binary=448]="Binary",Precedence[Precedence.jt=449]="LeftHandSide",Precedence[Precedence.Ht=450]="Primary",Precedence[Precedence.Unary=451]="Unary",(function(t){t[t.Zt=1572864]="EOF",t[t.Jt=1048576]="ExpressionTerminal",t[t.Wt=524288]="AccessScopeTerminal",t[t.Xt=262144]="ClosingToken",t[t.Yt=131072]="OpeningToken",t[t._t=65536]="BinaryOp",t[t.zt=32768]="UnaryOp",t[t.jt=16384]="LeftHandSide",t[t.te=12288]="StringOrNumericLiteral",t[t.ee=8192]="NumericLiteral",t[t.se=4096]="StringLiteral",t[t.ne=3072]="IdentifierName",t[t.re=2048]="Keyword",t[t.ie=1024]="Identifier",t[t.oe=512]="Contextual",t[t.Precedence=448]="Precedence",t[t.le=63]="Type",t[t.ce=2048]="FalseKeyword",t[t.ae=2049]="TrueKeyword",t[t.ue=2050]="NullKeyword",t[t.he=2051]="UndefinedKeyword",t[t.fe=3076]="ThisScope",t[t.pe=3077]="ParentScope",t[t.we=671750]="OpenParen",t[t.de=131079]="OpenBrace",t[t.me=16392]="Dot",t[t.be=1835017]="CloseBrace",t[t.ge=1835018]="CloseParen",t[t.Te=1572875]="Comma",t[t.ke=671756]="OpenBracket",t[t.Ae=1835021]="CloseBracket",t[t.ye=1572878]="Colon",t[t.Le=1572879]="Question",t[t.Pe=1572880]="Ampersand",t[t.ve=1572883]="Bar",t[t.Ue=1638548]="BarBar",t[t.Ee=1638613]="AmpersandAmpersand",t[t.Ce=1638678]="EqualsEquals",t[t.Re=1638679]="ExclamationEquals",t[t.Oe=1638680]="EqualsEqualsEquals",t[t.Se=1638681]="ExclamationEqualsEquals",t[t.xe=1638746]="LessThan",t[t.Be=1638747]="GreaterThan",t[t.Ie=1638748]="LessThanEquals",t[t.qe=1638749]="GreaterThanEquals",t[t.Ne=1640798]="InKeyword",t[t.Me=1640799]="InstanceOfKeyword",t[t.Fe=623008]="Plus",t[t.Ke=623009]="Minus",t[t.De=34850]="TypeofKeyword",t[t.$e=34851]="VoidKeyword",t[t.Qe=1638884]="Asterisk",t[t.Ve=1638885]="Percent",t[t.Ge=1638886]="Slash",t[t.je=1048615]="Equals",t[t.He=32808]="Exclamation",t[t.Ze=540713]="TemplateTail",t[t.Je=540714]="TemplateContinuation",t[t.We=1051179]="OfKeyword"})(d||(d={})),(Char=t.Char||(t.Char={}))[Char.Xe=0]="Null",Char[Char.Ye=8]="Backspace",Char[Char._e=9]="Tab",Char[Char.ze=10]="LineFeed",Char[Char.ts=11]="VerticalTab",Char[Char.es=12]="FormFeed",Char[Char.ss=13]="CarriageReturn",Char[Char.ns=32]="Space",Char[Char.He=33]="Exclamation",Char[Char.rs=34]="DoubleQuote",Char[Char.os=36]="Dollar",Char[Char.Ve=37]="Percent",Char[Char.Pe=38]="Ampersand",Char[Char.ls=39]="SingleQuote",Char[Char.we=40]="OpenParen",Char[Char.ge=41]="CloseParen",Char[Char.Qe=42]="Asterisk",Char[Char.Fe=43]="Plus",Char[Char.Te=44]="Comma",Char[Char.Ke=45]="Minus",Char[Char.me=46]="Dot",Char[Char.Ge=47]="Slash",Char[Char.cs=59]="Semicolon",Char[Char.as=96]="Backtick",Char[Char.ke=91]="OpenBracket",Char[Char.us=92]="Backslash",Char[Char.Ae=93]="CloseBracket",Char[Char.hs=94]="Caret",Char[Char.fs=95]="Underscore",Char[Char.de=123]="OpenBrace",Char[Char.ve=124]="Bar",Char[Char.be=125]="CloseBrace",Char[Char.ye=58]="Colon",Char[Char.xe=60]="LessThan",Char[Char.je=61]="Equals",Char[Char.Be=62]="GreaterThan",Char[Char.Le=63]="Question",Char[Char.ps=48]="Zero",Char[Char.ws=49]="One",Char[Char.ds=50]="Two",Char[Char.ms=51]="Three",Char[Char.bs=52]="Four",Char[Char.gs=53]="Five",Char[Char.Ts=54]="Six",Char[Char.ks=55]="Seven",Char[Char.As=56]="Eight",Char[Char.ys=57]="Nine",Char[Char.Ls=65]="UpperA",Char[Char.Ps=66]="UpperB",Char[Char.vs=67]="UpperC",Char[Char.Us=68]="UpperD",Char[Char.Es=69]="UpperE",Char[Char.Cs=70]="UpperF",Char[Char.Rs=71]="UpperG",Char[Char.Os=72]="UpperH",Char[Char.Ss=73]="UpperI",Char[Char.xs=74]="UpperJ",Char[Char.Bs=75]="UpperK",Char[Char.Is=76]="UpperL",Char[Char.qs=77]="UpperM",Char[Char.Ns=78]="UpperN",Char[Char.Ms=79]="UpperO",Char[Char.Fs=80]="UpperP",Char[Char.Ks=81]="UpperQ",Char[Char.Ds=82]="UpperR",Char[Char.$s=83]="UpperS",Char[Char.Qs=84]="UpperT",Char[Char.Vs=85]="UpperU",Char[Char.Gs=86]="UpperV",Char[Char.js=87]="UpperW",Char[Char.Hs=88]="UpperX",Char[Char.Zs=89]="UpperY",Char[Char.Js=90]="UpperZ",Char[Char.Ws=97]="LowerA",Char[Char.Xs=98]="LowerB",Char[Char.Ys=99]="LowerC",Char[Char._s=100]="LowerD",Char[Char.zs=101]="LowerE",Char[Char.tn=102]="LowerF",Char[Char.en=103]="LowerG",Char[Char.sn=104]="LowerH",Char[Char.nn=105]="LowerI",Char[Char.rn=106]="LowerJ",Char[Char.in=107]="LowerK",Char[Char.on=108]="LowerL",Char[Char.ln=109]="LowerM",Char[Char.cn=110]="LowerN",Char[Char.an=111]="LowerO",Char[Char.un=112]="LowerP",Char[Char.hn=113]="LowerQ",Char[Char.fn=114]="LowerR",Char[Char.pn=115]="LowerS",Char[Char.wn=116]="LowerT",Char[Char.dn=117]="LowerU",Char[Char.mn=118]="LowerV",Char[Char.bn=119]="LowerW",Char[Char.gn=120]="LowerX",Char[Char.Tn=121]="LowerY",Char[Char.kn=122]="LowerZ";const{gt:R,Tt:O}=kernel.Profiler.kt("ExpressionParser"),S=runtime.PrimitiveLiteral.An,x=runtime.PrimitiveLiteral.yn,B=runtime.PrimitiveLiteral.Ln,I=runtime.PrimitiveLiteral.Pn,q=runtime.AccessThis.vn,N=runtime.AccessThis.Un;class ParserState{get k(){return this.input.slice(this.A,this.index)}constructor(t){this.index=0,this.A=0,this.lastIndex=0,this.input=t,this.length=t.length,this.u=1572864,this.m="",this.l=t.charCodeAt(0),this.p=1}}const $state=new ParserState("");(function(t){t[t.En=100]="InvalidExpressionStart",t[t.Cn=101]="UnconsumedToken",t[t.Rn=102]="DoubleDot",t[t.On=103]="InvalidMemberExpression",t[t.Sn=104]="UnexpectedEndOfExpression",t[t.xn=105]="ExpectedIdentifier",t[t.Bn=106]="InvalidForDeclaration",t[t.In=107]="InvalidObjectLiteralPropertyDefinition",t[t.qn=108]="UnterminatedQuote",t[t.Nn=109]="UnterminatedTemplate",t[t.Mn=110]="MissingExpectedToken",t[t.Fn=111]="UnexpectedCharacter",t[t.Kn=112]="MissingValueConverter",t[t.Dn=113]="MissingBindingBehavior"})(m||(m={})),(function(t){t[t.$n=150]="NotAssignable",t[t.Qn=151]="UnexpectedForOf"})(b||(b={}));const M=[S,x,B,I,"$this","$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",540713,540714,"of"],F=Object.create(null);F.true=2049,F.null=2050,F.false=2048,F.undefined=2051,F.vn=3076,F.Un=3077,F.Vn=1640798,F.Gn=1640799,F.jn=34850,F.Hn=34851,F.of=1051179;const K=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],D=[48,58],$=t=>{throw kernel.Reporter.error(111,{state:t})};$.Zn=1,f(null,new Set,[36,0,48,58,65,91,95,0,97,123],1);const Q=new Uint8Array(65535);f(Q,null,K,1),f(Q,null,D,1);const V=Array(65535);V.fill($,0,65535),f(V,null,[0,33,127,161],t=>(i(t),null)),f(V,null,K,function(t){for(;Q[i(t)];);const e=F[t.m=t.k];return void 0===e?1024:e}),f(V,null,D,t=>o(t,0)),V[34]=V[39]=(t=>(function(t){const e=t.l;i(t);let n=0;const r=[];let o=t.index;for(;t.l!==e;)if(92===t.l)r.push(t.input.slice(o,t.index)),i(t),n=s(t.l),i(t),r.push(String.fromCharCode(n)),o=t.index;else{if(t.index>=t.length)throw kernel.Reporter.error(108,{state:t});i(t)}const l=t.input.slice(o,t.index);i(t),r.push(l);const c=r.join("");return t.m=c,4096})(t)),V[96]=(t=>l(t)),V[33]=(t=>61!==i(t)?32808:61!==i(t)?1638679:(i(t),1638681)),V[61]=(t=>61!==i(t)?1048615:61!==i(t)?1638678:(i(t),1638680)),V[38]=(t=>38!==i(t)?1572880:(i(t),1638613)),V[124]=(t=>124!==i(t)?1572883:(i(t),1638548)),V[46]=(t=>i(t)>57||48>t.l?16392:o(t,1)),V[60]=(t=>61!==i(t)?1638746:(i(t),1638748)),V[62]=(t=>61!==i(t)?1638747:(i(t),1638749)),V[37]=p(1638885),V[40]=p(671750),V[41]=p(1835018),V[42]=p(1638884),V[43]=p(623008),V[44]=p(1572875),V[45]=p(623009),V[47]=p(1638886),V[58]=p(1572878),V[63]=p(1572879),V[91]=p(671756),V[93]=p(1835021),V[123]=p(131079),V[125]=p(1835017);const IExpressionParserRegistration={register(t){t.Jn(runtime.IExpressionParser,t=>(Reflect.set(t,"parseCore",parseExpression),t))}},DefaultComponents=[IExpressionParserRegistration],AtPrefixedTriggerAttributePatternRegistration=AtPrefixedTriggerAttributePattern,ColonPrefixedBindAttributePatternRegistration=ColonPrefixedBindAttributePattern,RefAttributePatternRegistration=RefAttributePattern,DotSeparatedAttributePatternRegistration=DotSeparatedAttributePattern,DefaultBindingSyntax=[RefAttributePatternRegistration,DotSeparatedAttributePatternRegistration],ShortHandBindingSyntax=[AtPrefixedTriggerAttributePatternRegistration,ColonPrefixedBindAttributePatternRegistration],CallBindingCommandRegistration=CallBindingCommand,DefaultBindingCommandRegistration=DefaultBindingCommand,ForBindingCommandRegistration=ForBindingCommand,FromViewBindingCommandRegistration=FromViewBindingCommand,OneTimeBindingCommandRegistration=OneTimeBindingCommand,ToViewBindingCommandRegistration=ToViewBindingCommand,TwoWayBindingCommandRegistration=TwoWayBindingCommand,DefaultBindingLanguage=[DefaultBindingCommandRegistration,OneTimeBindingCommandRegistration,FromViewBindingCommandRegistration,ToViewBindingCommandRegistration,TwoWayBindingCommandRegistration,CallBindingCommandRegistration,ForBindingCommandRegistration],BasicConfiguration={register:t=>runtime.RuntimeBasicConfiguration.register(t).register(...DefaultComponents,...DefaultBindingSyntax,...DefaultBindingLanguage),Wn(){return this.register(kernel.DI.Wn())}};class BindableInfo{constructor(t,mode){this.i=t,this.mode=mode}}class ElementInfo{constructor(name,containerless){this.name=name,this.containerless=containerless,this.bindables={}}}class AttrInfo{constructor(name,isTemplateController){this.name=name,this.bindables={},this.bindable=null,this.isTemplateController=isTemplateController,this.Xn=0}}(SymbolFlags=t.SymbolFlags||(t.SymbolFlags={}))[SymbolFlags.type=511]="type",SymbolFlags[SymbolFlags.isTemplateController=1]="isTemplateController",SymbolFlags[SymbolFlags.Yn=2]="isReplacePart",SymbolFlags[SymbolFlags._n=4]="isCustomAttribute",SymbolFlags[SymbolFlags.zn=8]="isPlainAttribute",SymbolFlags[SymbolFlags.tr=16]="isCustomElement",SymbolFlags[SymbolFlags.er=32]="isLetElement",SymbolFlags[SymbolFlags.sr=64]="isPlainElement",SymbolFlags[SymbolFlags.nr=128]="isText",SymbolFlags[SymbolFlags.rr=256]="isBinding",SymbolFlags[SymbolFlags.ir=512]="hasMarker",SymbolFlags[SymbolFlags.or=1024]="hasTemplate",SymbolFlags[SymbolFlags.hasAttributes=2048]="hasAttributes",SymbolFlags[SymbolFlags.lr=4096]="hasBindings",SymbolFlags[SymbolFlags.hasChildNodes=8192]="hasChildNodes",SymbolFlags[SymbolFlags.cr=16384]="hasParts",t.AtPrefixedTriggerAttributePattern=AtPrefixedTriggerAttributePattern,t.AtPrefixedTriggerAttributePatternRegistration=AtPrefixedTriggerAttributePatternRegistration,t.AttrInfo=AttrInfo,t.AttrSyntax=AttrSyntax,t.BasicConfiguration=BasicConfiguration,t.BindableInfo=BindableInfo,t.BindingCommandResource=BindingCommandResource,t.BindingSymbol=class{constructor(t,bindable,e,s,n){this.flags=256,this.command=t,this.bindable=bindable,this.vt=e,this.U=s,this.target=n}},t.CallBindingCommand=CallBindingCommand,t.CallBindingCommandRegistration=CallBindingCommandRegistration,t.ColonPrefixedBindAttributePattern=ColonPrefixedBindAttributePattern,t.ColonPrefixedBindAttributePatternRegistration=ColonPrefixedBindAttributePatternRegistration,t.CustomAttributeSymbol=class{get ar(){return null==this.ur&&(this.ur=[],this.flags|=4096),this.ur}constructor(t,e){this.flags=4,this.res=e.name,this.o=t,this.ur=null}},t.CustomElementSymbol=class{get attributes(){return null==this.hr&&(this.hr=[],this.flags|=2048),this.hr}get ar(){return null==this.ur&&(this.ur=[],this.flags|=4096),this.ur}get childNodes(){return null==this.pr&&(this.pr=[],this.flags|=8192),this.pr}get parts(){return null==this.wr&&(this.wr=[],this.flags|=16384),this.wr}constructor(dom,t,e){this.flags=16,this.res=e.name,this.dr=t,this.bindables=e.bindables,this.mr=1,this.templateController=null,e.containerless?(this.br=1,this.marker=w(dom),this.flags|=512):(this.br=0,this.marker=null),this.hr=null,this.ur=null,this.pr=null,this.wr=null}},t.DefaultBindingCommand=DefaultBindingCommand,t.DefaultBindingCommandRegistration=DefaultBindingCommandRegistration,t.DefaultBindingLanguage=DefaultBindingLanguage,t.DefaultBindingSyntax=DefaultBindingSyntax,t.DefaultComponents=DefaultComponents,t.DotSeparatedAttributePattern=DotSeparatedAttributePattern,t.DotSeparatedAttributePatternRegistration=DotSeparatedAttributePatternRegistration,t.ElementInfo=ElementInfo,t.ForBindingCommand=ForBindingCommand,t.ForBindingCommandRegistration=ForBindingCommandRegistration,t.FromViewBindingCommand=FromViewBindingCommand,t.FromViewBindingCommandRegistration=FromViewBindingCommandRegistration,t.IAttributeParser=IAttributeParser,t.IAttributePattern=IAttributePattern,t.IExpressionParserRegistration=IExpressionParserRegistration,t.ISyntaxInterpreter=ISyntaxInterpreter,t.Interpretation=Interpretation,t.LetElementSymbol=class{get ar(){return null==this.ur&&(this.ur=[],this.flags|=4096),this.ur}constructor(dom,t){this.flags=544,this.dr=t,this.toViewModel=0,this.marker=w(dom),this.ur=null}},t.OneTimeBindingCommand=OneTimeBindingCommand,t.OneTimeBindingCommandRegistration=OneTimeBindingCommandRegistration,t.ParserState=ParserState,t.PlainAttributeSymbol=class{constructor(t,e,s){this.flags=8,this.o=t,this.command=e,this.vt=s}},t.PlainElementSymbol=class{get attributes(){return null==this.hr&&(this.hr=[],this.flags|=2048),this.hr}get childNodes(){return null==this.pr&&(this.pr=[],this.flags|=8192),this.pr}constructor(t){this.flags=64,this.dr=t,this.mr=0,this.templateController=null,this.hr=null,this.pr=null}},t.RefAttributePattern=RefAttributePattern,t.RefAttributePatternRegistration=RefAttributePatternRegistration,t.ReplacePartSymbol=class{constructor(name){this.flags=2,this.name=name,this.dr=null,this.parent=null,this.template=null}},t.ResourceModel=class{constructor(t){this.gr=t,this.Tr={},this.kr={},this.Ar={}}yr(name){let t=this.Tr[name];if(void 0===t){const def=this.gr.find(runtime.CustomElementResource,name);t=null==def?null:(function(def){const t=new ElementInfo(def.name,def.containerless),bindables=def.bindables,defaultBindingMode=runtime.BindingMode.Ut;let bindable,e,s,mode;for(e in bindables)void 0!==(bindable=bindables[e]).Lr&&(e=bindable.Lr),s=void 0!==bindable.Pr?bindable.Pr:kernel.kebabCase(e),t.bindables[s]=new BindableInfo(e,mode=void 0!==bindable.mode&&bindable.mode!==runtime.BindingMode.default?bindable.mode:defaultBindingMode);return t})(def),this.Tr[name]=t}return t}vr(t){const name=kernel.camelCase(t.target);let e=this.kr[name];if(void 0===e){const def=this.gr.find(runtime.CustomAttributeResource,name);e=null==def?null:(function(def){const t=new AttrInfo(def.name,def.isTemplateController),bindables=def.bindables,defaultBindingMode=void 0!==def.defaultBindingMode&&def.defaultBindingMode!==runtime.BindingMode.default?def.defaultBindingMode:runtime.BindingMode.Ut;let bindable,e,mode,s=0;for(e in bindables)++s,void 0!==(bindable=bindables[e]).Lr&&(e=bindable.Lr),t.bindables[e]=new BindableInfo(e,mode=void 0!==bindable.mode&&bindable.mode!==runtime.BindingMode.default?bindable.mode:defaultBindingMode),null===t.bindable&&(t.bindable=t.bindables[e]);return null===t.bindable&&(t.bindable=new BindableInfo("value",defaultBindingMode)),(def.Xn||s>1)&&(t.Xn=1),t})(def),this.kr[name]=e}return e}Ur(t){const name=t.command;if(null===name)return null;let e=this.Ar[name];if(void 0===e){if(null==(e=this.gr.create(BindingCommandResource,name)))throw kernel.Reporter.error(0);this.Ar[name]=e}return e}},t.ShortHandBindingSyntax=ShortHandBindingSyntax,t.TemplateControllerSymbol=class{get ar(){return null==this.ur&&(this.ur=[],this.flags|=4096),this.ur}get parts(){return null==this.wr&&(this.wr=[],this.flags|=16384),this.wr}constructor(dom,t,e,s){this.flags=513,this.res=e.name,this.Er=s,this.dr=null,this.o=t,this.template=null,this.templateController=null,this.marker=w(dom),this.ur=null,this.wr=null}},t.TextSymbol=class{constructor(dom,t,e){this.flags=640,this.dr=t,this.Cr=e,this.marker=w(dom)}},t.ToViewBindingCommand=ToViewBindingCommand,t.ToViewBindingCommandRegistration=ToViewBindingCommandRegistration,t.TwoWayBindingCommand=TwoWayBindingCommand,t.TwoWayBindingCommandRegistration=TwoWayBindingCommandRegistration,t.attributePattern=attributePattern,t.bindingCommand=function(t){return e=>BindingCommandResource.Lt(t,e)},t.getMode=getMode,t.getTarget=getTarget,t.parse=parse,t.parseExpression=parseExpression,Object.defineProperty(t,"Rr",{value:1})});
