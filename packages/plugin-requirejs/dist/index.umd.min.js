(function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@aurelia/runtime")):"function"==typeof define&&define.amd?define(["exports","@aurelia/runtime"],e):e((n=n||self).pluginRequirejs={},n.runtime)})(this,function(n,runtime){"use strict";function e(n,e){return n.map(n=>{if(".html"===n.t&&!n.o)return`component!${relativeToFile(n.path,e)+n.t}`;const t=relativeToFile(n.path,e);return n.o?`${n.o}!${t}`:t})}function t(n){return`-${n.toLowerCase()}`}function kebabCase(name){return(name.charAt(0).toLowerCase()+name.slice(1)).replace($,t)}function o(n){return n.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")}function u(template){const n=[];return{template:template.replace(/^@import\s+\'([a-zA-z\/.\-_!%&\?=0-9]*)\'\s*;/gm,(e,t)=>(n.push(i(t)),"")).trim(),imports:n}}function i(value){const n={path:value},e=n.path.lastIndexOf("!");-1!==e?(n.o=n.path.slice(e+1),n.path=n.path.slice(0,e)):n.o=null;const t=n.path.lastIndexOf(".");-1!==t?(n.t=n.path.slice(t).toLowerCase(),n.path=n.path.slice(0,t)):n.t=null;const o=n.path.lastIndexOf("/");return n.u=-1!==o?n.path.slice(o+1):n.path,n}function relativeToFile(name,n){const e=n?n.split("/"):void 0,t=name.trim().split("/");if("."===t[0].charAt(0)&&void 0!==e){const n=e.slice(0,e.length-1);t.unshift(...n)}return c(t),t.join("/")}function r(n,e,t){const o=require.nodeRequire("fs");try{let u=o.i(n,"utf8");"\ufeff"===u[0]&&(u=u.substring(1)),e(u)}catch(n){void 0!==t&&t(n)}}function c(n){for(let e=0;n.length>e;++e){const t=n[e];if("."===t)n.splice(e,1),e-=1;else if(".."===t){if(0===e||1===e&&".."===n[2]||".."===n[e-1])continue;e>0&&(n.splice(e-1,2),e-=2)}}}function f(name,n,t,o){o.l?r(n.s(name),function(n){(function(name,n,e){g[name]=n,e(n)})(name,n,t)},function(n){t.error&&t.error(n)}):n([`text!${name}`],function(o){const r=u(o),c=e(r.imports,name);n(c,function(){const n={name:kebabCase(i(name).u),template:r.template,build:{required:1,compiler:"default"},dependencies:[].slice.call(arguments,1)};t({default:runtime.CustomElementResource.p(n)})})})}function l(n,t,r){if(g.hasOwnProperty(t)){const c=i(t),f=u(g[t]),l=e(f.imports,t),a=l.map(n=>`"${n}"`).join(",");l.unshift("@aurelia/runtime"),r(`define("${n}!${t}", [${a}], function () {\n      var Component = arguments[0].Component;\n      var templateSource = {\n        name: '${kebabCase(c.u)}',\n        template: '${o(f.template)}',\n        build: {\n          required: true,\n          compiler: 'default'\n        },\n        dependencies: Array.prototype.slice.call(arguments, 1)\n      };\n\n      return { default: Component.element(templateSource) };\n    });\n`)}}function a(name,n,e){b[name]=n,e(n)}function s(name,n,t,o){o.l?r(n.s(name),function(n){a(name,n,t)},function(n){t.error&&t.error(n)}):n([`text!${name}`],function(o){const r=u(o),c=e(r.imports,name),f=i(name);n(c,function(){const n={name:kebabCase(f.u),template:r.template,build:{required:1,compiler:"default"},dependencies:[].slice.call(arguments)};t({default:n})})})}function d(n,t,r){if(b.hasOwnProperty(t)){const c=u(b[t]);r(`define("${n}!${t}", [${e(c.imports,t).map(n=>`"${n}"`).join(",")}], function () {\n      var templateSource = {\n        name: '${kebabCase(i(t).u)}',\n        template: '${o(c.template)}',\n        build: {\n          required: true,\n          compiler: 'default'\n        },\n        dependencies: Array.prototype.slice.call(arguments)\n      };\n\n      return { default: templateSource };\n    });\n`)}}var p,m;const $=/([A-Z])/g,g={};p=Object.freeze({load:f,write:l});const b={};m=Object.freeze({m:a,load:s,write:d});const v=define;n.$=t,n.g=u,n.escape=o,n.v=function(){v("view",[],m),v("component",[],p)},n.kebabCase=kebabCase,n.loadComponent=f,n.q=r,n.loadView=s,n.j=i,n.A=e,n.relativeToFile=relativeToFile,n.S=c,n.writeComponent=l,n.writeView=d,Object.defineProperty(n,"C",{value:1})});
