System.register("kernel",[],function(e){"use strict";return{t(){function t(e){return function(t){const n=function(e,t,r){DI.inject(n)(e,t,r)};return n.resolve=function(n,r){return e(t,n,r)},n}}function n(e){return DI.transient(e)}function r(e){return DI.singleton(e)}function i(e){return"function"==typeof e.register}function s(e){if(null==e||e===Object)throw Reporter.error(5)}function o(e,t,n){if(e instanceof W&&4===e.strategy){const r=e.state;let i=r.length;const s=[];for(;i--;)s[i]=r[i].resolve(t,n);return s}return[e.resolve(t,n)]}function l(e,t,n,r){let i,s=n.length,o=[];for(;s--;){if(null==(i=n[s]))throw Reporter.error(7,`Index ${s}.`);o[s]=e.get(i)}return void 0!==r&&(o=o.concat(r)),Reflect.construct(t,o)}function u(e,value,t){let n=[];if(null==value)return n;if(Array.isArray(value))for(let r=0,i=value.length;i>r;r++)t?n.push(`${U(e)}=${P(value[r])}`):n=n.concat(u(`${e}[${"object"==typeof value[r]&&null!=value[r]?r:""}]`,value[r]));else if("object"!=typeof value||t)n.push(`${U(e)}=${P(value)}`);else for(const t in value)n=n.concat(u(`${e}[${t}]`,value[t]));return n}function c(e,value){return Array.isArray(e)?(e.push(value),e):void 0!==e?[e,value]:value}function a(e,t,value){let n=e;const r=t.length-1;let i,s;for(let e=0;r>=e;++e)n=n[i=""===t[e]?n.length:t[e]]=r>e?(s=n[i]&&"object"!=typeof n[i]?[n[i]]:n[i])||(isNaN(t[e+1])?{}:[]):value}function f(e,t,n){try{e(t,n)}catch(e){Reporter.error(0,e)}}function d(e,t){try{e.i(t)}catch(e){Reporter.error(0,e)}}var LogLevel,g;e({LogLevel:void 0,buildQueryString(e,t){if(null==e)return"";const n=[],r=Object.keys(e).sort();let i;for(let s=0,o=r.length;o>s;++s)n.push(...u(i=r[s],e[i],t));return 0===n.length?"":n.join("&")},camelCase(e){let value=q[e];if(void 0!==value)return value;value="";let t,n=1,r=0;for(let i=0,s=e.length;s>i;++i)"-"===(t=e.charAt(i))||"."===t||"_"===t?r=1:(value+=n?t.toLowerCase():r?t.toUpperCase():t,r=0),n=0;return q[e]=value},compareNumber:(e,t)=>e-t,isNumeric(value){switch(typeof value){case"number":return 1;case"string":{const e=G[value];if(void 0!==e)return e;const{length:t}=value;if(0===t)return G[value]=0;let n=0;for(let e=0;t>e;++e)if(48>(n=value.charCodeAt(e))||n>57)return G[value]=0;return G[value]=1}default:return 0}},join(e,t){if(!e)return t;if(!t)return e;const n=e.match(/^([^\/]*?:)\//),r=n&&n.length>0?n[1]:"";let i;i=0===(e=e.slice(r.length)).indexOf("///")&&"file:"===r?"///":0===e.indexOf("//")?"//":0===e.indexOf("/")?"/":"";const s="/"===t.slice(-1)?"/":"",o=e.split("/"),l=t.split("/"),u=[];for(let e=0,t=o.length;t>e;++e)".."===o[e]?u.pop():"."!==o[e]&&""!==o[e]&&u.push(o[e]);for(let e=0,t=l.length;t>e;++e)".."===l[e]?u.pop():"."!==l[e]&&""!==l[e]&&u.push(l[e]);return r+i+u.join("/")+s},kebabCase(e){let value=z[e];if(void 0!==value)return value;value="";let t,n,r=1;for(let i=0,s=e.length;s>i;++i)n=(t=e.charAt(i)).toLowerCase(),value+=r?n:t!==n?`-${n}`:n,r=0;return z[e]=value},nextId:e=>(void 0===H[e]&&(H[e]=0),++H[e]),parseQueryString(e){const t={};if(!e||"string"!=typeof e)return t;let n=e;"?"===n.charAt(0)&&(n=n.slice(1));const r=n.replace(/\+/g," ").split("&");for(let e=0;r.length>e;e++){const n=r[e].split("="),i=decodeURIComponent(n[0]);if(!i)continue;let s=i.split("]["),o=s.length-1;if(/\[/.test(s[0])&&/\]$/.test(s[o])?(s[o]=s[o].replace(/\]$/,""),o=(s=s.shift().split("[").concat(s)).length-1):o=0,2>n.length)t[i]=1;else{const value=n[1]?decodeURIComponent(n[1]):"";o?a(t,s,value):t[i]=c(t[i],value)}}return t},relativeToFile(name,e){const t=e?e.split("/"):e,n=name.trim().split("/");if("."===n[0].charAt(0)&&t){const e=t.slice(0,t.length-1);n.unshift(...e)}return(function(e){const t=e.length;let n,r=0;for(;t>r;++r)if("."===(n=e[r]))e.splice(r,1),r-=1;else if(".."===n){if(0===r||1===r&&".."===e[2]||".."===e[r-1])continue;r>0&&(e.splice(r-1,2),r-=2)}})(n),n.join("/")},resetId(e){H[e]=0},singleton:e=>null==e?r:r(e),toArray(e){const{length:t}=e,n=Array(t);for(let r=0;t>r;++r)n[r]=e[r];return n},transient:e=>null==e?n:n(e)});const y=(function(){if("undefined"!=typeof global)return global;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return Function("","return this")()}catch(e){return{}}})(),p="undefined"!=typeof window&&void 0!==window.document,m="object"==typeof self&&null!=self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,v="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node,w=(function(){let e,t,n,r,i;if(null!=y.performance&&null!=y.performance.now){const e=y.performance;return function(){return e.now()}}if(null!=y.process&&null!=y.process.s){const s=function(){return(e()-r)/1e6};return t=y.process.s,n=(e=function(){let e;return 1e9*(e=t())[0]+e[1]})(),i=1e9*y.process.o(),r=n-i,s}throw Error("Unsupported runtime")})(),{l:b,u:k,g:$,p:j,m:T,v:E}=(function(){if(null!=y.performance&&null!=y.performance.mark&&null!=y.performance.measure&&null!=y.performance.getEntriesByName&&null!=y.performance.getEntriesByType&&null!=y.performance.clearMarks&&null!=y.performance.clearMeasures){const e=y.performance;return{l(name){e.mark(name)},u(name,t,n){e.measure(name,t,n)},g:name=>e.getEntriesByName(name),p:type=>e.getEntriesByType(type),m(name){e.clearMarks(name)},v(name){e.clearMeasures(name)}}}if(null!=y.process&&null!=y.process.s){const e=[],t={},n=function(t,value){let n=0;const r=e.length,i=[];for(;r>n;n++)e[n][t]===value&&i.push(e[n]);return i},r=function(type,name){let t,n=e.length;for(;n--;)(t=e[n]).entryType!==type||void 0!==name&&t.name!==name||e.splice(n,1)};return{l(name){const n={name,entryType:"mark",startTime:w(),duration:0};e.push(n),t[name]=n},u(name,n,r){let i,s;if(null!=r){if(null==t[r])throw new SyntaxError(`Failed to execute 'measure' on 'Performance': The mark '${r}' does not exist.`);s=void 0!==t[r]?t[r].startTime:w()}else s=w();if(null!=n){if(null==t[n])throw new SyntaxError(`Failed to execute 'measure' on 'Performance': The mark '${n}' does not exist.`);i=void 0!==t[n]?t[n].startTime:0}else i=0;e.push({name,entryType:"measure",startTime:i,duration:s-i})},g:name=>n("name",name),p:type=>n("entryType",type),m(name){r("mark",name)},v(name){r("measure",name)}}}throw Error("Unsupported runtime")})(),{k:C,$:D}=(function(){let e=y.requestAnimationFrame,t=y.cancelAnimationFrame;if(void 0===e||void 0===t){let n=0,r=0;const i=[],s=1e3/60;e=function(e){let t,o;return 0===i.length&&(t=w(),n=(o=Math.max(0,s-(t-n)))+t,setTimeout(function(){const e=i.slice(0);i.length=0;for(let t=0;e.length>t;++t)if(!e[t].j)try{e[t].T(n)}catch(e){setTimeout(function(){throw e},0)}},Math.round(o))),i.push({i:++r,T:e,j:0}),r},t=function(e){for(let t=0;i.length>t;++t)i[t].i===e&&(i[t].j=1)}}const n=function(t){return e.call(y,t)};return n.cancel=function(e){t.call(y,e)},y.requestAnimationFrame=e,y.cancelAnimationFrame=t,{k:n,$:t}})(),O={}.hasOwnProperty,I=Object.freeze([]),L=Object.freeze({}),R=Object.freeze({C:p,D:m,O:v,global:y,I,L,R(){},now:w,mark:b,measure:k,getEntriesByName:$,getEntriesByType:j,clearMarks:T,clearMeasures:E,hasOwnProperty:O,requestAnimationFrame:e=>C(e),cancelAnimationFrame:e=>D(e),clearInterval(e){y.clearInterval(e)},clearTimeout(e){y.clearTimeout(e)},setInterval:(e,t,...n)=>y.setInterval(e,t,...n),setTimeout:(e,t,...n)=>y.setTimeout(e,t,...n),restore(){Object.assign(PLATFORM,R)}}),PLATFORM=e("PLATFORM",{...R});(function(LogLevel){LogLevel[LogLevel.error=0]="error",LogLevel[LogLevel.warn=1]="warn",LogLevel[LogLevel.info=2]="info",LogLevel[LogLevel.debug=3]="debug"})(LogLevel||(LogLevel=e("LogLevel",{})));const Reporter=e("Reporter",{level:1,write(e,...t){},error:e=>Error(`Code ${e}`)}),Tracer=e("Tracer",{enabled:0,A:0,M:null,W(e,t,n){},F(){},B(e){},N(e){},S(){},P(){}}),A=[].slice;"getOwnMetadata"in Reflect||(Reflect.getOwnMetadata=function(e,t){return t[e]},Reflect.metadata=function(e,t){return function(n){n[e]=t}});const M=PLATFORM.hasOwnProperty;class DI{constructor(){}static U(...e){return 0===e.length?new B:(new B).register(...e)}static q(e){const t=Reflect.getOwnMetadata("design:paramtypes",e);return null==t?PLATFORM.I:t}static G(e){let dependencies;if(null==e.inject)dependencies=DI.q(e);else{dependencies=[];let t=e;for(;"function"==typeof t;)M.call(t,"inject")&&dependencies.push(...t.inject),t=Object.getPrototypeOf(t)}return dependencies}static H(e){const t=function(e,n,r){if(null==e)throw Reporter.error(16,t.J,t);return null==e.inject&&(e.inject=[]),e.inject[r]=t,e};return t.J=null==e?"Interface":e,t.K=function(){return t},t.V=function(e){return t.V=function(){throw Reporter.error(17,t)},t.register=function(n,r){const i=null==r?t:r;return e({X:value=>n.Y(i,new W(i,0,value)),singleton:value=>n.Y(i,new W(i,1,value)),transient:value=>n.Y(i,new W(i,2,value)),T:value=>n.Y(i,new W(i,3,value)),Z:e=>n.Y(i,new W(i,5,e))})},t},t}static inject(...dependencies){return function(e,t,n){if("number"==typeof n){if(!M.call(e,"inject")){const t=DI.q(e);e.inject=t.slice()}1===dependencies.length&&(e.inject[n]=dependencies[0])}else if(t){const n=e.constructor;null==n.inject&&(n.inject=[]),n.inject[t]=dependencies[0]}else if(n)n.value.inject=dependencies;else if(0===dependencies.length){const t=DI.q(e);e.inject=t.slice()}else e.inject=dependencies}}static transient(e){return e.register=function(t){return Registration.transient(e,e).register(t,e)},e}static singleton(e){return e.register=function(t){return Registration.singleton(e,e).register(t,e)},e}}e("DI",DI);const IContainer=e("IContainer",DI.H("IContainer").K());e("IServiceLocator",IContainer),e("inject",DI.inject),e("all",t((e,t,n)=>n.getAll(e))),e("lazy",t((e,t,n)=>{let r=null;return()=>(null==r&&(r=n.get(e)),r)})),e("optional",t((e,t,n)=>n.has(e,1)?n.get(e):null)),(function(e){e[e.X=0]="instance",e[e.singleton=1]="singleton",e[e.transient=2]="transient",e[e.T=3]="callback",e[e.ee=4]="array",e[e.te=5]="alias"})(g||(g={}));class W{constructor(e,strategy,t){this.key=e,this.strategy=strategy,this.state=t}register(e,t){return e.Y(t||this.key,this)}resolve(e,t){switch(this.strategy){case 0:return this.state;case 1:{this.strategy=0;const t=e.ne(this.state);return this.state=t.construct(e)}case 2:return e.ne(this.state).construct(t);case 3:return this.state(e,t,this);case 4:return this.state[0].resolve(e,t);case 5:return e.get(this.state);default:throw Reporter.error(6,this.strategy)}}ne(e){switch(this.strategy){case 1:case 2:return e.ne(this.state);default:return null}}}class F{constructor(e,t,dependencies){this.re=e,this.ie=t,this.dependencies=dependencies,this.se=null}static create(e){const dependencies=DI.G(e);return new F(e,N.length>dependencies.length?N[dependencies.length]:S,dependencies)}construct(e,t){Tracer.enabled&&Tracer.W("Factory","construct",[this.re,...A.call(arguments)]);const n=this.se;let r=void 0!==t?this.ie.oe(e,this.re,this.dependencies,t):this.ie.le(e,this.re,this.dependencies);if(null==n)return Tracer.enabled&&Tracer.F(),r;for(let e=0,t=n.length;t>e;++e)r=n[e](r);return Tracer.enabled&&Tracer.F(),r}ue(e){return null==this.se&&(this.se=[]),this.se.push(e),1}}const x={resolve:(e,t)=>t};class B{constructor(e={}){this.parent=null,this.ce=0,this.ae=new Map,this.fe=e,null==e.he&&(e.he=new Map),this.he=e.he,this.de=e.de||(e.de=Object.create(null)),this.ae.set(IContainer,x)}register(...e){if(Tracer.enabled&&Tracer.W("Container","register",A.call(arguments)),100==++this.ce)throw Error("Unable to autoregister dependency");let t,n,value,r,s;for(let o=0,l=e.length;l>o;++o)if(i(t=e[o]))t.register(this);else if(void 0!==t.prototype)Registration.singleton(t,t).register(this);else for(r=0,s=(n=Object.keys(t)).length;s>r;++r)i(value=t[n[r]])?value.register(this):this.register(value);return--this.ce,Tracer.enabled&&Tracer.F(),this}Y(e,t){s(e);const n=this.ae,r=n.get(e);return null==r?(n.set(e,t),"string"==typeof e&&(this.de[e]=t)):r instanceof W&&4===r.strategy?r.state.push(t):n.set(e,new W(e,4,[r,t])),t}ue(e,t){const n=this.ge(e);if(null==n)return 0;if(n.ne){const e=n.ne(this);return null==e?0:e.ue(t)}return 0}ge(e,t=1){if(s(e),void 0!==e.resolve)return e;let n,r=this;for(;null!=r;){if(null!=(n=r.ae.get(e)))return n;if(null==r.parent)return t?this.ye(e,r):null;r=r.parent}return null}has(e,t=0){return this.ae.has(e)?1:t&&null!=this.parent?this.parent.has(e,1):0}get(e){if(Tracer.enabled&&Tracer.W("Container","get",A.call(arguments)),s(e),void 0!==e.resolve)return Tracer.enabled&&Tracer.F(),e.resolve(this,this);let t,n=this;for(;null!=n;){if(null!=(t=n.ae.get(e)))return Tracer.enabled&&Tracer.F(),t.resolve(n,this);if(null==n.parent)return t=this.ye(e,n),Tracer.enabled&&Tracer.F(),t.resolve(n,this);n=n.parent}throw Error(`Unable to resolve key: ${e}`)}getAll(e){Tracer.enabled&&Tracer.W("Container","getAll",A.call(arguments)),s(e);let t,n=this;for(;null!=n;){if(null!=(t=n.ae.get(e)))return Tracer.enabled&&Tracer.F(),o(t,n,this);if(null==this.parent)return Tracer.enabled&&Tracer.F(),PLATFORM.I;n=n.parent}return Tracer.enabled&&Tracer.F(),PLATFORM.I}ne(e){let t=this.he.get(e);return null==t&&(t=F.create(e),this.he.set(e,t)),t}pe(){Tracer.enabled&&Tracer.W("Container","createChild",A.call(arguments));const e=this.fe,t={he:e.he,de:Object.assign(Object.create(null),e.de)},n=new B(t);return n.parent=this,Tracer.enabled&&Tracer.F(),n}ye(e,t){if(void 0!==e.register){const n=e.register(t,e);if(!(n instanceof Object)||null==n.resolve){const n=t.ae.get(e);if(null!=n)return n;throw Reporter.error(40)}return n}const n=new W(e,1,e);return t.ae.set(e,n),n}}class Registration{constructor(){}static X(e,value){return new W(e,0,value)}static singleton(e,value){return new W(e,1,value)}static transient(e,value){return new W(e,2,value)}static T(e,t){return new W(e,3,t)}static te(e,t){return new W(t,5,e)}}e("Registration",Registration),e("InstanceProvider",class{constructor(){this.X=null}me(e){this.X=e}resolve(e,t){if(void 0===this.X)throw Reporter.error(50);return this.X}ve(){this.X=null}});const N=[{le:(e,t)=>new t,oe:l},{le:(e,t,n)=>new t(e.get(n[0])),oe:l},{le:(e,t,n)=>new t(e.get(n[0]),e.get(n[1])),oe:l},{le:(e,t,n)=>new t(e.get(n[0]),e.get(n[1]),e.get(n[2])),oe:l},{le:(e,t,n)=>new t(e.get(n[0]),e.get(n[1]),e.get(n[2]),e.get(n[3])),oe:l},{le:(e,t,n)=>new t(e.get(n[0]),e.get(n[1]),e.get(n[2]),e.get(n[3]),e.get(n[4])),oe:l}],S={le:l,oe:l},P=encodeURIComponent,U=e=>P(e).replace("%24","$");e("Profiler",(function(){const e=PLATFORM.now,t=[];let n;const r={we(name){t.push(name);let r=0,i=0;return{W(){1==++r&&(i=e(),++n[name].be),++n[name].ke},F(){0==--r&&(n[name].duration+=e()-i)}}},enable(){n={};for(const e of t)n[e]={name:e,duration:0,be:0,ke:0};r.enabled=1},disable(){r.enabled=0},$e(e){Object.keys(n).map(e=>n[e]).sort((e,t)=>t.duration-e.duration).forEach(t=>{e(t.name,t.duration,t.be,t.ke)})},enabled:0};return r})()),e("RuntimeCompilationResources",class{constructor(e){this.context=e}find(e,name){const t=e.je(name),n=this.context.de;let r=n[t];if(void 0===r&&(r=n[t]=this.context.ge(t,0)),null!=r&&r.ne){const e=r.ne(this.context);if(null!=e){const t=e.re.description;return void 0===t?null:t}}return null}create(e,name){const t=e.je(name),n=this.context.de;let r=n[t];if(void 0===r&&(r=n[t]=this.context.ge(t,0)),null!=r){const e=r.resolve(this.context,this.context);return void 0===e?null:e}return null}});class Q{constructor(e,t){this.Te=e,this.T=t}i(e){e instanceof this.Te&&this.T.call(null,e)}}e("IEventAggregator",DI.H("IEventAggregator").V(e=>e.singleton(EventAggregator)));class EventAggregator{constructor(){this.Ee={},this.messageHandlers=[]}Ce(e,t){let n,r;if(!e)throw Reporter.error(0);if("string"==typeof e){const i=e;if(null!=(n=this.Ee[i]))for(r=(n=n.slice()).length;r--;)f(n[r],t,i)}else{const t=e;for(r=(n=this.messageHandlers.slice()).length;r--;)d(n[r],t)}}subscribe(e,t){let n,r;if(!e)throw Reporter.error(0);if("string"==typeof e){const i=e;n=t,void 0===this.Ee[i]&&(this.Ee[i]=[]),r=this.Ee[i]}else n=new Q(e,t),r=this.messageHandlers;return r.push(n),{ve(){const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}}De(e,t){const n=this.subscribe(e,(e,r)=>(n.ve(),t(e,r)));return n}}e("EventAggregator",EventAggregator);const q={},z={},G={},H={}}}});
