var au=(function(t){"use strict";function i(){}function s(t){return function(i){const s=function(t,i,e){DI.inject(s)(t,i,e)};return s.resolve=function(s,e){return t(i,s,e)},s}}function e(t){return DI.transient(t)}function n(t){return DI.singleton(t)}function r(t){return"function"==typeof t.register}function h(t){if(null==t||t===Object)throw Reporter.error(5)}function o(t,i,s){if(t instanceof Ki&&4===t.strategy){const e=t.state;let n=e.length;const r=Array(n);for(;n--;)r[n]=e[n].resolve(i,s);return r}return[t.resolve(i,s)]}function l(t,i,s,e){let n,r=s.length,h=Array(r);for(;r--;){if(null==(n=s[r]))throw Reporter.error(7,`Index ${r}.`);h[r]=t.get(n)}return void 0!==e&&(h=h.concat(e)),Reflect.construct(i,h)}function c(t,value,i){let s=[];if(null==value)return s;if(Array.isArray(value))for(let e=0,n=value.length;n>e;e++)i?s.push(`${Ji(t)}=${Xi(value[e])}`):s=s.concat(c(`${t}[${"object"==typeof value[e]&&null!==value[e]?e:""}]`,value[e]));else if("object"!=typeof value||i)s.push(`${Ji(t)}=${Xi(value)}`);else for(const i in value)s=s.concat(c(`${t}[${i}]`,value[i]));return s}function u(t,value){return Array.isArray(t)?(t.push(value),t):void 0!==t?[t,value]:value}function a(t,i,value){let s=t;const e=i.length-1;for(let t=0;e>=t;t++){const n=""===i[t]?s.length:i[t];s=s[n]=e>t?(s[n]&&"object"!=typeof s[n]?[s[n]]:s[n])||(isNaN(i[t+1])?{}:[]):value}}function f(t,i,s){try{t(i,s)}catch(t){Reporter.error(0,t)}}function d(t,i){try{t.t(i)}catch(t){Reporter.error(0,t)}}function attributePattern(...t){return function(i){const s=i.prototype;return(function(t,i){for(const def of i)def.pattern in t?"function"!=typeof t[def.pattern]&&Reporter.write(402,def):Reporter.write(401,def)})(s,t),s.i=t,i.register=function(t){return Registration.singleton(IAttributePattern,i).register(t,IAttributePattern)},i}}function g(t,i,s,e){var n,r,h=arguments.length,o=3>h?i:null===e?e=Object.getOwnPropertyDescriptor(i,s):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,i,s,e);else for(r=t.length-1;r>=0;r--)(n=t[r])&&(o=(3>h?n(o):h>3?n(i,s,o):n(i,s))||o);return h>3&&o&&Object.defineProperty(i,s,o),o}function subscriberCollection(t){return function(i){const s=i.prototype;switch(s.s=0,s.h=null,s.o=null,s.l=null,s.u=null,s.g=p,s.p=b,s.m=T,s.v=C,t){case MutationKind.C:s.T=m;break;case MutationKind.R:s.T=v;break;case MutationKind.A:s.T=y}}}function p(t){if(this.m(t))return 0;const i=this.s;return 1&i?2&i?4&i?8&i?(this.u.push(t),1):(this.u=[t],this.s|=8,1):(this.l=t,this.s|=4,1):(this.o=t,this.s|=2,1):(this.h=t,this.s|=1,1)}function b(t){const i=this.s;if(1&i&&this.h===t)return this.h=null,this.s&=-2,1;if(2&i&&this.o===t)return this.o=null,this.s&=-3,1;if(4&i&&this.l===t)return this.l=null,this.s&=-5,1;if(8&i){const i=this.u;for(let s=0,e=i.length;e>s;++s)if(i[s]===t)return i.splice(s,1),1===e&&(this.s&=-9),1}return 0}function m(t,i,s){const e=this.h,n=this.o,r=this.l;let h=this.u;null!==h&&(h=h.slice()),null!==e&&w(e,t,i,s,this[e.id]),null!==n&&w(n,t,i,s,this[n.id]),null!==r&&w(r,t,i,s,this[r.id]);const o=h&&h.length;if(void 0!==o&&o>0){let e=null;for(let n=0;o>n;++n)null!==(e=h[n])&&w(e,t,i,s,this[e.id])}}function w(t,i,s,e,n){void 0===n?t.B(i,s,e):48==(48&(e|n))?(262144&e)>0&&t.B(i,s,-262193&e|n):t.B(i,s,e|n)}function v(t,i,s){const e=this.h,n=this.o,r=this.l;let h=this.u;null!==h&&(h=h.slice()),null!==e&&e.B(t,i,s),null!==n&&n.B(t,i,s),null!==r&&r.B(t,i,s);const o=h&&h.length;if(void 0!==o&&o>0)for(let e=0;o>e;++e){const n=h[e];null!==n&&n.B(t,i,s)}this.I.O(this).catch(t=>{throw t})}function y(t,i,s,e){const n=this.h,r=this.o,h=this.l;let o=this.u;null!==o&&(o=o.slice()),null!==n&&n.B(t,i,s,e),null!==r&&r.B(t,i,s,e),null!==h&&h.B(t,i,s,e);const l=o&&o.length;if(void 0!==l&&l>0)for(let n=0;l>n;++n){const r=o[n];null!==r&&r.B(t,i,s,e)}}function C(){return 0!==this.s}function T(t){const i=this.s;if(1&i&&this.h===t)return 1;if(2&i&&this.o===t)return 1;if(4&i&&this.l===t)return 1;if(8&i){const i=this.u;for(let s=0,e=i.length;e>s;++s)if(i[s]===t)return 1}return 0}function batchedSubscriberCollection(){return function(t){const i=t.prototype;i.k=0,i.S=null,i.P=null,i.L=null,i.j=null,i.$=R,i.D=A,i.M=I,i.V=O,i.F=B}}function R(t){if(this.M(t))return 0;const i=this.k;return 1&i?2&i?4&i?8&i?(this.j.push(t),1):(this.j=[t],this.k|=8,1):(this.L=t,this.k|=4,1):(this.P=t,this.k|=2,1):(this.S=t,this.k|=1,1)}function A(t){const i=this.k;if(1&i&&this.S===t)return this.S=null,this.k&=-2,1;if(2&i&&this.P===t)return this.P=null,this.k&=-3,1;if(4&i&&this.L===t)return this.L=null,this.k&=-5,1;if(8&i){const i=this.j;for(let s=0,e=i.length;e>s;++s)if(i[s]===t)return i.splice(s,1),1===e&&(this.k&=-9),1}return 0}function B(t,i){const s=this.S,e=this.P,n=this.L;let r=this.j;null!==r&&(r=r.slice()),null!==s&&s.U(t,i),null!==e&&e.U(t,i),null!==n&&n.U(t,i);const h=r&&r.length;if(void 0!==h&&h>0)for(let s=0;h>s;++s){const e=r[s];null!==e&&e.U(t,i)}}function O(){return 0!==this.k}function I(t){const i=this.k;if(1&i&&this.S===t)return 1;if(2&i&&this.P===t)return 1;if(4&i&&this.L===t)return 1;if(8&i){const i=this.j;for(let s=0,e=i.length;e>s;++s)if(i[s]===t)return 1}return 0}function k(value){return null!==value&&"object"==typeof value}function S(value,t){if(k(value))if(void 0!==value.N){const i=value.N;let s,e;for(s in i)void 0!==(e=i[s]).q&&e.q(468|t)}else void 0!==value.H&&void 0!==value.H.q&&value.H.q(468|t)}function P(t){0==this.K&&(this.K=1,this.W=this.G[this.Z],0==(4&this._)&&(us.get=(()=>this.X()),us.set=(value=>{this.J(value,0)}),cs(this.G,this.Z,us)||Reporter.write(1,this.Z,this.G))),this.g(t)}function E(){Reflect.deleteProperty(this.G,this.Z),this.G=null,this.Z=null,this.W=null}function propertyObserver(){return function(t){subscriberCollection(MutationKind.C)(t);const i=t.prototype;i.K=0,i.G=null,i.Z=null,i.W=Symbol(),i.subscribe=i.subscribe||P,i.unsubscribe=i.unsubscribe||i.p,i.Y=i.Y||E}}function L(t){const i=BindingBehaviorResource.tt(this.description.name);t.register(Registration.singleton(i,this))}function j(t){const i=this.kind.tt(this.description.name);t.register(Registration.singleton(i,this))}function hasBind(t){return 2048==(2048&t.it)}function hasUnbind(t){return 4096==(4096&t.it)}function isLiteral(t){return 16384==(16384&t.it)}function arePureLiterals(t){if(void 0===t||0===t.length)return 1;for(let i=0;t.length>i;++i)if(!isPureLiteral(t[i]))return 0;return 1}function isPureLiteral(t){if(isLiteral(t))switch(t.it){case 17955:return arePureLiterals(t.elements);case 17956:return arePureLiterals(t.values);case 17958:return arePureLiterals(t.st);case 17925:return 1}return 0}function $(t,i,s,e){const n=e.length,r=Array(n);for(let h=0;n>h;++h)r[h]=e[h].evaluate(t,i,s);return r}function D(t,i,name){const s=null==i?null:i[name];if("function"==typeof s)return s;if(!(1048576&t)&&null==s)return null;throw Reporter.error(207,i,name,s)}function M(strategy){return 0==(strategy&bs)||8===strategy?1|strategy:strategy}function V(t){if(t===Ts){const i=ys.length=Cs.length=(Ts+=5)+1;for(let s=t+1;i>s;++s)ys[s]=`_observer${s}`,Cs[s]=`_observerVersion${s}`}}function x(t){const i=void 0===this.et?0:this.et;let s=i;for(;s--&&this[ys[s]]!==t;);if(-1===s){for(s=0;this[ys[s]];)s++;this[ys[s]]=t,t.subscribe(this),t[this.id]|=16,s===i&&(this.et=s+1)}void 0===this.version&&(this.version=0),this[Cs[s]]=this.version,V(s)}function F(t,i,s){const e=this.rt.nt(t,i,s);this.ht(e)}function U(all){const t=this.et;let i,s;if(1==all)for(let e=0;t>e;++e)null!=(s=this[i=ys[e]])&&(this[i]=null,s.unsubscribe(this),s[this.id]&=-17);else{const e=this.version;for(let n=0;t>n;++n)this[Cs[n]]!==e&&null!=(s=this[i=ys[n]])&&(this[i]=null,s.unsubscribe(this),s[this.id]&=-17)}}function N(t){const i=t.prototype;return i.hasOwnProperty("observeProperty")||(i.ot=F),i.hasOwnProperty("unobserve")||(i.unobserve=U),i.hasOwnProperty("addObserver")||(i.ht=x),t}function connectable(t){return void 0===t?N:N(t)}function q(t,i){if(this.W!==(t=null==t?this.defaultValue:t)){if(this.oldValue=this.W,this.W=t,!(2496&i)||this.lt&&4194304&i)return this.ct=i,this.I.O(this);this.ut(t,i)}return Promise.resolve()}function z(t){if(this.lt&&4194304&t)return void this.I.O(this).catch(t=>{throw t});const i=this.W;this.oldValue!==i&&(this.ut(i,this.ct|t|16),this.oldValue=this.W)}function H(t){const i=this.X();this.W!==i&&(this.ut(i,this.ct|t|16),this.W=i),S(i,t)}function K(){this.W=null,this.oldValue=null,this.defaultValue=null,this.G=null,this.Z=""}function targetObserver(t=null){return function(i){subscriberCollection(MutationKind.C)(i);const s=i.prototype;s.at=null,s.W=t,s.oldValue=t,s.defaultValue=t,s.G=null,s.Z="",s.q=s.q||H,s.J=s.J||q,s.flush=s.flush||z,s.Y=s.Y||K}}function W(t){this.F(this.ft,t|this._),this.dt&&this.dt.q(464|this._),this.gt()}function Q(){this.R.H=void 0,this.R=null,this.ft=null}function G(){const t=this.R.length,i=this.ft=Array(t);let s=0;for(;t>s;)i[s]=s++;i.pt=[]}function Z(){const t=this.R.size,i=this.ft=Array(t);let s=0;for(;t>s;)i[s]=s++;i.pt=[]}function _(){return void 0===this.dt?this.dt=new CollectionLengthObserver(this,this.bt):this.dt}function collectionObserver(t){return function(i){subscriberCollection(MutationKind.R)(i),batchedSubscriberCollection()(i);const s=i.prototype;s.at=null,s.R=null,s.ft=null,s.wt=0,s.bt=8&t?"length":"size",s.vt=t,s.gt=8&t?G:Z,s.flush=W,s.Y=Q,s.yt=_,s.subscribe=s.subscribe||s.g,s.unsubscribe=s.unsubscribe||s.p,s.Ct=s.Ct||s.$,s.Tt=s.Tt||s.D}}function X(t,i){return t===i?0:(i=null===i?"null":""+i)>(t=null===t?"null":""+t)?-1:1}function J(t,i){return void 0===t?void 0===i?0:1:void 0===i?-1:0}function Y(t,i,from,to,s){let e,n,r,h,o,l,c;for(l=from+1;to>l;l++){for(e=t[l],n=i[l],c=l-1;c>=from&&(h=i[c],(o=s(r=t[c],e))>0);c--)t[c+1]=r,i[c+1]=h;t[c+1]=e,i[c+1]=n}}function tt(t,i,from,to,s){let e,n,r,h,o,l,c,u,a,f,d,g,p,b,m,w,v,y,C,T=0,R=0;for(;;){if(10>=to-from)return void Y(t,i,from,to,s);h=i[from],o=i[to-1],r=t[T=from+(to-from>>1)],l=i[T],(c=s(e=t[from],n=t[to-1]))>0&&(f=e,d=h,e=n,h=o,n=f,o=d),0>(u=s(e,r))?(a=s(n,r))>0&&(f=n,d=o,n=r,o=l,r=f,l=d):(f=e,d=h,e=r,h=l,r=n,l=o,n=f,o=d),t[from]=e,i[from]=h,t[to-1]=r,i[to-1]=l,g=n,p=o,m=to-1,t[T]=t[b=from+1],i[T]=i[b],t[b]=g,i[b]=p;t:for(R=b+1;m>R;R++)if(v=i[R],0>(y=s(w=t[R],g)))t[R]=t[b],i[R]=i[b],t[b]=w,i[b]=v,b++;else if(y>0){do{if(--m==R)break t;y=s(C=t[m],g)}while(y>0);t[R]=t[m],i[R]=i[m],t[m]=w,i[m]=v,0>y&&(w=t[R],v=i[R],t[R]=t[b],i[R]=i[b],t[b]=w,i[b]=v,b++)}b-from>to-m?(tt(t,i,m,to,s),to=b):(tt(t,i,from,b,s),from=m)}}function enableArrayObservation(){for(const t of Fs)1!=Ps[t].K&&def(Ps,t,Object.assign({},Ns,{value:Us[t]}))}function it(t,i,s){return s.H||new ArrayObserver(t,i,s)}function enableMapObservation(){for(const t of Qs)1!=qs[t].K&&_s(qs,t,Object.assign({},Zs,{value:Gs[t]}))}function st(t,i,s){return s.H||new MapObserver(t,i,s)}function enableSetObservation(){for(const t of se)1!=Xs[t].K&&re(Xs,t,Object.assign({},ne,{value:ee[t]}))}function et(t,i,s){return s.H||new SetObserver(t,i,s)}function getCollectionObserver(t,i,s){const e=s instanceof Object?ProxyObserver.Rt(s):s;switch(ue.call(s)){case"[object Array]":return it(t,i,e);case"[object Map]":return st(t,i,e);case"[object Set]":return et(t,i,e)}return null}function nt(t,i,s){const e=this.At;PLATFORM.global.clearTimeout(e.Bt),e.Bt=PLATFORM.global.setTimeout(()=>{this.Ot(t,i,s)},e.It)}function rt(t,i,s){const e=this.At;if(PLATFORM.global.clearTimeout(e.Bt),!(s&e.kt))return e.oldValue=be,void this.Ot(t,i,s);e.oldValue===be&&(e.oldValue=i);const n=PLATFORM.global.setTimeout(()=>{const i=e.oldValue;e.oldValue=be,this.Ot(t,i,s)},e.It);e.Bt=n}function ht(t){const i=this.St,s=+new Date-i.Pt;if(s>=i.It)return PLATFORM.global.clearTimeout(i.Bt),i.Bt=-1,i.Pt=+new Date,void this.Et(t);if(i.newValue=t,-1===i.Bt){const t=PLATFORM.global.setTimeout(()=>{i.Bt=-1,i.Pt=+new Date,this.Et(i.newValue)},i.It-s);i.Bt=t}}function bindable(t,i){let s;const e=function(t,i){arguments.length>1&&(s.Lt=i),we.for(t.constructor).add(s)};return arguments.length>1?(s={},void e(t,i)):"string"==typeof t?(s={},e):(s=t||{},e)}function ot(name){return`${ve}:${name}`}function lt(t){return void 0===t.$customElement?null:t.$customElement}function ct(name){return`${ye}:${name}`}function buildTemplateDefinition(t,i,template,cache,build,bindables,instructions,dependencies,surrogates,containerless,shadowOptions,hasSlots,strategy){const def=new Re,s=arguments.length;switch(s){case 13:null!==strategy&&(def.strategy=M(strategy));case 12:null!==hasSlots&&(def.hasSlots=hasSlots);case 11:null!==shadowOptions&&(def.shadowOptions=shadowOptions);case 10:null!==containerless&&(def.containerless=containerless);case 9:null!==surrogates&&(def.surrogates=PLATFORM.toArray(surrogates));case 8:null!==dependencies&&(def.dependencies=PLATFORM.toArray(dependencies));case 7:null!==instructions&&(def.instructions=PLATFORM.toArray(instructions));case 6:null!==bindables&&(def.bindables=Object.assign({},bindables));case 5:null!==build&&(def.build=1==build?Ce:0==build?Te:Object.assign({},build));case 4:null!==cache&&(def.cache=cache);case 3:null!==template&&(def.template=template);case 2:null!==t&&(t.bindables&&(def.bindables=we.for(t).get()),t.containerless&&(def.containerless=t.containerless),t.shadowOptions&&(def.shadowOptions=t.shadowOptions)),"string"==typeof i?i.length>0&&(def.name=i):null!==i&&(def.strategy=M(i.strategy),Ae.forEach(t=>{i[t]&&(def[t]=i[t])}),Be.forEach(t=>{i[t]&&(def[t]=PLATFORM.toArray(i[t]))}),i.bindables&&(def.bindables===PLATFORM.jt?def.bindables=we.for(i).get():Object.assign(def.bindables,i.bindables)))}return 2!==s||null===t||"string"!=typeof i&&"build"in i||(def.build=Ce),def}function ut(t){if(8&this.$state)return;const i=this.$lifecycle;i.$t(),this.$state|=4,t|=8192;const s=this.$hooks;16&s&&this.Dt(t),this.$state|=8,this.$state&=-5,32&s&&i.Mt(this),i.Vt(t)}function at(t){if(8&this.$state)return;const i=this.$lifecycle;i.$t(),this.$state|=4,t|=8192;const s=this.$hooks;16&s&&this.Dt(t);let e=this.xt;for(;null!==e;)e.Ft(t),e=e.Ut;i.Nt(this),this.$state|=8,this.$state&=-5,32&s&&i.Mt(this),i.Vt(t)}function ft(t){if(8&this.$state)return;this.$state|=4,t|=8192;let i=this.xt;for(;null!==i;)i.Ft(t),i=i.Ut;this.$lifecycle.Nt(this),this.$state|=8,this.$state&=-5}function dt(t){if(8&this.$state){const i=this.$lifecycle;i.qt(),this.$state|=32,t|=16384;const s=this.$hooks;64&s&&this.zt(t),this.$state&=-41,128&s&&i.Ht(this),i.Kt(t)}}function gt(t){if(8&this.$state){const i=this.$lifecycle;i.qt(),this.$state|=32,2097152&(t|=16384)^2097152|1024&t&&(i.Wt(this),t|=2097152);const s=this.$hooks;64&s&&this.zt(t);let e=this.Qt;for(;null!==e;)e.Gt(t),e=e.Zt;this.$state&=-41,128&s&&i.Ht(this),i.Kt(t)}}function pt(t){if(8&this.$state){this.$state|=32,2097152&(t|=16384)^2097152|1024&t&&(this.$lifecycle.Wt(this),t|=2097152);let i=this.Qt;for(;null!==i;)i.Gt(t),i=i.Zt;this.$state&=-41}}function bt(t){2048&this.$hooks&&this._t(t|=32768)}function mt(t){t|=32768,2048&this.$hooks&&this._t(t);let i=this.Qt;for(;null!==i;)i.Xt(t),i=i.Zt}function wt(t){t|=32768;let i=this.Qt;for(;null!==i;)i.Xt(t),i=i.Zt}function vt(){16&this.$state||(this.$state|=16,this.Yt.Jt(this.$nodes))}function yt(){16&this.$state&&(this.$state&=-17,this.Yt.ti(this.$nodes))}function Ct(){16&this.$state||(this.$state|=16,this.$nodes.insertBefore(this.location))}function Tt(){return 16&this.$state?(this.$state&=-17,this.$nodes.remove(),this.ii&&(this.ii=0,this.cache.si(this))?(this.$state|=128,1):0):0}function Rt(t,i){if(t|=2048,2&this.$state){if(this.$scope===i)return;this.ei(t)}const s=this.$lifecycle;s.ni(),this.$state|=1;const e=this.$hooks;8&e&&s.ri(this),this.$scope=i,4&e&&this.hi(t),this.$state|=2,this.$state&=-2,s.oi(t)}function At(t,i){if(2&this.$state)return;const s=this.$scope;s.li=i;const e=this.$lifecycle;e.ni(),this.$state|=1;const n=this.$hooks;t|=2048,8&n&&e.ri(this);let r=this.ci;for(;null!==r;)r.ui(t,s),r=r.ai;4&n&&this.hi(t);let component=this.xt;for(;null!==component;)component.ui(t,s),component=component.Ut;this.$state|=2,this.$state&=-2,e.oi(t)}function Bt(t,i){if(t|=2048,2&this.$state){if(this.$scope===i)return;this.ei(t)}this.$state|=1,this.$scope=i;let s=this.ci;for(;null!==s;)s.ui(t,i),s=s.ai;let component=this.xt;for(;null!==component;)component.ui(t,i),component=component.Ut;this.$state|=2,this.$state&=-2}function Ot(t){if(t|=2048,2&this.$state)return;this.$state|=1;const i=this.$scope;let s=this.ci;for(;null!==s;)s.ui(t,i),s=s.ai;let component=this.xt;for(;null!==component;)component.ui(t,i),component=component.Ut;this.$state|=2,this.$state&=-2}function It(t){if(2&this.$state){const i=this.$lifecycle;i.fi(),this.$state|=64;const s=this.$hooks;t|=4096,512&s&&i.di(this),256&s&&this.gi(t),this.$state&=-67,i.pi(t)}}function kt(t){if(2&this.$state){const i=this.$lifecycle;i.fi(),this.$state|=64;const s=this.$hooks;t|=4096,512&s&&i.di(this),256&s&&this.gi(t);let component=this.Qt;for(;null!==component;)component.ei(t),component=component.Zt;let e=this.bi;for(;null!==e;)e.ei(t),e=e.mi;this.$scope.li=null,this.$state&=-67,i.pi(t)}}function St(t){if(2&this.$state){this.$state|=64,t|=4096;let component=this.Qt;for(;null!==component;)component.ei(t),component=component.Zt;let i=this.bi;for(;null!==i;)i.ei(t),i=i.mi;this.$state&=-67,this.$scope=null}}function Pt(t){if(2&this.$state){this.$state|=64,t|=4096;let component=this.Qt;for(;null!==component;)component.ei(t),component=component.Zt;let i=this.bi;for(;null!==i;)i.ei(t),i=i.mi;this.$state&=-67}}function Et(t){S(this,t);let component=this.xt;for(;component;)component.q(t),component=component.Ut;let i=this.ci;for(;i;)void 0!==i.q&&i.q(t),i=i.ai}function createRenderContext(dom,t,dependencies,i){const s=t.wi(),e=new je,n=new je,r=new je,h=new $e,o=new je,l=s.get(IRenderer);return dom.vi(s,n),s.yi(IViewFactory,h),s.yi(IRenderable,e),s.yi(ITargetedInstruction,r),s.yi(IRenderLocation,o),dependencies&&s.register(...dependencies),i&&i.register(s),s.Ci=function(t,i,targets,s,host,parts){l.Ci(t,dom,this,i,targets,s,host,parts)},s.Ti=function(t,i,l,c,parts,u){return e.Ri(t),n.Ri(i),r.Ri(l),c&&h.Ri(c,parts),u&&o.Ri(u),s},s.Y=function(){h.Y(),e.Y(),r.Y(),n.Y(),o.Y()},s}function Lt(t){const i=[];for(let s=0,e=t.length;e>s;++s){const component=lt(t[s]);null!==component&&i.push(component)}return i}function jt(t,i,name){Reflect.defineProperty(i,name,{Ai:1,get(){return this.N[name].X()},set(value){this.N[name].J(value,67108879&t)}})}function $t(t){const i=this.kind.tt(this.description.name);t.register(Registration.transient(i,this))}function Dt(t){return t.containerless=1,t}function Mt(t,i){const s=this.constructor;t|=s.description.strategy;const e=i.get(IRenderingEngine);let n;n=2&t?ProxyObserver.Bi(this).A:this,e.Oi(t,s,this),2&this.$hooks&&n.Ii(t)}function Vt(t,i,host,s=PLATFORM.jt){const e=this.constructor,n=e.description;t|=n.strategy;const r=i.get(IProjectorLocator),h=i.get(IRenderingEngine),dom=i.get(IDOM);let o;if(o=2&t?ProxyObserver.Bi(this).A:this,this.$scope=Scope.create(t,o,null),this.ki=host,this.Yt=r.Si(dom,this,host,n),h.Oi(t,e,this),1024&this.$hooks){const n=this.Ci(t,host,s.parts,i);n&&"getElementTemplate"in n&&n.Pi(h,e,i).Ci(this,host,s.parts)}else h.Pi(dom,n,i,e).Ci(this,host,s.parts);2&this.$hooks&&o.Ii(t)}function xt(t){const i=this.description,s=this.kind.tt(i.name),aliases=i.aliases;t.register(Registration.transient(s,this));for(let i=0,e=aliases.length;e>i;++i){const e=this.kind.tt(aliases[i]);t.register(Registration.Ei(s,e))}}function Ft(t){return t.Li=1,t}function instructionRenderer(t){return function(i){const s=function(...s){const e=new i(...s);return e.ji=t,e};s.register=function(t){return Registration.singleton(IInstructionRenderer,s).register(t,IInstructionRenderer)};const e=Object.getOwnPropertyDescriptors(i);return Object.keys(e).filter(t=>"prototype"!==t).forEach(t=>{Reflect.defineProperty(s,t,e[t])}),s}}function ensureExpression(t,i,s){return"string"==typeof i?t.parse(i,s):i}function addBinding(t,i){i.mi=t.bi,i.ai=null,null===t.bi?t.ci=i:t.bi.ai=i,t.bi=i}function addComponent(t,component){component.Zt=t.Qt,component.Ut=null,null===t.Qt?t.xt=component:t.Qt.Ut=component,t.Qt=component}function Ut(t){const i=BindingCommandResource.tt(this.description.name);t.register(Registration.singleton(i,this))}function getTarget(t,i){return 256&t.flags?t.bindable.$i:i?PLATFORM.Di(t.Mi.target):t.Mi.target}function getMode(t){return 256&t.flags?t.bindable.mode:tn[t.Mi.command]}function Nt(t){switch(t){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return t}}function parseExpression(t,i){return $state.input=t,$state.length=t.length,$state.index=0,$state.Vi=t.charCodeAt(0),qt($state,0,61,void 0===i?53:i)}function qt(t,i,s,e){if(0===t.index){if(2048&e)return(function(t){const parts=[],i=[],s=t.length;let e="";for(;s>t.index;){switch(t.Vi){case 36:if(123===t.input.charCodeAt(t.index+1)){parts.push(e),e="",t.index+=2,t.Vi=t.input.charCodeAt(t.index),Ht(t);const s=qt(t,0,61,2048);i.push(s);continue}e+="$";break;case 92:e+=String.fromCharCode(Nt(Kt(t)));break;default:e+=String.fromCharCode(t.Vi)}Kt(t)}return i.length?(parts.push(e),new Interpolation(parts,i)):null})(t);if(Ht(t),1048576&t.xi)throw Reporter.error(100,{state:t})}t.Fi=448>s;let n=void 0;if(32768&t.xi){const s=ln[63&t.xi];Ht(t),n=new Unary(s,qt(t,i,449,e)),t.Fi=0}else{t:switch(t.xi){case 3077:t.Fi=0;do{if(Ht(t),i++,!Zt(t,16392)){if(524288&t.xi){const t=511&i;n=0===t?hn:1===t?on:new AccessThis(t),i=512;break t}throw Reporter.error(103,{state:t})}if(16392===t.xi)throw Reporter.error(102,{state:t});if(1572864===t.xi)throw Reporter.error(105,{state:t})}while(3077===t.xi);case 1024:512&e?n=new BindingIdentifier(t.Ui):(n=new AccessScope(t.Ui,511&i),i=1024),t.Fi=1,Ht(t);break;case 3076:t.Fi=0,Ht(t),n=hn,i=512;break;case 671750:Ht(t),n=qt(t,0,62,e),_t(t,1835018),i=0;break;case 671756:n=(function(t,i,s){Ht(t);const e=[];for(;1835021!==t.xi;)if(Zt(t,1572875)){if(e.push(rn),1835021===t.xi)break}else{if(e.push(qt(t,i,62,-513&s)),!Zt(t,1572875))break;if(1835021===t.xi)break}return _t(t,1835021),512&s?new ArrayBindingPattern(e):(t.Fi=0,new ArrayLiteral(e))})(t,i,e),i=0;break;case 131079:n=(function(t,i){const s=[],e=[];for(Ht(t);1835017!==t.xi;){if(s.push(t.Ui),12288&t.xi)Ht(t),_t(t,1572878),e.push(qt(t,0,62,-513&i));else{if(!(3072&t.xi))throw Reporter.error(107,{state:t});{const{Vi:s,xi:n,index:r}=t;Ht(t),Zt(t,1572878)?e.push(qt(t,0,62,-513&i)):(t.Vi=s,t.xi=n,t.index=r,e.push(qt(t,0,450,-513&i)))}}1835017!==t.xi&&_t(t,1572875)}return _t(t,1835017),512&i?new ObjectBindingPattern(s,e):(t.Fi=0,new ObjectLiteral(s,e))})(t,e),i=0;break;case 540713:n=new Template([t.Ui]),t.Fi=0,Ht(t),i=0;break;case 540714:n=zt(t,i,e,n,0),i=0;break;case 4096:case 8192:n=new PrimitiveLiteral(t.Ui),t.Fi=0,Ht(t),i=0;break;case 2050:case 2051:case 2049:case 2048:n=ln[63&t.xi],t.Fi=0,Ht(t),i=0;break;default:throw Reporter.error(t.length>t.index?101:104,{state:t})}if(512&e)return(function(t,i){if(0==(65536&i.it))throw Reporter.error(106,{state:t});if(1051179!==t.xi)throw Reporter.error(106,{state:t});Ht(t);const s=i,e=qt(t,0,61,0);return new ForOfStatement(s,e)})(t,n);if(s>449)return n;let name=t.Ui;for(;(16384&t.xi)>0;)switch(t.xi){case 16392:if(t.Fi=1,Ht(t),0==(3072&t.xi))throw Reporter.error(105,{state:t});if(name=t.Ui,Ht(t),i=(1536&i)<<1|2048&i|(4096&i)>>1,671750===t.xi){0===i&&(i=2048);continue}n=1024&i?new AccessScope(name,n.Ni):new AccessMember(n,name);continue;case 671756:t.Fi=1,Ht(t),i=4096,n=new AccessKeyed(n,qt(t,0,62,e)),_t(t,1835021);break;case 671750:t.Fi=0,Ht(t);const s=[];for(;1835018!==t.xi&&(s.push(qt(t,0,62,e)),Zt(t,1572875)););_t(t,1835018),n=1024&i?new CallScope(name,s,n.Ni):2048&i?new CallMember(n,name,s):new CallFunction(n,s),i=0;break;case 540713:t.Fi=0;const r=[t.Ui];n=new TaggedTemplate(r,r,n),Ht(t);break;case 540714:n=zt(t,i,e,n,1)}}if(s>448)return n;for(;(65536&t.xi)>0;){const r=t.xi;if(s>=(448&r))break;Ht(t),n=new Binary(ln[63&r],n,qt(t,i,448&r,e)),t.Fi=0}if(s>63)return n;if(Zt(t,1572879)){const s=qt(t,i,62,e);_t(t,1572878),n=new Conditional(n,s,qt(t,i,62,e)),t.Fi=0}if(s>62)return n;if(Zt(t,1048615)){if(!t.Fi)throw Reporter.error(150,{state:t});n=new Assign(n,qt(t,i,62,e))}if(s>61)return n;for(;Zt(t,1572883);){if(1572864===t.xi)throw Reporter.error(112);const name=t.Ui;Ht(t);const s=[];for(;Zt(t,1572878);)s.push(qt(t,i,62,e));n=new ValueConverter(n,name,s)}for(;Zt(t,1572880);){if(1572864===t.xi)throw Reporter.error(113);const name=t.Ui;Ht(t);const s=[];for(;Zt(t,1572878);)s.push(qt(t,i,62,e));n=new BindingBehavior(n,name,s)}if(1572864!==t.xi){if(2048&e)return n;if("of"===t.qi)throw Reporter.error(151,{state:t});throw Reporter.error(101,{state:t})}return n}function zt(t,i,s,e,n){const r=[t.Ui];_t(t,540714);const h=[qt(t,i,62,s)];for(;540713!==(t.xi=Gt(t));)r.push(t.Ui),_t(t,540714),h.push(qt(t,i,62,s));return r.push(t.Ui),t.Fi=0,n?(Ht(t),new TaggedTemplate(r,r,e,h)):(Ht(t),new Template(r,h))}function Ht(t){for(;t.length>t.index;)if(t.zi=t.index,null!==(t.xi=gn[t.Vi](t)))return;t.xi=1572864}function Kt(t){return t.Vi=t.input.charCodeAt(++t.index)}function Wt(t,i){let s=t.Vi;if(0==i){do{s=Kt(t)}while(57>=s&&s>=48);if(46!==s)return t.Ui=parseInt(t.qi,10),8192;if(s=Kt(t),t.index>=t.length)return t.Ui=parseInt(t.qi.slice(0,-1),10),8192}if(s>57||48>s)t.Vi=t.input.charCodeAt(--t.index);else do{s=Kt(t)}while(57>=s&&s>=48);return t.Ui=parseFloat(t.qi),8192}function Qt(t){let i=1,s="";for(;96!==Kt(t);)if(36===t.Vi){if(t.length>t.index+1&&123===t.input.charCodeAt(t.index+1)){t.index++,i=0;break}s+="$"}else if(92===t.Vi)s+=String.fromCharCode(Nt(Kt(t)));else{if(t.index>=t.length)throw Reporter.error(109,{state:t});s+=String.fromCharCode(t.Vi)}return Kt(t),t.Ui=s,i?540713:540714}function Gt(t){if(t.index>=t.length)throw Reporter.error(109,{state:t});return t.index--,Qt(t)}function Zt(t,i){return t.xi===i?(Ht(t),1):0}function _t(t,i){if(t.xi!==i)throw Reporter.error(110,{state:t,Hi:i});Ht(t)}function Xt(t,i,s,value){const e=s.length;for(let n=0;e>n;n+=2){const e=s[n];let r=s[n+1];if(r=r>0?r:e+1,t&&t.fill(value,e,r),i)for(let t=e;r>t;t++)i.add(t)}}function Jt(t){return i=>(Kt(i),t)}function Yt(dom){const t=dom.createElement("au-m");return dom.Ki(t),t}function ti(t){t.Wi(this)}function ii(t){return t.Qi&&t.Qi()[0]||t.Gi&&t.Gi()[0]||t.path&&t.path[0]||t.target}function si(){this.Zi(),this._i=1}function ei(t){t._i=0;let i=ii(t);const s=[];for(;i;){if(i.Xi){const e=i.Xi[t.type];e&&(t.stopPropagation!==si&&(t.Zi=t.stopPropagation,t.stopPropagation=si),s.push(e))}i=i.parentNode}for(let i=s.length-1;i>=0&&!t._i;i--){const e=s[i];"handleEvent"in e?e.Ji(t):e(t)}}function ni(t){t._i=0;let i=ii(t);for(;i&&!t._i;){if(i.Yi){const s=i.Yi[t.type];s&&(t.stopPropagation!==si&&(t.Zi=t.stopPropagation,t.stopPropagation=si),"handleEvent"in s?s.Ji(t):s(t))}i=i.parentNode}}function ri(t,i){return t===i}function hi(t,i,s){if(1==Vn[i])return 1;const e=i.slice(0,5);return Vn[i]="aria-"===e||"data-"===e||s.ts(t,i)}function oi(t){const i=ii(t);if(this.target===i)return this.ss(t)}function isHTMLTargetedInstruction(value){const type=value.type;return"string"==typeof type&&2===type.length}function createElement(dom,t,i,s){return"string"==typeof t?(function(dom,i,s,e){const instructions=[],n=[],dependencies=[],r=dom.createElement(t);let h=0;return s&&Object.keys(s).forEach(to=>{const value=s[to];isHTMLTargetedInstruction(value)?(h=1,instructions.push(value)):dom.setAttribute(r,to,value)}),h&&(dom.Ki(r),n.push(instructions)),e&&li(dom,r,e,n,dependencies),new RenderPlan(dom,r,n,dependencies)})(dom,0,i,s):(function(dom,t,i,s){const e=t.description.name,instructions=[],n=[instructions],dependencies=[],r=[],bindables=t.description.bindables,h=dom.createElement(e);return dom.Ki(h),dependencies.includes(t)||dependencies.push(t),instructions.push(new HydrateElementInstruction(e,r)),i&&Object.keys(i).forEach(to=>{const value=i[to];if(isHTMLTargetedInstruction(value))r.push(value);else{r.push(bindables[to]?{type:"re",to,value}:new SetAttributeInstruction(value,to))}}),s&&li(dom,h,s,n,dependencies),new RenderPlan(dom,h,n,dependencies)})(dom,t,i,s)}function li(dom,t,i,s,dependencies){for(let e=0,n=i.length;n>e;++e){const n=i[e];switch(typeof n){case"string":dom.appendChild(t,dom.createTextNode(n));break;case"object":dom.es(n)?dom.appendChild(t,n):"mergeInto"in n&&n.ns(t,s,dependencies)}}}function ci(t){const i=t.index,{length:s,input:e}=t;for(;s>t.index&&58!==e.charCodeAt(++t.index););return e.slice(i,t.index).trim()}function ui(t){++t.index;const{length:i,input:s}=t;let e="",n=0;for(;i>t.index;){switch(n=s.charCodeAt(t.index)){case 59:return++t.index,e.trim();case 47:n=s.charCodeAt(++t.index),e+=`\\${ar(n)}`;break;case 39:e+="'";break;default:e+=ar(n)}++t.index}return e.trim()}function stringifyDOM(t,i){let s=" ".repeat(i);if(s+=`Node: ${t.nodeName}`,3===t.nodeType&&(s+=` "${t.textContent}"`),1===t.nodeType){let i,e=0;const n=t.attributes,r=n.length;for(;r>e;++e)s+=` ${(i=n[e]).name}=${i.value}`}if(s+="\n",1===t.nodeType){let e=0,childNodes=t.childNodes,n=childNodes.length;for(;n>e;++e)s+=stringifyDOM(childNodes[e],i+1);if("TEMPLATE"===t.nodeName)for(e=0,n=(childNodes=t.content.childNodes).length;n>e;++e)s+=stringifyDOM(childNodes[e],i+1)}return s}function stringifyInstructions(t,i){let s=" ".repeat(i);switch(t.type){case"ha":s+="textBinding\n";break;case"rh":s+="callBinding\n";break;case"rk":s+="iteratorBinding\n";break;case"hb":s+="listenerBinding\n";break;case"rg":s+="propertyBinding\n";break;case"rj":s+="refBinding\n";break;case"hd":s+="stylePropertyBinding\n";break;case"re":s+="setProperty\n";break;case"he":s+="setAttribute\n";break;case"rf":s+="interpolation\n";break;case"rd":s+="hydrateLetElement\n",t.instructions.forEach(t=>{s+=stringifyInstructions(t,i+1)});break;case"rb":s+=`hydrateAttribute: ${t.res}\n`,t.instructions.forEach(t=>{s+=stringifyInstructions(t,i+1)});break;case"ra":s+=`hydrateElement: ${t.res}\n`,t.instructions.forEach(t=>{s+=stringifyInstructions(t,i+1)});break;case"rc":s+=`hydrateTemplateController: ${t.res}\n`,s+=stringifyTemplateDefinition(t.def,i+1),t.instructions.forEach(t=>{s+=stringifyInstructions(t,i+1)})}return s}function stringifyTemplateDefinition(def,t){const i=" ".repeat(t);let s=i;return s+=`TemplateDefinition: ${def.name}\n`,s+=stringifyDOM(def.template,t+1),s+=`${i} Instructions:\n`,def.instructions.forEach(e=>{s+=`${i}  Row:\n`,e.forEach(i=>{s+=stringifyInstructions(i,t+3)})}),s}var ai,fi,di,DelegationStrategy,MutationKind,CollectionKind,gi,pi,bi,BindingMode,BindingStrategy,mi,Hooks,LifecycleFlags,ExpressionKind,BindingType,TargetedInstructionType,ViewCompileFlags,wi,vi,yi,Ci,Ti,Ri,Ai,SymbolFlags,Bi,HTMLTargetedInstructionType,NodeType,Oi,Ii,ki,Si,Pi,Ei;class AttrSyntax{constructor(t,i,s,e){this.rs=t,this.hs=i,this.target=s,this.command=e}}const Li=(function(){if("undefined"!=typeof global)return global;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return Function("","return this")()}catch(t){return{}}})(),ji=(function(){let t,i,s,e,n;if(null!=Li.performance&&Li.performance.now){const t=Li.performance;return function(){return t.now()}}if(null!=Li.process&&Li.process.os){const r=function(){return(t()-e)/1e6};return i=Li.process.os,s=(t=function(){let t;return 1e9*(t=i())[0]+t[1]})(),n=1e9*Li.process.ls(),e=s-n,r}})(),{cs:$i,us:Di,as:Mi,fs:Vi,ds:xi,gs:Fi}=(function(){if(null!=Li.performance&&Li.performance.mark&&Li.performance.measure&&Li.performance.getEntriesByName&&Li.performance.getEntriesByType&&Li.performance.clearMarks&&Li.performance.clearMeasures){const t=Li.performance;return{cs(name){t.mark(name)},us(name,i,s){t.measure(name,i,s)},as:name=>t.getEntriesByName(name),fs:type=>t.getEntriesByType(type),ds(name){t.clearMarks(name)},gs(name){t.clearMeasures(name)}}}if(null!=Li.process&&Li.process.os){const t=[],i={},s=function(i,value){let s=0;const e=t.length,n=[];for(;e>s;s++)t[s][i]===value&&n.push(t[s]);return n},e=function(type,name){let i,s=t.length;for(;s--;)(i=t[s]).entryType!==type||void 0!==name&&i.name!==name||t.splice(s,1)};return{cs(name){const s={name,entryType:"mark",startTime:ji(),duration:0};t.push(s),i[name]=s},us(name,s,e){let n,r;if(void 0!==e&&void 0===i[e])throw new SyntaxError(`Failed to execute 'measure' on 'Performance': The mark '${e}' does not exist.`);if(void 0!==s&&void 0===i[s])throw new SyntaxError(`Failed to execute 'measure' on 'Performance': The mark '${s}' does not exist.`);n=i[s]?i[s].startTime:0,r=i[e]?i[e].startTime:ji(),t.push({name,entryType:"measure",startTime:n,duration:r-n})},as:name=>s("name",name),fs:type=>s("entryType",type),ds(name){e("mark",name)},gs(name){e("measure",name)}}}})(),{ps:Ui,bs:Ni}=(function(){const t=["moz","webkit"],i="AnimationFrame";let s=Li[`request${i}`],e=Li[`cancel${i}`]||Li[`cancelRequest${i}`];for(let n=0;!s&&2>n;++n)s=Li[`${t[n]}Request${i}`],e=Li[`${t[n]}Cancel${i}`]||Li[`${t[n]}CancelRequest${i}`];if(!s||!e){let t=0,i=0;const n=[],r=1e3/60;s=function(s){let e,h;return 0===n.length&&(e=ji(),t=(h=Math.max(0,r-(e-t)))+e,setTimeout(function(){const i=n.slice(0);n.length=0;for(let s=0;i.length>s;++s)if(!i[s].ms)try{i[s].ws(t)}catch(t){setTimeout(function(){throw t},0)}},Math.round(h))),n.push({t:++i,ws:s,ms:0}),i},e=function(t){for(let i=0;n.length>i;++i)n[i].t===t&&(n[i].ms=1)}}const n=function(t){return s.call(Li,t)};return n.cancel=function(){e.apply(Li,arguments)},Li.requestAnimationFrame=s,Li.cancelAnimationFrame=e,{ps:n,bs:e}})();class qi{constructor(t,i=null){this.vs=t,this.context=i,this.next=null,this.ys=null,this.Cs=0}Ts(t,i){return this.vs===t&&this.context===(void 0===i?null:i)}Rs(t){null!==this.vs&&(null!==this.context?this.vs.call(this.context,t):this.vs(t));const i=this.next;return this.Cs&&(this.next=null),i}connect(t){this.ys=t,null!==t.next&&(t.next.ys=this),this.next=t.next,t.next=this}disconnect(t=0){this.Cs=1,this.vs=null,this.context=null,null!==this.ys&&(this.ys.next=this.next),null!==this.next&&(this.next.ys=this.ys);const i=this.next;return this.next=t?null:i,this.ys=null,i}}const zi={},Hi={},PLATFORM={global:Li,As:new class{constructor(){this.head=new qi(null,null),this.Bs=-1,this.Os=1,this.Is=-1,this.ks=0,this.Ss=null,this.resolve=i,this.Ps=(t=>{this.Bs=-1,this.ks&&(this.update(t),this.ks&&-1===this.Bs&&null!==this.head.next&&(this.Bs=Ui(this.Ps))),this.resolve(t),this.resolve=i,this.Ss=null})}add(t,i){const s=new qi(t,i);let e=this.head.next,n=this.head;if(null===e)s.connect(n);else{for(;null!==e;)n=e,e=e.next;null===s.ys&&s.connect(n)}return this.ks?this.Es():this.start(),this}remove(t,i){let s=this.head.next;for(;null!==s;)s=s.Ts(t,i)?s.disconnect():s.next;return null===this.head.next&&this.Ls(),this}start(){this.ks||(this.ks=1,this.Es())}stop(){this.ks&&(this.ks=0,this.Ls())}update(t=ji()){let i;if(t>this.Is){this.Os=~~(60*(i=t-this.Is)+.5)/1e3;const s=this.head;let e=s.next;for(;null!==e;)e=e.Rs(this.Os);null===s.next&&this.Ls()}else this.Os=0;this.Is=t}js(){return null===this.Ss&&(this.Ss=new Promise(t=>{this.resolve=t})),this.Ss}Es(){-1===this.Bs&&null!==this.head.next&&(this.Is=ji(),this.Bs=Ui(this.Ps))}Ls(){-1!==this.Bs&&(Ni(this.Bs),this.Bs=-1)}},$s:Object.freeze([]),jt:Object.freeze({}),Ds:i,now:ji,mark:$i,measure:Di,getEntriesByName:Mi,getEntriesByType:Vi,clearMarks:xi,clearMeasures:Fi,Di(t){let value=zi[t];if(void 0!==value)return value;value="";let i,s=1,e=0;for(let n=0,r=t.length;r>n;++n)"-"===(i=t.charAt(n))||"."===i||"_"===i?e=1:(value+=s?i.toLowerCase():e?i.toUpperCase():i,e=0),s=0;return zi[t]=value},Ms(t){let value=Hi[t];if(void 0!==value)return value;value="";let i,s,e=1;for(let n=0,r=t.length;r>n;++n)s=(i=t.charAt(n)).toLowerCase(),value+=e?s:i!==s?`-${s}`:s,e=0;return Hi[t]=value},toArray(t){const i=t.length,s=Array(i);for(let e=0;i>e;++e)s[e]=t[e];return s},requestAnimationFrame:t=>Ui(t),clearInterval(t){Li.clearInterval(t)},clearTimeout(t){Li.clearTimeout(t)},setInterval:(t,i,...s)=>Li.setInterval(t,i,...s),setTimeout:(t,i,...s)=>Li.setTimeout(t,i,...s)},Reporter={write(t,...i){},error:t=>Error(`Code ${t}`)},Tracer={enabled:0,Vs:0,xs:null,Fs(t,i,s){},Us(){},Ns(t){},qs(t){},zs(){},Hs(){}};"getOwnMetadata"in Reflect||(Reflect.getOwnMetadata=function(t,i){return i[t]},Reflect.metadata=function(t,i){return function(s){s[t]=i}});const DI={Ks(...t){return 0===arguments.length?new Gi:(new Gi).register(...t)},Ws:t=>Reflect.getOwnMetadata("design:paramtypes",t)||PLATFORM.$s,Qs(t){let dependencies;if(void 0===t.inject)dependencies=DI.Ws(t);else{dependencies=[];let i=t;for(;"function"==typeof i;)i.hasOwnProperty("inject")&&dependencies.push(...i.inject),i=Object.getPrototypeOf(i)}return dependencies},Gs(t){const i=function(t,s,e){if(void 0===t)throw Reporter.error(16,i.Zs,i);return(t.inject||(t.inject=[]))[e]=i,t};return i.Zs=t||"Interface",i._s=function(){return i},i.Xs=function(t){return i.Xs=function(){throw Reporter.error(17,i)},i.register=function(s,e){const n=e||i;return t({C:value=>s.yi(n,new Ki(n,0,value)),singleton:value=>s.yi(n,new Ki(n,1,value)),transient:value=>s.yi(n,new Ki(n,2,value)),ws:value=>s.yi(n,new Ki(n,3,value)),Js:t=>s.yi(n,new Ki(n,5,t))})},i},i},inject:(...dependencies)=>(function(t,i,s){if("number"==typeof s){if(!t.hasOwnProperty("inject")){const i=DI.Ws(t);t.inject=i.slice()}1===dependencies.length&&(t.inject[s]=dependencies[0])}else if(i){const s=t.constructor;(s.inject||(s.inject={}))[i]=dependencies[0]}else if(s)s.value.inject=dependencies;else if(0===dependencies.length){const i=DI.Ws(t);t.inject=i.slice()}else t.inject=dependencies}),transient:t=>(t.register=function(i){return Registration.transient(t,t).register(i,t)},t),singleton:t=>(t.register=function(i){return Registration.singleton(t,t).register(i,t)},t)},IContainer=DI.Gs("IContainer")._s(),IServiceLocator=IContainer,inject=DI.inject,all=s((t,i,s)=>s.getAll(t)),lazy=s((t,i,s)=>{let e=null;return()=>(null===e&&(e=s.get(t)),e)}),optional=s((t,i,s)=>s.has(t,1)?s.get(t):null);(function(t){t[t.C=0]="instance",t[t.singleton=1]="singleton",t[t.transient=2]="transient",t[t.ws=3]="callback",t[t.Ys=4]="array",t[t.Ei=5]="alias"})(ai||(ai={}));class Ki{constructor(t,strategy,i){this.key=t,this.strategy=strategy,this.state=i}register(t,i){return t.yi(i||this.key,this)}resolve(t,i){switch(this.strategy){case 0:return this.state;case 1:{this.strategy=0;const i=t.te(this.state);return this.state=i.construct(t)}case 2:return t.te(this.state).construct(i);case 3:return this.state(t,i,this);case 4:return this.state[0].resolve(t,i);case 5:return t.get(this.state);default:throw Reporter.error(6,this.strategy)}}te(t){switch(this.strategy){case 1:case 2:return t.te(this.state);default:return null}}}class Wi{constructor(t,i,dependencies){this.ie=t,this.se=i,this.dependencies=dependencies,this.ee=null}static create(t){const dependencies=DI.Qs(t);return new Wi(t,Zi[dependencies.length]||_i,dependencies)}construct(t,i){const s=this.ee;let e=void 0!==i?this.se.ne(t,this.ie,this.dependencies,i):this.se.re(t,this.ie,this.dependencies);if(null===s)return e;for(let t=0,i=s.length;i>t;++t)e=s[t](e);return e}he(t){return null===this.ee&&(this.ee=[]),this.ee.push(t),1}}const Qi={resolve:(t,i)=>i};class Gi{constructor(t={}){this.parent=null,this.oe=0,this.le=new Map,this.ce=t,this.ue=t.ue||(t.ue=new Map),this.ae=t.ae||(t.ae=Object.create(null)),this.le.set(IContainer,Qi)}register(...t){if(100==++this.oe)throw Error("Unable to autoregister dependency");let i,s,value,e,n;for(let h=0,o=t.length;o>h;++h)if(r(i=t[h]))i.register(this);else if(void 0!==i.prototype)Registration.singleton(i,i).register(this);else for(e=0,n=(s=Object.keys(i)).length;n>e;++e)r(value=i[s[e]])?value.register(this):this.register(value);return--this.oe,this}yi(t,i){h(t);const s=this.le,e=s.get(t);return void 0===e?(s.set(t,i),"string"==typeof t&&(this.ae[t]=i)):e instanceof Ki&&4===e.strategy?e.state.push(i):s.set(t,new Ki(t,4,[e,i])),i}he(t,i){const s=this.fe(t);if(null===s)return 0;if(s.te){const t=s.te(this);return null===t?0:t.he(i)}return 0}fe(t,i=1){if(h(t),t.resolve)return t;let s,e=this;for(;null!==e;){if(void 0!==(s=e.le.get(t)))return s;if(null===e.parent)return i?this.de(t,e):null;e=e.parent}return null}has(t,i=0){return this.le.has(t)?1:i&&null!==this.parent?this.parent.has(t,1):0}get(t){if(h(t),t.resolve)return t.resolve(this,this);let i,s=this;for(;null!==s;){if(void 0!==(i=s.le.get(t)))return i.resolve(s,this);if(null===s.parent)return(i=this.de(t,s)).resolve(s,this);s=s.parent}}getAll(t){h(t);let i,s=this;for(;null!==s;){if(void 0!==(i=s.le.get(t)))return o(i,s,this);if(null===this.parent)return PLATFORM.$s;s=s.parent}return PLATFORM.$s}te(t){let i=this.ue.get(t);return void 0===i&&(i=Wi.create(t),this.ue.set(t,i)),i}wi(){const t=this.ce,i={ue:t.ue,ae:Object.assign({},t.ae)},s=new Gi(i);return s.parent=this,s}de(t,i){if(t.register){const s=t.register(i,t);if(!s||!s.resolve)throw Reporter.error(40);return s}const s=new Ki(t,1,t);return i.le.set(t,s),s}}const Registration={C:(t,value)=>new Ki(t,0,value),singleton:(t,value)=>new Ki(t,1,value),transient:(t,value)=>new Ki(t,2,value),ws:(t,i)=>new Ki(t,3,i),Ei:(t,i)=>new Ki(i,5,t),ge:(t,...i)=>({register(s){const e=s.fe(t);if(null!==e){let t=null;if(e.te){const n=e.te(s);null!==n&&(t=n.construct(s,i))}else t=e.resolve(s,s);null!==t&&t.register(s)}}})},Zi=[{re:(t,i)=>new i,ne:l},{re:(t,i,s)=>new i(t.get(s[0])),ne:l},{re:(t,i,s)=>new i(t.get(s[0]),t.get(s[1])),ne:l},{re:(t,i,s)=>new i(t.get(s[0]),t.get(s[1]),t.get(s[2])),ne:l},{re:(t,i,s)=>new i(t.get(s[0]),t.get(s[1]),t.get(s[2]),t.get(s[3])),ne:l},{re:(t,i,s)=>new i(t.get(s[0]),t.get(s[1]),t.get(s[2]),t.get(s[3]),t.get(s[4])),ne:l}],_i={re:l,ne:l},Xi=encodeURIComponent,Ji=t=>Xi(t).replace("%24","$"),Profiler=(function(){const t=PLATFORM.now,i=[];let s;const e={pe(name){i.push(name);let e=0,n=0;return{Fs(){1==++e&&(n=t(),++s[name].be),++s[name].me},Us(){0==--e&&(s[name].duration+=t()-n)}}},enable(){s={};for(const t of i)s[t]={name:t,duration:0,be:0,me:0};e.enabled=1},disable(){e.enabled=0},we(t){Object.keys(s).map(t=>s[t]).sort((t,i)=>i.duration-t.duration).forEach(i=>{t(i.name,i.duration,i.be,i.me)})},enabled:0};return e})();class RuntimeCompilationResources{constructor(t){this.context=t}find(t,name){const i=t.tt(name),s=this.context.ae;let e=s[i];if(void 0===e&&(e=s[i]=this.context.fe(i,0)),null!==e&&e.te){const t=e.te(this.context);if(null!==t){const i=t.ie.description;return void 0===i?null:i}}return null}create(t,name){const i=t.tt(name),s=this.context.ae;let e=s[i];if(void 0===e&&(e=s[i]=this.context.fe(i,0)),null!==e){const t=e.resolve(this.context,this.context);return void 0===t?null:t}return null}}class Yi{constructor(t,i){this.ve=t,this.ws=i}t(t){t instanceof this.ve&&this.ws.call(null,t)}}fi=Object.freeze({all,DI,IContainer,inject,IServiceLocator,lazy,optional,Registration,singleton:t=>void 0===t?n:n(t),transient:t=>void 0===t?e:e(t),relativeToFile(name,t){const i=t&&t.split("/"),s=name.trim().split("/");if("."===s[0].charAt(0)&&i){const t=i.slice(0,i.length-1);s.unshift(...t)}return(function(t){const i=t.length;let s,e=0;for(;i>e;++e)if("."===(s=t[e]))t.splice(e,1),e-=1;else if(".."===s){if(0===e||1===e&&".."===t[2]||".."===t[e-1])continue;e>0&&(t.splice(e-1,2),e-=2)}})(s),s.join("/")},join(t,i){if(!t)return i;if(!i)return t;const s=t.match(/^([^\/]*?:)\//),e=s&&s.length>0?s[1]:"";let n;n=0===(t=t.slice(e.length)).indexOf("///")&&"file:"===e?"///":0===t.indexOf("//")?"//":0===t.indexOf("/")?"/":"";const r="/"===i.slice(-1)?"/":"",h=t.split("/"),o=i.split("/"),l=[];for(let t=0,i=h.length;i>t;++t)".."===h[t]?l.pop():"."!==h[t]&&""!==h[t]&&l.push(h[t]);for(let t=0,i=o.length;i>t;++t)".."===o[t]?l.pop():"."!==o[t]&&""!==o[t]&&l.push(o[t]);return e+n+l.join("/")+r},buildQueryString(t,i){let s=[];const e=Object.keys(t||{}).sort();for(let n=0,r=e.length;r>n;n++){const r=e[n];s=s.concat(c(r,t[r],i))}return 0===s.length?"":s.join("&")},parseQueryString(t){const i={};if(!t||"string"!=typeof t)return i;let s=t;"?"===s.charAt(0)&&(s=s.slice(1));const e=s.replace(/\+/g," ").split("&");for(let t=0;e.length>t;t++){const s=e[t].split("="),n=decodeURIComponent(s[0]);if(!n)continue;let r=n.split("]["),h=r.length-1;if(/\[/.test(r[0])&&/\]$/.test(r[h])?(r[h]=r[h].replace(/\]$/,""),h=(r=r.shift().split("[").concat(r)).length-1):h=0,2>s.length)i[n]=1;else{const value=s[1]?decodeURIComponent(s[1]):"";h?a(i,r,value):i[n]=u(i[n],value)}}return i},PLATFORM,Reporter,Tracer,Profiler,RuntimeCompilationResources,EventAggregator:class{constructor(){this.ye={},this.messageHandlers=[]}Ce(t,i){let s,e;if(!t)throw Reporter.error(0);if("string"==typeof t){const n=t;if(s=this.ye[n])for(e=(s=s.slice()).length;e--;)f(s[e],i,n)}else{const i=t;for(e=(s=this.messageHandlers.slice()).length;e--;)d(s[e],i)}}subscribe(t,i){let s,e;if(!t)throw Reporter.error(0);if("string"==typeof t){const n=t;s=i,e=this.ye[n]||(this.ye[n]=[])}else s=new Yi(t,i),e=this.messageHandlers;return e.push(s),{Y(){const t=e.indexOf(s);-1!==t&&e.splice(t,1)}}}Te(t,i){const s=this.subscribe(t,(t,e)=>(s.Y(),i(t,e)));return s}}});class ts{constructor(t,i,s,e){if(this.Re=t,this.repeat=i,this.Ae=s,this.Be=e,e)switch(t.length){case 0:this.has=this.Oe;break;case 1:this.has=this.Ie;break;default:this.has=this.ke}else switch(t.length){case 0:this.has=this.Se;break;case 1:this.has=this.Pe;break;default:this.has=this.Ee}}Ts(t){return this.Re===t.Re&&this.repeat===t.repeat&&this.Ae===t.Ae&&this.Be===t.Be}Ee(t){return-1!==this.Re.indexOf(t)}Pe(t){return this.Re===t}Se(t){return 0}ke(t){return-1===this.Re.indexOf(t)}Ie(t){return this.Re!==t}Oe(t){return 1}}class Interpretation{get pattern(){const value=this.Le;return""===value?null:value}set pattern(value){null===value?(this.Le="",this.parts=PLATFORM.$s):(this.Le=value,this.parts=this.je[value])}constructor(){this.Le="",this.parts=PLATFORM.$s,this.$e={},this.je={}}append(t,i){const{$e:s}=this;void 0===s[t]?s[t]=i:s[t]+=i}next(t){const{$e:i}=this;if(void 0!==i[t]){const{je:s}=this;void 0===s[t]?s[t]=[i[t]]:s[t].push(i[t]),i[t]=void 0}}}class State{get pattern(){return this.De?this.Me[0]:null}constructor(t,...i){this.Ve=t,this.xe=[],this.types=null,this.Me=i,this.De=0}Fe(t){const i=this.xe,s=i.length;let e=null;for(let n=0;s>n;++n)if(t.Ts((e=i[n]).Ve))return e;return null}append(t,i){const{Me:s}=this;-1===s.indexOf(i)&&s.push(i);let e=this.Fe(t);return null===e&&(e=new State(t,i),this.xe.push(e),t.repeat&&e.xe.push(e)),e}Ue(t,i){const s=[],e=this.xe,n=e.length;let r=0,h=null,o=0,l=0;for(;n>o;++o)if((h=e[o]).Ve.has(t))if(s.push(h),r=h.Me.length,l=0,h.Ve.Ae)for(;r>l;++l)i.next(h.Me[l]);else for(;r>l;++l)i.append(h.Me[l],t);return s}}class is{constructor(t){this.text=t;const i=this.Ne=t.length,s=this.qe=[];for(let e=0;i>e;++e)s.push(new ts(t[e],0,0,0))}ze(t){const{Ne:i,qe:s}=this;for(let e=0;i>e;++e)t(s[e])}}class ss{constructor(t){this.text="PART",this.He=new ts(t,1,0,1)}ze(t){t(this.He)}}class es{constructor(t){this.text=t,this.He=new ts(t,0,1,0)}ze(t){t(this.He)}}class ns{constructor(){this.Ke=0,this.We=0,this.symbols=0}}const ISyntaxInterpreter=DI.Gs("ISyntaxInterpreter").Xs(t=>t.singleton(rs));class rs{constructor(){this.Qe=new State(null),this.Ge=[this.Qe]}add(t){let i=0;if(Array.isArray(t)){const s=t.length;for(;s>i;++i)this.add(t[i]);return}let s=this.Qe;const def=t,e=def.pattern,n=new ns,r=this.parse(def,n),h=r.length,o=t=>{s=s.append(t,e)};for(i=0;h>i;++i)r[i].ze(o);s.types=n,s.De=1}ge(name){const t=new Interpretation;let i=this.Ge;const s=name.length;for(let e=0;s>e&&0!==(i=this.Ze(i,name.charAt(e),t)).length;++e);if(i.sort((t,i)=>{if(!t.De)return i.De?1:0;if(!i.De)return-1;const s=t.types,e=i.types;return s.Ke!==e.Ke?e.Ke-s.Ke:s.We!==e.We?e.We-s.We:s.symbols!==e.symbols?e.symbols-s.symbols:0}),i.length>0){const s=i[0];s.Ve.Ae||t.next(s.pattern),t.pattern=s.pattern}return t}Ze(t,i,s){const e=[];let n=null;const r=t.length;for(let h=0;r>h;++h)e.push(...(n=t[h]).Ue(i,s));return e}parse(def,t){const i=[],s=def.pattern,e=s.length;let n=0,r=0,h="";for(;e>n;)h=s.charAt(n),-1===def.symbols.indexOf(h)?n===r&&"P"===h&&"PART"===s.slice(n,n+4)?(r=n+=4,i.push(new ss(def.symbols)),++t.We):++n:n!==r?(i.push(new is(s.slice(r,n))),++t.Ke,r=n):(i.push(new es(s.slice(r,n+1))),++t.symbols,r=++n);return r!==n&&(i.push(new is(s.slice(r,n))),++t.Ke),i}}const IAttributePattern=DI.Gs("IAttributePattern")._s();class DotSeparatedAttributePattern{_e(t,i,parts){return new AttrSyntax(t,i,parts[0],parts[1])}Xe(t,i,parts){return new AttrSyntax(t,i,parts[0],parts[2])}}attributePattern({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})(DotSeparatedAttributePattern);class RefAttributePattern{Je(t,i,parts){return new AttrSyntax(t,i,"ref",null)}Ye(t,i,parts){return new AttrSyntax(t,i,"ref",parts[1])}}attributePattern({pattern:"ref",symbols:""},{pattern:"ref.PART",symbols:"."})(RefAttributePattern);class ColonPrefixedBindAttributePattern{tn(t,i,parts){return new AttrSyntax(t,i,parts[0],"bind")}}attributePattern({pattern:":PART",symbols:":"})(ColonPrefixedBindAttributePattern);class AtPrefixedTriggerAttributePattern{in(t,i,parts){return new AttrSyntax(t,i,parts[0],"trigger")}}attributePattern({pattern:"@PART",symbols:"@"})(AtPrefixedTriggerAttributePattern);const IAttributeParser=DI.Gs("IAttributeParser").Xs(t=>t.singleton(hs));Profiler.pe("AttributeParser");class hs{constructor(t,i){this.sn=t,this.cache={};const s=this.Me={};i.forEach(i=>{const e=i.i;t.add(e),e.forEach(def=>{s[def.pattern]=i})})}parse(name,value){let t=this.cache[name];void 0===t&&(t=this.cache[name]=this.sn.ge(name));const i=t.pattern;return null===i?new AttrSyntax(name,value,name,null):this.Me[i][i](name,value,t.parts)}}hs.inject=[ISyntaxInterpreter,all(IAttributePattern)],(function(t){t[t.en=0]="None",t[t.nn=1]="Subscriber0",t[t.rn=2]="Subscriber1",t[t.hn=4]="Subscriber2",t[t.on=8]="SubscribersRest",t[t.ln=15]="Any"})(di||(di={})),(function(DelegationStrategy){DelegationStrategy[DelegationStrategy.cn=0]="none",DelegationStrategy[DelegationStrategy.un=1]="capturing",DelegationStrategy[DelegationStrategy.an=2]="bubbling"})(DelegationStrategy||(DelegationStrategy={})),(function(MutationKind){MutationKind[MutationKind.C=1]="instance",MutationKind[MutationKind.R=2]="collection",MutationKind[MutationKind.A=4]="proxy"})(MutationKind||(MutationKind={})),(function(CollectionKind){CollectionKind[CollectionKind.fn=8]="indexed",CollectionKind[CollectionKind.dn=4]="keyed",CollectionKind[CollectionKind.Ys=9]="array",CollectionKind[CollectionKind.map=6]="map",CollectionKind[CollectionKind.set=7]="set"})(CollectionKind||(CollectionKind={}));const os=new WeakMap;let ls=class{constructor(t,i,s){this.raw=i,this.key=s,this.A=t,this.subscribe=this.g,this.unsubscribe=this.p,i[s]instanceof Object&&(i[s]=ProxyObserver.Bi(i[s]).A)}J(value,t){const i=this.raw[this.key];i!==value&&(this.raw[this.key]=value,this.T(value,i,18|t))}X(){return this.raw[this.key]}};ls=g([subscriberCollection(MutationKind.C)],ls);let ProxyObserver=gi=class{constructor(t){this.raw=t,this.A=new Proxy(t,this),os.set(t,this.A),this.gn={}}static pn(t){if(void 0===t.bn){const i=os.get(t);return void 0===i?t:i}return t}static Rt(t){const i=t.bn;return void 0===i?t:i}static Bi(t,i){let s;if(void 0===t.bn){const i=os.get(t);s=void 0===i?new gi(t):i.H}else s=t.H;if(1===arguments.length)return s;let e=s.gn[i];if(void 0===e){const n=this.Rt(t);e=s.gn[i]=new ls(s.A,n,i)}return e}static mn(t){return void 0!==t.bn}get(t,i,s){return"$observer"===i?this:"$raw"===i?t:t[i]}set(t,i,value,s){const e=t[i];return e!==value&&(Reflect.set(t,i,value,t),this.wn(value,e,i),this.T(i,value,e,18)),1}deleteProperty(t,i){const s=t[i];return Reflect.deleteProperty(t,i)?(void 0!==s&&(this.wn(void 0,s,i),this.T(i,void 0,s,18)),1):0}defineProperty(t,i,s){const e=t[i];return Reflect.defineProperty(t,i,s)?(s.value!==e&&(this.wn(s.value,e,i),this.T(i,s.value,e,18)),1):0}apply(t,i,s){return Reflect.apply(t,t,s)}subscribe(t,i){if(1===arguments.length)this.g(t);else{let s=this.gn[i];void 0===s&&(s=this.gn[i]=new ls(this.A,this.raw,i)),s.g(t)}}unsubscribe(t,i){if(1===arguments.length)this.p(t);else{const s=this.gn[i];void 0!==s&&s.p(t)}}wn(t,i,s){const e=this.gn[s];void 0!==e&&e.T(t,i,18)}};ProxyObserver=gi=g([subscriberCollection(MutationKind.A)],ProxyObserver);const cs=Reflect.defineProperty,us={get:void 0,set:void 0,Ai:1,vn:1};let SetterObserver=class{constructor(t,i,s){this._=67108879&t,this.G=i,this.Z=s,4&t&&(this.X=this.yn)}X(){return this.W}yn(){return this.G[this.Z]}J(t,i){const s=this.W;(s!==t||4&i)&&(this.W=t,2048&i||this.T(t,s,this._|i),this.K||(this.G[this.Z]=t))}q(t){this.T(this.G[this.Z],this.W,this._|t),S(this.G[this.Z],t)}};SetterObserver=g([propertyObserver()],SetterObserver),(function(t){t[t.Cn=250]="UndefinedScope",t[t.Tn=251]="NullScope",t[t.Rn=252]="NilOverrideContext",t[t.An=253]="NilParentScope"})(pi||(pi={}));class as{Bi(t,i,s){return void 0===this[s]&&(this[s]=new SetterObserver(t,i,s)),this[s]}}class BindingContext{constructor(t,value){if(this.Bn=1,void 0!==t)if(void 0!==value)this[t]=value;else for(const i in t)t.hasOwnProperty(i)&&(this[i]=t[i])}static create(t,i,value){const s=new BindingContext(i,value);return 2&t?ProxyObserver.Bi(s).A:s}static get(t,name,i,s){if(void 0===t)throw Reporter.error(250);if(null===t)throw Reporter.error(251);let e=t.On;if(i>0){for(;i>0;){if(null===e.In)return;i--,e=e.In}return name in e?e:e.kn}for(;e&&!(name in e)&&!(e.kn&&name in e.kn);)e=e.In;if(e)return name in e?e:e.kn;if(67108864&s&&null!==t.li){const e=this.get(t.li,name,i,-67108865&s|8388608);if(null!==e)return e}return 8388608&s?null:t.kn||t.On}Sn(t){return void 0===this.N&&(this.N=new as),this.N}}class Scope{constructor(t,i){this.kn=t,this.On=i,this.li=null}static create(t,i,s){return new Scope(i,null==s?OverrideContext.create(t,i,s):s)}static Pn(t,i){if(null==i)throw Reporter.error(252);return new Scope(i.kn,i)}static En(t,i,s){if(null==i)throw Reporter.error(253);return new Scope(s,OverrideContext.create(t,s,i.On))}}class OverrideContext{constructor(t,i){this.Bn=1,this.kn=t,this.In=i}static create(t,i,s){return new OverrideContext(i,void 0===s?null:s)}Sn(){return void 0===this.N&&(this.N=new as),this.N}}const ISignaler=DI.Gs("ISignaler").Xs(t=>t.singleton(fs));class fs{constructor(){this.Ln=Object.create(null)}jn(name,t){const i=this.Ln[name];if(void 0!==i)for(const s of i.keys())s.B(void 0,void 0,16|t)}$n(name,t){const i=this.Ln,s=i[name];void 0===s?i[name]=new Set([t]):s.add(t)}Dn(name,t){const i=this.Ln[name];i&&i.delete(t)}}const BindingBehaviorResource={name:"binding-behavior",tt(name){return`${this.name}:${name}`},Mn(t){return t.kind===this},Vn(t,i){const s=i,e=s,n="string"==typeof t?{name:t}:t;return e.kind=BindingBehaviorResource,e.description=n,s.register=L,s}},ValueConverterResource={name:"value-converter",tt(name){return`${this.name}:${name}`},Mn(t){return t.kind===this},Vn(t,i){const s=i,e="string"==typeof t?{name:t}:t;return s.kind=ValueConverterResource,s.description=e,s.register=j,s}};(function(t){t[t.xn=202]="NoLocator",t[t.Fn=203]="NoBehaviorFound",t[t.Un=204]="BehaviorAlreadyApplied",t[t.Nn=205]="NoConverterFound",t[t.qn=206]="NoBinding",t[t.zn=207]="NotAFunction",t[t.Hn=208]="UnknownOperator",t[t.Cn=250]="UndefinedScope",t[t.Tn=251]="NullScope"})(bi||(bi={}));class BindingBehavior{constructor(t,name,i){this.it=38962,this.Kn=t,this.name=name,this.Wn=i,this.Qn=BindingBehaviorResource.tt(this.name)}evaluate(t,i,s){return this.Kn.evaluate(t,i,s)}assign(t,i,s,value){return this.Kn.assign(t,i,s,value)}connect(t,i,s){this.Kn.connect(t,i,s)}bind(t,i,s){if(void 0===i)throw Reporter.error(250,this);if(null===i)throw Reporter.error(251,this);if(!s)throw Reporter.error(206,this);const e=s.Gn;if(!e)throw Reporter.error(202,this);hasBind(this.Kn)&&this.Kn.bind(t,i,s);const n=this.Qn,r=e.get(n);if(!r)throw Reporter.error(203,this);null==s[n]?(s[n]=r,r.bind.apply(r,[t,i,s].concat($(t,i,e,this.Wn)))):Reporter.write(204,this)}Zn(t,i,s){const e=this.Qn;null!=s[e]?(s[e].Zn(t,i,s),s[e]=null):Reporter.write(204,this),hasUnbind(this.Kn)&&this.Kn.Zn(t,i,s)}accept(t){return t._n(this)}}class ValueConverter{constructor(t,name,i){this.it=36913,this.Kn=t,this.name=name,this.Wn=i,this.Xn=ValueConverterResource.tt(this.name)}evaluate(t,i,s){if(!s)throw Reporter.error(202,this);const e=s.get(this.Xn);if(!e)throw Reporter.error(205,this);if("toView"in e){const n=this.Wn,r=n.length,h=Array(r+1);h[0]=this.Kn.evaluate(t,i,s);for(let e=0;r>e;++e)h[e+1]=n[e].evaluate(t,i,s);return e.Jn.apply(e,h)}return this.Kn.evaluate(t,i,s)}assign(t,i,s,value){if(!s)throw Reporter.error(202,this);const e=s.get(this.Xn);if(!e)throw Reporter.error(205,this);return"fromView"in e&&(value=e.Yn.apply(e,[value].concat($(t,i,s,this.Wn)))),this.Kn.assign(t,i,s,value)}connect(t,i,s){if(void 0===i)throw Reporter.error(250,this);if(null===i)throw Reporter.error(251,this);if(!s)throw Reporter.error(206,this);const e=s.Gn;if(!e)throw Reporter.error(202,this);this.Kn.connect(t,i,s);const n=this.Wn;for(let e=0,r=n.length;r>e;++e)n[e].connect(t,i,s);const r=e.get(this.Xn);if(!r)throw Reporter.error(205,this);const h=r.Ln;if(void 0===h)return;const o=e.get(ISignaler);for(let t=0,i=h.length;i>t;++t)o.$n(h[t],s)}Zn(t,i,s){const e=s.Gn,n=e.get(this.Xn).Ln;if(void 0===n)return;const r=e.get(ISignaler);for(let t=0,i=n.length;i>t;++t)r.Dn(n[t],s)}accept(t){return t.tr(this)}}class Assign{constructor(t,value){this.it=8208,this.target=t,this.value=value}evaluate(t,i,s){return this.target.assign(t,i,s,this.value.evaluate(t,i,s))}connect(t,i,s){}assign(t,i,s,value){return this.value.assign(t,i,s,value),this.target.assign(t,i,s,value)}accept(t){return t.ir(this)}}class Conditional{constructor(t,i,s){this.it=63,this.assign=PLATFORM.Ds,this.sr=t,this.er=i,this.nr=s}evaluate(t,i,s){return this.sr.evaluate(t,i,s)?this.er.evaluate(t,i,s):this.nr.evaluate(t,i,s)}connect(t,i,s){this.sr.evaluate(t,i,null)?(this.sr.connect(t,i,s),this.er.connect(t,i,s)):(this.sr.connect(t,i,s),this.nr.connect(t,i,s))}accept(t){return t.rr(this)}}class AccessThis{constructor(t=0){this.it=1793,this.assign=PLATFORM.Ds,this.connect=PLATFORM.Ds,this.Ni=t}evaluate(t,i,s){if(void 0===i)throw Reporter.error(250,this);if(null===i)throw Reporter.error(251,this);let e=i.On,n=this.Ni;for(;n--&&e;)e=e.In;return 1>n&&e?e.kn:void 0}accept(t){return t.hr(this)}}AccessThis.or=new AccessThis(0),AccessThis.lr=new AccessThis(1);class AccessScope{constructor(name,t=0){this.it=10082,this.name=name,this.Ni=t}evaluate(t,i,s){return BindingContext.get(i,this.name,this.Ni,t)[this.name]}assign(t,i,s,value){const e=BindingContext.get(i,this.name,this.Ni,t);if(e instanceof Object)return void 0!==e.N&&void 0!==e.N[this.name]?(e.N[this.name].J(value,t),value):e[this.name]=value}connect(t,i,s){const e=BindingContext.get(i,this.name,this.Ni,t);s.ot(t,e,this.name)}accept(t){return t.cr(this)}}class AccessMember{constructor(t,name){this.it=9323,this.object=t,this.name=name}evaluate(t,i,s){const e=this.object.evaluate(t,i,s);return null==e?e:e[this.name]}assign(t,i,s,value){const e=this.object.evaluate(t,i,s);return e instanceof Object?void 0!==e.N&&void 0!==e.N[this.name]?e.N[this.name].J(value,t):e[this.name]=value:this.object.assign(t,i,s,{[this.name]:value}),value}connect(t,i,s){const e=this.object.evaluate(t,i,null);this.object.connect(t,i,s),e instanceof Object&&s.ot(t,e,this.name)}accept(t){return t.ur(this)}}class AccessKeyed{constructor(t,i){this.it=9324,this.object=t,this.key=i}evaluate(t,i,s){const e=this.object.evaluate(t,i,s);if(e instanceof Object)return e[this.key.evaluate(t,i,s)]}assign(t,i,s,value){return this.object.evaluate(t,i,s)[this.key.evaluate(t,i,s)]=value}connect(t,i,s){const e=this.object.evaluate(t,i,null);if(this.object.connect(t,i,s),"object"==typeof e&&null!==e){this.key.connect(t,i,s);const n=this.key.evaluate(t,i,null);Array.isArray(e)&&(function(value){const t=typeof value;if("number"===t)return 1;if("string"!==t)return 0;const i=value.length;if(0===i)return 0;let s;for(let t=0;i>t;++t)if(48>(s=value.charCodeAt(t))||s>57)return 0;return 1})(n)?2&t&&s.ot(t,e,n):s.ot(t,e,n)}}accept(t){return t.ar(this)}}class CallScope{constructor(name,t,i=0){this.it=1448,this.assign=PLATFORM.Ds,this.name=name,this.Wn=t,this.Ni=i}evaluate(t,i,s){const e=$(t,i,s,this.Wn),n=BindingContext.get(i,this.name,this.Ni,t),r=D(t,n,this.name);if(r)return r.apply(n,e)}connect(t,i,s){const e=this.Wn;for(let n=0,r=e.length;r>n;++n)e[n].connect(t,i,s)}accept(t){return t.dr(this)}}class CallMember{constructor(t,name,i){this.it=1161,this.assign=PLATFORM.Ds,this.object=t,this.name=name,this.Wn=i}evaluate(t,i,s){const e=this.object.evaluate(t,i,s),n=$(t,i,s,this.Wn),r=D(t,e,this.name);if(r)return r.apply(e,n)}connect(t,i,s){const e=this.object.evaluate(t,i,null);if(this.object.connect(t,i,s),D(-1048577&t,e,this.name)){const e=this.Wn;for(let n=0,r=e.length;r>n;++n)e[n].connect(t,i,s)}}accept(t){return t.gr(this)}}class CallFunction{constructor(t,i){this.it=1162,this.assign=PLATFORM.Ds,this.pr=t,this.Wn=i}evaluate(t,i,s){const e=this.pr.evaluate(t,i,s);if("function"==typeof e)return e.apply(null,$(t,i,s,this.Wn));if(1048576&t||null!=e)throw Reporter.error(207,this)}connect(t,i,s){const e=this.pr.evaluate(t,i,null);if(this.pr.connect(t,i,s),"function"==typeof e){const e=this.Wn;for(let n=0,r=e.length;r>n;++n)e[n].connect(t,i,s)}}accept(t){return t.br(this)}}class Binary{constructor(t,i,s){this.it=46,this.assign=PLATFORM.Ds,this.mr=t,this.left=i,this.right=s,this.evaluate=this[t]}evaluate(t,i,s){throw Reporter.error(208,this)}connect(t,i,s){const e=this.left.evaluate(t,i,null);this.left.connect(t,i,s),"&&"===this.mr&&!e||"||"===this.mr&&e||this.right.connect(t,i,s)}wr(t,i,s){return this.left.evaluate(t,i,s)&&this.right.evaluate(t,i,s)}vr(t,i,s){return this.left.evaluate(t,i,s)||this.right.evaluate(t,i,s)}yr(t,i,s){return this.left.evaluate(t,i,s)==this.right.evaluate(t,i,s)}Cr(t,i,s){return this.left.evaluate(t,i,s)===this.right.evaluate(t,i,s)}Tr(t,i,s){return this.left.evaluate(t,i,s)!=this.right.evaluate(t,i,s)}Rr(t,i,s){return this.left.evaluate(t,i,s)!==this.right.evaluate(t,i,s)}Ar(t,i,s){const e=this.right.evaluate(t,i,s);return"function"==typeof e?this.left.evaluate(t,i,s)instanceof e:0}Br(t,i,s){const e=this.right.evaluate(t,i,s);return null!==e&&"object"==typeof e?this.left.evaluate(t,i,s)in e:0}Or(t,i,s){return this.left.evaluate(t,i,s)+this.right.evaluate(t,i,s)}Ir(t,i,s){return this.left.evaluate(t,i,s)-this.right.evaluate(t,i,s)}kr(t,i,s){return this.left.evaluate(t,i,s)*this.right.evaluate(t,i,s)}Sr(t,i,s){return this.left.evaluate(t,i,s)/this.right.evaluate(t,i,s)}Pr(t,i,s){return this.left.evaluate(t,i,s)%this.right.evaluate(t,i,s)}Er(t,i,s){return this.left.evaluate(t,i,s)<this.right.evaluate(t,i,s)}Lr(t,i,s){return this.left.evaluate(t,i,s)>this.right.evaluate(t,i,s)}jr(t,i,s){return this.left.evaluate(t,i,s)<=this.right.evaluate(t,i,s)}$r(t,i,s){return this.left.evaluate(t,i,s)>=this.right.evaluate(t,i,s)}accept(t){return t.Dr(this)}}class Unary{constructor(t,i){this.it=39,this.assign=PLATFORM.Ds,this.mr=t,this.Kn=i,this.evaluate=this[t]}evaluate(t,i,s){throw Reporter.error(208,this)}connect(t,i,s){this.Kn.connect(t,i,s)}Mr(t,i,s){this.Kn.evaluate(t,i,s)}Vr(t,i,s){return typeof this.Kn.evaluate(t,i,s)}xr(t,i,s){return!this.Kn.evaluate(t,i,s)}Ir(t,i,s){return-this.Kn.evaluate(t,i,s)}Or(t,i,s){return+this.Kn.evaluate(t,i,s)}accept(t){return t.Fr(this)}}class PrimitiveLiteral{constructor(value){this.it=17925,this.assign=PLATFORM.Ds,this.connect=PLATFORM.Ds,this.value=value}evaluate(t,i,s){return this.value}accept(t){return t.Ur(this)}}PrimitiveLiteral.Nr=new PrimitiveLiteral(void 0),PrimitiveLiteral.qr=new PrimitiveLiteral(null),PrimitiveLiteral.zr=new PrimitiveLiteral(1),PrimitiveLiteral.Hr=new PrimitiveLiteral(0),PrimitiveLiteral.Kr=new PrimitiveLiteral("");class ArrayLiteral{constructor(t){this.it=17955,this.assign=PLATFORM.Ds,this.elements=t}evaluate(t,i,s){const e=this.elements,n=e.length,r=Array(n);for(let h=0;n>h;++h)r[h]=e[h].evaluate(t,i,s);return r}connect(t,i,s){const e=this.elements;for(let n=0,r=e.length;r>n;++n)e[n].connect(t,i,s)}accept(t){return t.Wr(this)}}ArrayLiteral.Kr=new ArrayLiteral(PLATFORM.$s);class ObjectLiteral{constructor(t,i){this.it=17956,this.assign=PLATFORM.Ds,this.keys=t,this.values=i}evaluate(t,i,s){const e={},n=this.keys,r=this.values;for(let h=0,o=n.length;o>h;++h)e[n[h]]=r[h].evaluate(t,i,s);return e}connect(t,i,s){const e=this.values;for(let n=0,r=this.keys.length;r>n;++n)e[n].connect(t,i,s)}accept(t){return t.Qr(this)}}ObjectLiteral.Kr=new ObjectLiteral(PLATFORM.$s,PLATFORM.$s);class Template{constructor(t,i){this.it=17958,this.assign=PLATFORM.Ds,this.Gr=t,this.st=void 0===i?PLATFORM.$s:i}evaluate(t,i,s){const e=this.st,n=this.Gr;let r=n[0];for(let h=0,o=e.length;o>h;++h)r+=e[h].evaluate(t,i,s),r+=n[h+1];return r}connect(t,i,s){const e=this.st;for(let n=0,r=e.length;r>n;++n)e[n].connect(t,i,s),n++}accept(t){return t.Zr(this)}}Template.Kr=new Template([""]);class TaggedTemplate{constructor(t,i,s,e){this.it=1197,this.assign=PLATFORM.Ds,this.Gr=t,this.Gr.raw=i,this.pr=s,this.st=void 0===e?PLATFORM.$s:e}evaluate(t,i,s){const e=this.st,n=e.length,r=Array(n);for(let h=0,o=n;o>h;++h)r[h]=e[h].evaluate(t,i,s);const h=this.pr.evaluate(t,i,s);if("function"!=typeof h)throw Reporter.error(207,this);return h.apply(null,[this.Gr].concat(r))}connect(t,i,s){const e=this.st;for(let n=0,r=e.length;r>n;++n)e[n].connect(t,i,s);this.pr.connect(t,i,s)}accept(t){return t._r(this)}}class ArrayBindingPattern{constructor(t){this.it=65556,this.elements=t}evaluate(t,i,s){}assign(t,i,s,e){}connect(t,i,s){}accept(t){return t.Xr(this)}}class ObjectBindingPattern{constructor(t,i){this.it=65557,this.keys=t,this.values=i}evaluate(t,i,s){}assign(t,i,s,e){}connect(t,i,s){}accept(t){return t.Jr(this)}}class BindingIdentifier{constructor(name){this.it=65558,this.name=name}evaluate(t,i,s){return this.name}connect(t,i,s){}accept(t){return t.Yr(this)}}const ds={}.toString;class ForOfStatement{constructor(t,i){this.it=6199,this.assign=PLATFORM.Ds,this.th=t,this.ih=i}evaluate(t,i,s){return this.ih.evaluate(t,i,s)}count(t,i){return ps[ds.call(i)](i)}sh(t,i,s){gs[ds.call(i)](16777216|t,i,s)}connect(t,i,s){this.th.connect(t,i,s),this.ih.connect(t,i,s)}bind(t,i,s){hasBind(this.ih)&&this.ih.bind(t,i,s)}Zn(t,i,s){hasUnbind(this.ih)&&this.ih.Zn(t,i,s)}accept(t){return t.eh(this)}}class Interpolation{constructor(parts,t){this.it=24,this.assign=PLATFORM.Ds,this.parts=parts,this.st=void 0===t?PLATFORM.$s:t,this.nh=this.st.length>1,this.rh=this.st[0]}evaluate(t,i,s){if(this.nh){const e=this.st,parts=this.parts;let n=parts[0];for(let r=0,h=e.length;h>r;++r)n+=e[r].evaluate(t,i,s),n+=parts[r+1];return n}{const parts=this.parts;return parts[0]+this.rh.evaluate(t,i,s)+parts[1]}}connect(t,i,s){}accept(t){return t.hh(this)}}const gs={oh(t,i,s){if(16777218==(16777218&t)){const t=ProxyObserver.Rt(i),e=t.length;let n,r=0;for(;e>r;++r)(n=t[r])instanceof Object&&(n=t[r]=ProxyObserver.Bi(n).A),s(t,r,n)}else for(let t=0,e=i.length;e>t;++t)s(i,t,i[t])},lh(t,i,s){const e=Array(i.size);let n=-1;for(const t of i.entries())e[++n]=t;gs["oh"](-16777217&t,e,s)},uh(t,i,s){const e=Array(i.size);let n=-1;for(const t of i.keys())e[++n]=t;gs["oh"](-16777217&t,e,s)},ah(t,i,s){const e=Array(i);for(let t=0;i>t;++t)e[t]=t;gs["oh"](-16777217&t,e,s)},fh(t,i,s){},dh(t,i,s){}},ps={oh:t=>t.length,lh:t=>t.size,uh:t=>t.size,ah:t=>t,fh:()=>0,dh:()=>0};(function(BindingMode){BindingMode[BindingMode.oneTime=1]="oneTime",BindingMode[BindingMode.Jn=2]="toView",BindingMode[BindingMode.Yn=4]="fromView",BindingMode[BindingMode.gh=6]="twoWay",BindingMode[BindingMode.default=8]="default"})(BindingMode||(BindingMode={})),(function(BindingStrategy){BindingStrategy[BindingStrategy.ph=1]="getterSetter",BindingStrategy[BindingStrategy.bh=2]="proxies",BindingStrategy[BindingStrategy.mh=4]="patch",BindingStrategy[BindingStrategy.dn=8]="keyed"})(BindingStrategy||(BindingStrategy={}));const bs=7;(function(State){State[State.cn=0]="none",State[State.wh=1]="isBinding",State[State.vh=2]="isBound",State[State.yh=4]="isAttaching",State[State.Ch=8]="isAttached",State[State.Th=16]="isMounted",State[State.Rh=32]="isDetaching",State[State.Ah=64]="isUnbinding",State[State.Bh=128]="isCached",State[State.Oh=256]="isContainerless",State[State.Ih=512]="isPatching"})(mi||(mi={})),(function(Hooks){Hooks[Hooks.cn=1]="none",Hooks[Hooks.kh=2]="hasCreated",Hooks[Hooks.Sh=4]="hasBinding",Hooks[Hooks.Ph=8]="hasBound",Hooks[Hooks.Eh=16]="hasAttaching",Hooks[Hooks.Lh=32]="hasAttached",Hooks[Hooks.jh=64]="hasDetaching",Hooks[Hooks.$h=128]="hasDetached",Hooks[Hooks.Dh=256]="hasUnbinding",Hooks[Hooks.Mh=512]="hasUnbound",Hooks[Hooks.Vh=1024]="hasRender",Hooks[Hooks.xh=2048]="hasCaching"})(Hooks||(Hooks={})),(function(LifecycleFlags){LifecycleFlags[LifecycleFlags.cn=0]="none",LifecycleFlags[LifecycleFlags.Fh=67108879]="persistentBindingFlags",LifecycleFlags[LifecycleFlags.Uh=67108864]="allowParentScopeTraversal",LifecycleFlags[LifecycleFlags.Nh=15]="bindingStrategy",LifecycleFlags[LifecycleFlags.qh=1]="getterSetterStrategy",LifecycleFlags[LifecycleFlags.zh=2]="proxyStrategy",LifecycleFlags[LifecycleFlags.Hh=4]="patchStrategy",LifecycleFlags[LifecycleFlags.Kh=8]="keyedStrategy",LifecycleFlags[LifecycleFlags.update=48]="update",LifecycleFlags[LifecycleFlags.Wh=16]="updateTargetInstance",LifecycleFlags[LifecycleFlags.Qh=32]="updateSourceExpression",LifecycleFlags[LifecycleFlags.from=262080]="from",LifecycleFlags[LifecycleFlags.Gh=448]="fromFlush",LifecycleFlags[LifecycleFlags.Zh=64]="fromAsyncFlush",LifecycleFlags[LifecycleFlags._h=128]="fromSyncFlush",LifecycleFlags[LifecycleFlags.Xh=256]="fromTick",LifecycleFlags[LifecycleFlags.Jh=512]="fromStartTask",LifecycleFlags[LifecycleFlags.Yh=1024]="fromStopTask",LifecycleFlags[LifecycleFlags.io=2048]="fromBind",LifecycleFlags[LifecycleFlags.so=4096]="fromUnbind",LifecycleFlags[LifecycleFlags.eo=8192]="fromAttach",LifecycleFlags[LifecycleFlags.no=16384]="fromDetach",LifecycleFlags[LifecycleFlags.ro=32768]="fromCache",LifecycleFlags[LifecycleFlags.ho=65536]="fromDOMEvent",LifecycleFlags[LifecycleFlags.oo=131072]="fromLifecycleTask",LifecycleFlags[LifecycleFlags.lo=262144]="allowPublishRoundtrip",LifecycleFlags[LifecycleFlags.co=524288]="isPublishing",LifecycleFlags[LifecycleFlags.uo=1048576]="mustEvaluate",LifecycleFlags[LifecycleFlags.ao=2097152]="parentUnmountQueued",LifecycleFlags[LifecycleFlags.fo=4194304]="doNotUpdateDOM",LifecycleFlags[LifecycleFlags.do=8388608]="isTraversingParentScope",LifecycleFlags[LifecycleFlags.po=16777216]="isOriginalArray",LifecycleFlags[LifecycleFlags.bo=33554432]="isCollectionMutation"})(LifecycleFlags||(LifecycleFlags={})),(function(ExpressionKind){ExpressionKind[ExpressionKind.Connects=32]="Connects",ExpressionKind[ExpressionKind.Observes=64]="Observes",ExpressionKind[ExpressionKind.CallsFunction=128]="CallsFunction",ExpressionKind[ExpressionKind.HasAncestor=256]="HasAncestor",ExpressionKind[ExpressionKind.IsPrimary=512]="IsPrimary",ExpressionKind[ExpressionKind.IsLeftHandSide=1024]="IsLeftHandSide",ExpressionKind[ExpressionKind.HasBind=2048]="HasBind",ExpressionKind[ExpressionKind.HasUnbind=4096]="HasUnbind",ExpressionKind[ExpressionKind.IsAssignable=8192]="IsAssignable",ExpressionKind[ExpressionKind.IsLiteral=16384]="IsLiteral",ExpressionKind[ExpressionKind.IsResource=32768]="IsResource",ExpressionKind[ExpressionKind.mo=65536]="IsForDeclaration",ExpressionKind[ExpressionKind.ie=31]="Type",ExpressionKind[ExpressionKind.AccessThis=1793]="AccessThis",ExpressionKind[ExpressionKind.AccessScope=10082]="AccessScope",ExpressionKind[ExpressionKind.ArrayLiteral=17955]="ArrayLiteral",ExpressionKind[ExpressionKind.ObjectLiteral=17956]="ObjectLiteral",ExpressionKind[ExpressionKind.PrimitiveLiteral=17925]="PrimitiveLiteral",ExpressionKind[ExpressionKind.Template=17958]="Template",ExpressionKind[ExpressionKind.Unary=39]="Unary",ExpressionKind[ExpressionKind.CallScope=1448]="CallScope",ExpressionKind[ExpressionKind.CallMember=1161]="CallMember",ExpressionKind[ExpressionKind.CallFunction=1162]="CallFunction",ExpressionKind[ExpressionKind.AccessMember=9323]="AccessMember",ExpressionKind[ExpressionKind.AccessKeyed=9324]="AccessKeyed",ExpressionKind[ExpressionKind.TaggedTemplate=1197]="TaggedTemplate",ExpressionKind[ExpressionKind.Binary=46]="Binary",ExpressionKind[ExpressionKind.Conditional=63]="Conditional",ExpressionKind[ExpressionKind.Assign=8208]="Assign",ExpressionKind[ExpressionKind.ValueConverter=36913]="ValueConverter",ExpressionKind[ExpressionKind.BindingBehavior=38962]="BindingBehavior",ExpressionKind[ExpressionKind.HtmlLiteral=51]="HtmlLiteral",ExpressionKind[ExpressionKind.ArrayBindingPattern=65556]="ArrayBindingPattern",ExpressionKind[ExpressionKind.ObjectBindingPattern=65557]="ObjectBindingPattern",ExpressionKind[ExpressionKind.BindingIdentifier=65558]="BindingIdentifier",ExpressionKind[ExpressionKind.ForOfStatement=6199]="ForOfStatement",ExpressionKind[ExpressionKind.Interpolation=24]="Interpolation"})(ExpressionKind||(ExpressionKind={}));const IRenderable=DI.Gs("IRenderable")._s(),IViewFactory=DI.Gs("IViewFactory")._s(),ms=Object.freeze(Object.create(null)),ILifecycle=DI.Gs("ILifecycle").Xs(t=>t.singleton(ws));class ws{constructor(){this.wo=0,this.vo=0,this.yo=0,this.Co=0,this.To=0,this.Ro=this,this.Ao=this,this.Bo=this,this.Oo=this,this.Io=this,this.ko=this,this.So=this,this.Po=this,this.Eo=this,this.Lo=this,this.jo=this,this.$o=this,this.Do=this,this.Mo=this,this.Vo=this,this.xo=this,this.Fo=null,this.Ss=Promise.resolve(),this.Uo=0,this.No=0,this.qo=0,this.zo=0,this.Ho=0,this.Ko=0,this.Wo=0,this.Qo=0,this.Go=0,this.at=ms,this.flush=PLATFORM.Ds,this.Zo=ms,this.bound=PLATFORM.Ds,this._o=ms,this.Xo=PLATFORM.Ds,this.Jo=ms,this.Yo=PLATFORM.Ds,this.tl=ms,this.il=PLATFORM.Ds,this.sl=ms,this.el=PLATFORM.Ds,this.nl=ms,this.ei=PLATFORM.Ds,this.rl=ms,this.hl=PLATFORM.Ds,this.ol=null}static register(t){return Registration.singleton(ILifecycle,this).register(t)}ll(t){null===this.ol&&(this.ol=new AggregateLifecycleTask),this.ol.cl(t)}ul(t){null!==this.ol&&(this.ol===t?this.ol=null:this.ol.al(t))}O(t){return this.Ro===this&&(this.Fo=this.Ss.then(()=>{this.fl(64)})),null===t.at&&(t.at=ms,this.Ao.at=t,this.Ao=t,++this.Uo),this.Fo}fl(t){for(t|=128;this.Uo>0;){let i,s=this.Ro.at;this.Ro=this.Ao=this,this.Uo=0;do{i=s.at,s.at=null,s.flush(t),s=i}while(s!==ms);if(4194304&t)break}}ni(){++this.wo}ri(t){null===t.Zo&&(t.Zo=ms,this.Oo.Zo=t,this.Oo=t,++this.qo)}oi(t){if(0==--this.wo)return null===this.ol||this.ol.done?(this.dl(t),LifecycleTask.done):(this.ol.gl=this,this.ol)}dl(t){for(512&t&&this.fl(128|t);this.qo>0;){this.qo=0;let i,s=this.Bo.Zo;this.Bo=this.Oo=this;do{s.bound(t),i=s.Zo,s.Zo=null,s=i}while(s!==ms)}}fi(){++this.To}di(t){null===t.rl&&(t.rl=ms,this.xo.rl=t,this.xo=t,++this.Go)}pi(t){if(0==--this.To)return null===this.ol||this.ol.done?(this.pl(t),LifecycleTask.done):(this.ol.gl=this,this.ol)}pl(t){for(;this.Go>0;){this.Go=0;let i,s=this.Vo.rl;this.Vo=this.xo=this;do{s.hl(t),i=s.rl,s.rl=null,s=i}while(s!==ms)}}$t(){++this.yo}Nt(t){null===t._o&&(t._o=ms,this.ko._o=t,this.ko=t,++this.zo)}Mt(t){null===t.Jo&&(t.Jo=ms,this.Po.Jo=t,this.Po=t,++this.Ho)}Vt(t){if(0==--this.yo)return null===this.ol||this.ol.done?(this.bl(t),LifecycleTask.done):(this.ol.gl=this,this.ol)}bl(t){if(this.fl(128|t),this.zo>0){this.zo=0;let i,s=this.Io._o;this.Io=this.ko=this;do{s.Xo(t),i=s._o,s._o=null,s=i}while(s!==ms)}if(this.Ho>0){this.Ho=0;let i,s=this.So.Jo;this.So=this.Po=this;do{s.Yo(t),i=s.Jo,s.Jo=null,s=i}while(s!==ms)}}qt(){++this.Co}Wt(t){if(null===t.tl&&(t.tl=ms,this.Lo.tl=t,this.Lo=t,++this.Ko),null!==t._o){let i=this.Io,s=i._o;for(;s!==t;)s=(i=s)._o;i._o=s._o,s._o=null,this.ko===s&&(this.ko=this),--this.zo}}Ht(t){null===t.sl&&(t.sl=ms,this.$o.sl=t,this.$o=t,++this.Wo)}ml(t){null===t.nl&&(t.nl=ms,this.Mo.nl=t,this.Mo=t,++this.Qo)}Kt(t){if(0==--this.Co)return null===this.ol||this.ol.done?(this.wl(t),LifecycleTask.done):(this.ol.gl=this,this.ol)}wl(t){if(this.fl(4194752|t),this.Ko>0){this.Ko=0;let i,s=this.Eo.tl;this.Eo=this.Lo=this;do{s.il(t),i=s.tl,s.tl=null,s=i}while(s!==ms)}if(this.Wo>0){this.Wo=0;let i,s=this.jo.sl;this.jo=this.$o=this;do{s.el(t),i=s.sl,s.sl=null,s=i}while(s!==ms)}if(this.Qo>0){this.fi(),this.Qo=0;let i,s=this.Do.nl;this.Do=this.Mo=this;do{s.ei(t),i=s.nl,s.nl=null,s=i}while(s!==ms);this.pi(t)}}}class CompositionCoordinator{constructor($lifecycle){this.$lifecycle=$lifecycle,this.vl=PLATFORM.Ds,this.currentView=null,this.Ch=0,this.vh=0,this.yl=null,this.Cl=LifecycleTask.done}static register(t){return Registration.transient(this,this).register(t,this)}Tl(value,t){this.Cl.done?value instanceof Promise?(this.Rl(new vs(this,value)),this.Al()):this.Bl(value,t):(value instanceof Promise?this.Rl(new vs(this,value)):this.Rl(value),this.Cl.Ol()&&this.Cl.cancel())}hi(t,i){this.scope=i,this.vh=1,null!==this.currentView&&this.currentView.ui(t,i)}Dt(t){this.Ch=1,null!==this.currentView&&this.currentView.Ft(t)}zt(t){this.Ch=0,null!==this.currentView&&this.currentView.Gt(t)}gi(t){this.vh=0,null!==this.currentView&&this.currentView.ei(t)}_t(t){this.currentView=null}Rl(t){null===this.yl&&(this.yl=[]),this.yl.push(t)}Bl(t,i){if(this.currentView===t)return;const $lifecycle=this.$lifecycle,s=new AggregateLifecycleTask;let e,n=this.currentView;null===n?e=LifecycleTask.done:($lifecycle.ml(n),$lifecycle.qt(),n.Gt(i),e=$lifecycle.Kt(i)),s.cl(e),null===(n=this.currentView=t)?e=LifecycleTask.done:(this.vh&&($lifecycle.ni(),n.ui(i,this.scope),$lifecycle.oi(i)),this.Ch?($lifecycle.$t(),n.Ft(i),e=$lifecycle.Vt(i)):e=LifecycleTask.done),s.cl(e),s.done?(this.Cl=LifecycleTask.done,this.vl()):(this.Cl=s,this.Cl.Il().then(()=>{this.vl(),this.Al()}).catch(t=>{throw t}))}Al(){if(null!==this.yl&&this.yl.length>0){const t=this.yl.pop();this.yl.length=0,vs.is(t)?this.Cl=t.start():this.Bl(t,131072)}else this.Cl=LifecycleTask.done}}CompositionCoordinator.inject=[ILifecycle];const LifecycleTask={done:{done:1,Ol:()=>0,cancel(){},Il:()=>Promise.resolve()}};class AggregateLifecycleTask{constructor(){this.done=1,this.gl=null,this.resolve=null,this.kl=[],this.Sl=null}cl(t){t.done||(this.done=0,this.kl.push(t),t.Il().then(()=>{this.Pl()}).catch(t=>{throw t}))}al(t){if(t.done){const i=this.kl.indexOf(t);-1!==i&&this.kl.splice(i,1)}0===this.kl.length&&null!==this.gl&&(this.gl.ul(this),this.gl=null)}Ol(){return this.done?0:this.kl.every(t=>t.Ol())}cancel(){this.Ol()&&(this.kl.forEach(t=>{t.cancel()}),this.done=0)}Il(){return null===this.Sl&&(this.Sl=this.done?Promise.resolve():new Promise(t=>this.resolve=t)),this.Sl}Pl(){this.done||this.kl.every(t=>t.done)&&this.complete(1)}complete(t){this.done=1,t&&null!==this.gl&&(this.gl.wl(131072),this.gl.pl(131072),this.gl.dl(131072),this.gl.bl(131072)),this.gl.ul(this),null!==this.resolve&&this.resolve()}}class vs{constructor(t,i){this.El=t,this.done=0,this.Ll=0,this.Ss=i}static is(t){return"start"in t}start(){return this.Ll?LifecycleTask.done:(this.Ss=this.Ss.then(t=>(this.jl(t),t)),this)}Ol(){return!this.done}cancel(){this.Ol()&&(this.Ll=1)}Il(){return this.Ss}jl(value){this.Ll||(this.done=1,this.El.Tl(value,131072))}}const ys=[],Cs=[];let Ts=-1;V(-1);const Rs={vn:0,Ai:0,$l:0,value:0};connectable.Dl=(t=>{++Rs.value,Reflect.defineProperty(t,"id",Rs)});const{oneTime,Jn:As,Yn:Bs}=BindingMode,Os=As|oneTime;let Binding=class{constructor(t,i,s,mode,e,n){connectable.Dl(this),this.ai=null,this.mi=null,this.$state=0,this.$lifecycle=n.get(ILifecycle),this.Ml=null,this.$scope=null,this.Gn=n,this.mode=mode,this.rt=e,this.Vl=t,this.target=i,this.xl=s,this._=0}Fl(value,t){this.targetObserver.J(value,t|=this._),4&t&&this.targetObserver.q(t)}Ul(value,t){this.Vl.assign(t|=this._,this.$scope,this.Gn,value)}B(t,i,s){if(0!=(2&this.$state)){if((16&(s|=this._))>0){const i=this.targetObserver.X();return(10082!==this.Vl.it||this.et>1)&&(t=this.Vl.evaluate(s,this.$scope,this.Gn)),t!==i&&this.Fl(t,s),void(0==(this.mode&oneTime)&&(this.version++,this.Vl.connect(s,this.$scope,this),this.unobserve(0)))}if(0>=(32&s))throw Reporter.error(15,s);t!==this.Vl.evaluate(s,this.$scope,this.Gn)&&this.Ul(t,s)}}ui(t,i){if(2&this.$state){if(this.$scope===i)return;this.ei(2048|t)}this.$state|=1,this._=67108879&t,this.$scope=i;let s=this.Vl;hasBind(s)&&s.bind(t,i,this);let targetObserver=this.targetObserver;targetObserver||(targetObserver=this.targetObserver=this.mode&Bs?this.rt.nt(t,this.target,this.xl):this.rt.Nl(t,this.target,this.xl)),targetObserver.bind&&targetObserver.bind(t),s=this.Vl,this.mode&Os&&this.Fl(s.evaluate(t,i,this.Gn),t),this.mode&As&&s.connect(t,i,this),this.mode&Bs&&(targetObserver.subscribe(this),targetObserver[this.id]|=32),this.$state|=2,this.$state&=-2}ei(t){2&this.$state&&(this.$state|=64,this._=0,hasUnbind(this.Vl)&&this.Vl.Zn(t,this.$scope,this),this.$scope=null,this.targetObserver.Zn&&this.targetObserver.Zn(t),this.targetObserver.unsubscribe&&(this.targetObserver.unsubscribe(this),this.targetObserver[this.id]&=-33),this.unobserve(1),this.$state&=-67)}q(t){2&this.$state&&this.targetObserver.q(t|this._)}};Binding=g([connectable()],Binding);class Call{constructor(t,i,s,e,n){this.ai=null,this.mi=null,this.$state=0,this.Gn=n,this.Vl=t,this.targetObserver=e.nt(0,i,s)}ql(t){const i=this.$scope.On;Object.assign(i,t);const s=this.Vl.evaluate(1048576,this.$scope,this.Gn);for(const s in t)Reflect.deleteProperty(i,s);return s}ui(t,i){if(2&this.$state){if(this.$scope===i)return;this.ei(2048|t)}this.$state|=1,this.$scope=i,hasBind(this.Vl)&&this.Vl.bind(t,i,this),this.targetObserver.J(t=>this.ql(t),t),this.$state|=2,this.$state&=-2}ei(t){2&this.$state&&(this.$state|=64,hasUnbind(this.Vl)&&this.Vl.Zn(t,this.$scope,this),this.$scope=null,this.targetObserver.J(null,t),this.$state&=-67)}ot(t,i,s){}B(t,i,s){}}const IExpressionParser=DI.Gs("IExpressionParser").Xs(t=>t.singleton(Is));class Is{constructor(){this.zl=Object.create(null),this.Hl=Object.create(null),this.Kl=Object.create(null)}parse(t,i){switch(i){case 2048:{let s=this.Kl[t];return void 0===s&&(s=this.Kl[t]=this.Wl(t,i)),s}case 539:{let s=this.Hl[t];return void 0===s&&(s=this.Hl[t]=this.Wl(t,i)),s}default:{if(0===t.length&&55&i)return PrimitiveLiteral.Kr;let s=this.zl[t];return void 0===s&&(s=this.zl[t]=this.Wl(t,i)),s}}}cache(t){const{Hl:i,zl:s,Kl:e}=this;for(const n in t){const r=t[n];switch(r.it){case 24:e[n]=r;break;case 6199:i[n]=r;break;default:s[n]=r}}}Wl(t,i){try{const parts=t.split("."),i=parts[0];let s;s=i.endsWith("()")?new CallScope(i.replace("()",""),PLATFORM.$s):new AccessScope(parts[0]);let e=1;for(;parts.length>e;){const t=parts[e];s=t.endsWith("()")?new CallMember(s,t.replace("()",""),PLATFORM.$s):new AccessMember(s,parts[e]),e++}return s}catch(t){throw Reporter.error(3,t)}}}(function(BindingType){BindingType[BindingType.en=0]="None",BindingType[BindingType.Interpolation=2048]="Interpolation",BindingType[BindingType.Ql=1280]="IsRef",BindingType[BindingType.Gl=512]="IsIterator",BindingType[BindingType.Zl=256]="IsCustom",BindingType[BindingType._l=128]="IsFunction",BindingType[BindingType.Xl=64]="IsEvent",BindingType[BindingType.Jl=32]="IsProperty",BindingType[BindingType.Yl=16]="IsCommand",BindingType[BindingType.tc=48]="IsPropertyCommand",BindingType[BindingType.ic=80]="IsEventCommand",BindingType[BindingType.sc=6]="DelegationStrategyDelta",BindingType[BindingType.ec=15]="Command",BindingType[BindingType.nc=49]="OneTimeCommand",BindingType[BindingType.rc=50]="ToViewCommand",BindingType[BindingType.hc=51]="FromViewCommand",BindingType[BindingType.oc=52]="TwoWayCommand",BindingType[BindingType.lc=53]="BindCommand",BindingType[BindingType.cc=86]="TriggerCommand",BindingType[BindingType.uc=87]="CaptureCommand",BindingType[BindingType.ac=88]="DelegateCommand",BindingType[BindingType.fc=153]="CallCommand",BindingType[BindingType.dc=26]="OptionsCommand",BindingType[BindingType.gc=539]="ForCommand",BindingType[BindingType.pc=284]="CustomCommand"})(BindingType||(BindingType={}));const{Jn:ks,oneTime:Ss}=BindingMode;class MultiInterpolationBinding{constructor(t,i,s,e,mode,n){this.ai=null,this.mi=null,this.$state=0,this.$scope=null,this.bc=i,this.Gn=n,this.mode=mode,this.rt=t,this.target=s,this.xl=e;const r=i.st,parts=this.parts=Array(r.length);for(let h=0,o=r.length;o>h;++h)parts[h]=new InterpolationBinding(r[h],i,s,e,mode,t,n,0===h)}ui(t,i){if(2&this.$state){if(this.$scope===i)return;this.ei(t)}this.$state|=2,this.$scope=i;const parts=this.parts;for(let s=0,e=parts.length;e>s;++s)parts[s].ui(t,i)}ei(t){if(!(2&this.$state))return;this.$state&=-3,this.$scope=null;const parts=this.parts;for(let i=0,s=parts.length;s>i;++i)parts[i].ei(t)}}let InterpolationBinding=class{constructor(t,i,s,e,mode,n,r,h){connectable.Dl(this),this.$state=0,this.bc=i,this.mc=h,this.mode=mode,this.Gn=r,this.rt=n,this.Vl=t,this.target=s,this.xl=e,this.targetObserver=n.Nl(0,s,e)}Fl(value,t){this.targetObserver.J(value,16|t)}B(t,i,s){if(!(2&this.$state))return;const e=this.targetObserver.X(),n=this.bc.evaluate(s,this.$scope,this.Gn);n!==e&&this.Fl(n,s),0==(this.mode&Ss)&&(this.version++,this.Vl.connect(s,this.$scope,this),this.unobserve(0))}ui(t,i){if(2&this.$state){if(this.$scope===i)return;this.ei(t)}this.$state|=2,this.$scope=i;const s=this.Vl;s.bind&&s.bind(t,i,this),this.mc&&this.Fl(this.bc.evaluate(t,i,this.Gn),t),this.mode&ks&&s.connect(t,i,this)}ei(t){if(!(2&this.$state))return;this.$state&=-3;const i=this.Vl;i.Zn&&i.Zn(t,this.$scope,this),this.$scope=null,this.unobserve(1)}};InterpolationBinding=g([connectable()],InterpolationBinding);let LetBinding=class{constructor(t,i,s,e,toViewModel=0){connectable.Dl(this),this.ai=null,this.mi=null,this.$state=0,this.$lifecycle=e.get(ILifecycle),this.$scope=null,this.Gn=e,this.rt=s,this.Vl=t,this.target=null,this.xl=i,this.toViewModel=toViewModel}B(t,i,s){if(2&this.$state){if(!(16&s))throw Reporter.error(15,s);{const{target:t,xl:i}=this,e=t[i],n=this.Vl.evaluate(s,this.$scope,this.Gn);n!==e&&(t[i]=n)}}}ui(t,i){if(2&this.$state){if(this.$scope===i)return;this.ei(2048|t)}this.$state|=1,this.$scope=i,this.target=this.toViewModel?i.kn:i.On;const s=this.Vl;s.bind&&s.bind(t,i,this),this.target[this.xl]=this.Vl.evaluate(2048,i,this.Gn),this.Vl.connect(t,i,this),this.$state|=2,this.$state&=-2}ei(t){if(!(2&this.$state))return;this.$state|=64;const i=this.Vl;i.Zn&&i.Zn(t,this.$scope,this),this.$scope=null,this.unobserve(1),this.$state&=-67}};LetBinding=g([connectable()],LetBinding);class Ref{constructor(t,i,s){this.ai=null,this.mi=null,this.$state=0,this.Gn=s,this.Vl=t,this.target=i}ui(t,i){if(2&this.$state){if(this.$scope===i)return;this.ei(2048|t)}this.$state|=1,this.$scope=i,hasBind(this.Vl)&&this.Vl.bind(t,i,this),this.Vl.assign(t,this.$scope,this.Gn,this.target),this.$state|=2,this.$state&=-2}ei(t){if(!(2&this.$state))return;this.$state|=64,this.Vl.evaluate(t,this.$scope,this.Gn)===this.target&&this.Vl.assign(t,this.$scope,this.Gn,null);const i=this.Vl;hasUnbind(i)&&i.Zn(t,this.$scope,this),this.$scope=null,this.$state&=-67}ot(t,i,s){}B(t,i,s){}}let CollectionLengthObserver=class{constructor(t,i){this.G=t,this.Z=i,this.W=t[i]}X(){return this.G[this.Z]}ut(t){this.G[this.Z]=t}q(t){const i=this.G[this.Z],s=this.W;s!==i&&(this.G[this.Z]=i,this.W=i,this.T(i,s,16|t))}subscribe(t){this.g(t)}unsubscribe(t){this.p(t)}};CollectionLengthObserver=g([targetObserver()],CollectionLengthObserver);const Ps=Array.prototype,Es=Ps.push,Ls=Ps.unshift,js=Ps.pop,$s=Ps.shift,Ds=Ps.splice,Ms=Ps.reverse,Vs=Ps.sort,xs={push:Es,unshift:Ls,pop:js,shift:$s,splice:Ds,reverse:Ms,sort:Vs},Fs=["push","unshift","pop","shift","splice","reverse","sort"],Us={push(){let t=this;void 0!==t.bn&&(t=t.bn);const i=t.H;if(void 0===i)return Es.apply(t,arguments);const s=t.length,e=arguments.length;if(0===e)return s;t.length=i.ft.length=s+e;let n=s;for(;t.length>n;)t[n]=arguments[n-s],i.ft[n]=-2,n++;return i.T("push",arguments,33554432|i._),t.length},unshift(){let t=this;void 0!==t.bn&&(t=t.bn);const i=t.H;if(void 0===i)return Ls.apply(t,arguments);const s=arguments.length,e=Array(s);let n=0;for(;s>n;)e[n++]=-2;Ls.apply(i.ft,e);const r=Ls.apply(t,arguments);return i.T("unshift",arguments,33554432|i._),r},pop(){let t=this;void 0!==t.bn&&(t=t.bn);const i=t.H;if(void 0===i)return js.call(t);const s=i.ft,e=js.call(t),n=s.length-1;return s[n]>-1&&s.pt.push(s[n]),js.call(s),i.T("pop",arguments,33554432|i._),e},shift(){let t=this;void 0!==t.bn&&(t=t.bn);const i=t.H;if(void 0===i)return $s.call(t);const s=i.ft,e=$s.call(t);return s[0]>-1&&s.pt.push(s[0]),$s.call(s),i.T("shift",arguments,33554432|i._),e},splice(t,i){let s=this;void 0!==s.bn&&(s=s.bn);const e=s.H;if(void 0===e)return Ds.apply(s,arguments);const n=e.ft;if(i>0){let s=isNaN(t)?0:t;const to=s+i;for(;to>s;)n[s]>-1&&n.pt.push(n[s]),s++}const r=arguments.length;if(r>2){const s=r-2,e=Array(s);let h=0;for(;s>h;)e[h++]=-2;Ds.call(n,t,i,...e)}else 2===r&&Ds.call(n,t,i);const h=Ds.apply(s,arguments);return e.T("splice",arguments,33554432|e._),h},reverse(){let t=this;void 0!==t.bn&&(t=t.bn);const i=t.H;if(void 0===i)return Ms.call(t),this;const s=t.length,e=s/2|0;let n=0;for(;n!==e;){const e=s-n-1,r=t[n],h=i.ft[n],o=i.ft[e];t[n]=t[e],i.ft[n]=o,t[e]=r,i.ft[e]=h,n++}return i.T("reverse",arguments,33554432|i._),this},sort(t){let i=this;void 0!==i.bn&&(i=i.bn);const s=i.H;if(void 0===s)return Vs.call(i,t),this;const e=i.length;if(2>e)return this;tt(i,s.ft,0,e,J);let n=0;for(;e>n&&void 0!==i[n];)n++;return void 0!==t&&"function"==typeof t||(t=X),tt(i,s.ft,0,n,t),s.T("sort",arguments,33554432|s._),this}},Ns={$l:1,Ai:0,vn:1},def=Reflect.defineProperty;for(const t of Fs)def(Us[t],"observing",{value:1,$l:0,vn:0,Ai:0});enableArrayObservation();let ArrayObserver=class{constructor(t,i,s){this.I=i,s.H=this,this.R=s,this.flags=67108879&t,this.gt()}q(t){const i=this.R,s=i.length;let e=0;for(;s>e;++e)S(i[e],t)}};ArrayObserver=g([collectionObserver(9)],ArrayObserver);const qs=Map.prototype,zs=qs.set,Hs=qs.clear,Ks=qs.delete,Ws={set:zs,clear:Hs,delete:Ks},Qs=["set","clear","delete"],Gs={set(t,value){let i=this;void 0!==i.bn&&(i=i.bn);const s=i.H;if(void 0===s)return zs.call(i,t,value),this;const e=i.size;if(zs.call(i,t,value),i.size===e){let e=0;for(const n of i.entries()){if(n[0]===t)return n[1]!==value&&(s.ft[e]=-2),this;e++}return this}return s.ft[e]=-2,s.T("set",arguments,33554432|s._),this},clear(){let t=this;void 0!==t.bn&&(t=t.bn);const i=t.H;if(void 0===i)return Hs.call(t);if(t.size>0){const s=i.ft;let e=0;for(const i of t.keys())s[e]>-1&&s.pt.push(s[e]),e++;Hs.call(t),s.length=0,i.T("clear",arguments,33554432|i._)}},delete(value){let t=this;void 0!==t.bn&&(t=t.bn);const i=t.H;if(void 0===i)return Ks.call(t,value);if(0===t.size)return 0;let s=0;const e=i.ft;for(const i of t.keys()){if(i===value)return e[s]>-1&&e.pt.push(e[s]),e.splice(s,1),Ks.call(t,value);s++}return i.T("delete",arguments,33554432|i._),0}},Zs={$l:1,Ai:0,vn:1},_s=Reflect.defineProperty;for(const t of Qs)_s(Gs[t],"observing",{value:1,$l:0,vn:0,Ai:0});enableMapObservation();let MapObserver=class{constructor(t,i,s){this.I=i,s.H=this,this.R=s,this.flags=67108879&t,this.gt()}q(t){this.R.forEach((value,i)=>{S(value,t),S(i,t)})}};MapObserver=g([collectionObserver(6)],MapObserver);const Xs=Set.prototype,Js=Xs.add,Ys=Xs.clear,te=Xs.delete,ie={add:Js,clear:Ys,delete:te},se=["add","clear","delete"],ee={add(value){let t=this;void 0!==t.bn&&(t=t.bn);const i=t.H;if(void 0===i)return Js.call(t,value),this;const s=t.size;return Js.call(t,value),t.size===s?this:(i.ft[s]=-2,i.T("add",arguments,33554432|i._),this)},clear(){let t=this;void 0!==t.bn&&(t=t.bn);const i=t.H;if(void 0===i)return Ys.call(t);if(t.size>0){const s=i.ft;let e=0;for(const i of t.keys())s[e]>-1&&s.pt.push(s[e]),e++;Ys.call(t),s.length=0,i.T("clear",arguments,33554432|i._)}},delete(value){let t=this;void 0!==t.bn&&(t=t.bn);const i=t.H;if(void 0===i)return te.call(t,value);if(0===t.size)return 0;let s=0;const e=i.ft;for(const i of t.keys()){if(i===value)return e[s]>-1&&e.pt.push(e[s]),e.splice(s,1),te.call(t,value);s++}return i.T("delete",arguments,33554432|i._),0}},ne={$l:1,Ai:0,vn:1},re=Reflect.defineProperty;for(const t of se)re(ee[t],"observing",{value:1,$l:0,vn:0,Ai:0});enableSetObservation();let SetObserver=class{constructor(t,i,s){this.I=i,s.H=this,this.R=s,this.flags=67108879&t,this.gt()}q(t){this.R.forEach((value,i)=>{S(i,t)})}};SetObserver=g([collectionObserver(7)],SetObserver);const he={wc:0,vc:0};let CustomSetterObserver=class{constructor(t,i,s){this.G=t,this.Z=i,this.W=this.oldValue=void 0,this.yc=s,this.K=0}J(t){this.yc.set.call(this.G,t),this.W!==t&&(this.oldValue=this.W,this.W=t,this.T(t,this.oldValue,16))}subscribe(t){this.K||this.Cc(),this.g(t)}unsubscribe(t){this.p(t)}Cc(){this.K=1,this.W=this.G[this.Z],Reflect.defineProperty(this.G,this.Z,{set:t=>{this.J(t)}})}};CustomSetterObserver=g([subscriberCollection(MutationKind.C)],CustomSetterObserver);let GetterObserver=class{constructor(t,i,s,e,n,r,h){this.G=s,this.Z=e,this.Tc=0,this.W=this.oldValue=void 0,this.Rc=[],this.Ac=[],this.Bc=i,this.Oc=0,this.yc=n,this.A=new Proxy(s,(function t(i,s,e){return{get(n,r,h){if(e.Ic(r))return Reflect.get(n,r,h);switch(oe.call(n)){case"[object Array]":if(e.kc(s.Sc(i,n)),"length"===r)return Reflect.get(n,r,n);case"[object Map]":if(e.kc(s.Pc(i,n)),"size"===r)return Reflect.get(n,r,n);case"[object Set]":if(e.kc(s.Ec(i,n)),"size"===r)return Reflect.get(n,r,n);default:e.Lc(s.nt(i,n,r))}return(function(i,s,e,n,r){const value=Reflect.get(s,e,s);return"function"==typeof value?s[e].bind(s):"object"!=typeof value||null===value?value:new Proxy(value,t(i,n,r))})(i,n,r,s,e)}}})(t,r,this)),Reflect.defineProperty(s,e,{get:()=>this.X()})}Lc(t){-1===this.Rc.indexOf(t)&&this.Rc.push(t)}kc(t){-1===this.Ac.indexOf(t)&&this.Ac.push(t)}X(){return this.W=0===this.Oc||this.Tc?Reflect.apply(this.yc.get,this.A,PLATFORM.$s):Reflect.apply(this.yc.get,this.G,PLATFORM.$s),this.W}subscribe(t){this.g(t),1==++this.Oc&&this.jc(1)}unsubscribe(t){this.p(t),0==--this.Oc&&this.$c()}B(){const t=this.W,i=this.jc(0);t!==i&&this.T(i,t,16)}U(){const t=this.W,i=this.jc(0);t!==i&&this.T(i,t,464)}jc(t){const i=!this.Bc.wc||t;return i&&(this.$c(),this.Tc=1),this.W=this.X(),i&&(this.Rc.forEach(t=>{t.subscribe(this)}),this.Ac.forEach(t=>{t.Ct(this)}),this.Tc=0),this.W}Ic(t){return!this.Tc||"$observers"===t}$c(){this.Rc.forEach(t=>{t.unsubscribe(this)}),this.Rc.length=0,this.Ac.forEach(t=>{t.Tt(this)}),this.Ac.length=0}};GetterObserver=g([subscriberCollection(MutationKind.C)],GetterObserver);const oe={}.toString,IDirtyChecker=DI.Gs("IDirtyChecker").Xs(t=>t.singleton(le)),DirtyCheckSettings={Dc:6,disabled:0,warn:1,Mc:0,Vc(){this.Dc=6,this.disabled=0,this.warn=1,this.Mc=0}};class le{constructor(){this.xc=0,this.Fc=[]}Uc(t,i){if(DirtyCheckSettings.Mc)throw Reporter.error(800);return DirtyCheckSettings.warn&&Reporter.write(801),new DirtyCheckProperty(this,t,i)}Nc(t){this.Fc.push(t),1===this.Fc.length&&PLATFORM.As.add(this.qc,this)}removeProperty(t){this.Fc.splice(this.Fc.indexOf(t),1),0===this.Fc.length&&PLATFORM.As.remove(this.qc,this)}qc(t){if(DirtyCheckSettings.disabled)return;if(++this.xc<DirtyCheckSettings.Dc)return;this.xc=0;const i=this.Fc,s=i.length;let e,n=0;for(;s>n;++n)(e=i[n]).zc()&&e.flush(256)}}let DirtyCheckProperty=class{constructor(t,i,s){this.G=i,this.Z=s,this.Hc=t}zc(){return this.oldValue!==this.G[this.Z]}flush(t){const i=this.G[this.Z];this.T(i,this.oldValue,16|t),this.oldValue=i}subscribe(t){this.v()||(this.oldValue=this.G[this.Z],this.Hc.Nc(this)),this.g(t)}unsubscribe(t){this.p(t)&&!this.v()&&this.Hc.removeProperty(this)}};DirtyCheckProperty=g([propertyObserver()],DirtyCheckProperty);const ce=PLATFORM.Ds;class PrimitiveObserver{constructor(t,i){this.Kc=1,"length"===i?(this.G=t,this.X=this.Wc):this.X=this.Qc}Wc(){return this.G.length}Qc(){}}PrimitiveObserver.prototype.J=ce,PrimitiveObserver.prototype.subscribe=ce,PrimitiveObserver.prototype.unsubscribe=ce,PrimitiveObserver.prototype.Y=ce,PrimitiveObserver.prototype.q=ce;class PropertyAccessor{constructor(t,i){this.G=t,this.Z=i}X(){return this.G[this.Z]}J(value){this.G[this.Z]=value}q(t){(function(value,t,i){if(k(value)&&void 0!==value.N){const s=value.N[t];s&&void 0!==s.q&&s.q(468|i)}})(this.G,this.Z,t)}}const ue={}.toString,IObserverLocator=DI.Gs("IObserverLocator")._s(),ITargetObserverLocator=DI.Gs("ITargetObserverLocator")._s(),ITargetAccessorLocator=DI.Gs("ITargetAccessorLocator")._s();class ae{constructor(t,i,s,e){this.Gc=[],this.Hc=i,this.I=t,this.Zc=s,this._c=e}static register(t){return Registration.singleton(IObserverLocator,this).register(t)}nt(t,i,s){if(2&t&&"object"==typeof i)return ProxyObserver.Bi(i,s);if((function(t){return 1==t.Bn})(i))return i.Sn(t).Bi(t,i,s);let e,n=i.N;return n&&s in n?n[s]:((e=this.Xc(t,i,s)).Kc||(void 0===n&&(n=this.Jc(i)),n[s]=e),e)}Yc(t){this.Gc.push(t)}Nl(t,i,s){return this._c.tu(t,i)?this.Zc.iu(t,i,s)?this.nt(t,i,s):this._c.Nl(t,this.I,i,s):2&t?ProxyObserver.Bi(i,s):new PropertyAccessor(i,s)}Sc(t,i){return it(t,this.I,i)}Pc(t,i){return st(t,this.I,i)}Ec(t,i){return et(t,this.I,i)}Jc(t){return t.N||this.su(t)}su(t){const value={};return Reflect.defineProperty(t,"$observers",{Ai:0,vn:0,$l:0,value})||Reporter.write(0,t),value}eu(t,i,s,e){for(let n=0,r=this.Gc.length;r>n;n++){const r=this.Gc[n].nt(t,i,s,e);if(r)return r}return null}Xc(t,i,s){if(!(i instanceof Object))return new PrimitiveObserver(i,s);let e=0;if(this.Zc.tu(t,i)){const n=this.Zc.nt(t,this.I,this,i,s);if(null!==n)return n;if(null!==n)return n;e=1}switch(ue.call(i)){case"[object Array]":return"length"===s?this.Sc(t,i).yt(t):this.Hc.Uc(i,s);case"[object Map]":return"size"===s?this.Pc(t,i).yt(t):this.Hc.Uc(i,s);case"[object Set]":return"size"===s?this.Ec(t,i).yt(t):this.Hc.Uc(i,s)}const n=(function(t,name){let i=Object.getOwnPropertyDescriptor(t,name),s=Object.getPrototypeOf(t);for(;void 0===i&&null!==s;)i=Object.getOwnPropertyDescriptor(s,name),s=Object.getPrototypeOf(s);return i})(i,s);if(n&&(n.get||n.set)){if(n.get&&n.get.nt)return n.get.nt(i);return this.eu(t,i,s,n)||(e?this.Hc.Uc(i,s):(function(t,i,s,e,n,r,h){if(0==h.vn)return s.Uc(n,r);if(h.get){const s=n.constructor.computed&&n.constructor.computed[r]||he;return h.set?s.vc?new GetterObserver(t,s,n,r,h,i,e):new CustomSetterObserver(n,r,h):new GetterObserver(t,s,n,r,h,i,e)}throw Reporter.error(18,r)})(t,this,this.Hc,this.I,i,s,n))}return new SetterObserver(t,i,s)}}ae.inject=[ILifecycle,IDirtyChecker,ITargetObserverLocator,ITargetAccessorLocator];let SelfObserver=class{constructor(t,i,s,e){this._=67108879&t,ProxyObserver.mn(i)?(i.H.subscribe(this,s),this.G=i.bn):this.G=i,this.Z=s,this.W=this.G[s],this.ws=void 0===this.G[e]?null:this.G[e],4&t&&(this.X=this.yn)}B(t,i,s){this.J(t,s)}X(){return this.W}yn(){return this.G[this.Z]}J(t,i){if(t!==this.W||(4&i)>0)if(0==(2048&i)){const s=this.W;i|=this._,this.W=t,this.T(t,s,262144|i),null!==this.ws&&this.ws.call(this.G,t,s,i)}else this.W=t}q(t){const i=this.W,s=this.G[this.Z];t|=this._,this.W=s,this.T(s,i,t),null!==this.ws&&this.ws.call(this.G,s,i,t)}};SelfObserver=g([propertyObserver()],SelfObserver);const{oneTime:fe,Jn:de,Yn:ge,gh:pe}=BindingMode;class BindingModeBehavior{constructor(mode){this.mode=mode}bind(t,i,s){s.nu=s.mode,s.mode=this.mode}Zn(t,i,s){s.mode=s.nu,s.nu=null}}class OneTimeBindingBehavior extends BindingModeBehavior{constructor(){super(fe)}}BindingBehaviorResource.Vn("oneTime",OneTimeBindingBehavior);class ToViewBindingBehavior extends BindingModeBehavior{constructor(){super(de)}}BindingBehaviorResource.Vn("toView",ToViewBindingBehavior);class FromViewBindingBehavior extends BindingModeBehavior{constructor(){super(ge)}}BindingBehaviorResource.Vn("fromView",FromViewBindingBehavior);class TwoWayBindingBehavior extends BindingModeBehavior{constructor(){super(pe)}}BindingBehaviorResource.Vn("twoWay",TwoWayBindingBehavior);const be={},me=BindingMode.Yn;class DebounceBindingBehavior{bind(t,i,s,e=200){let n,r,h;s instanceof Binding?(n="handleChange",h=rt,r=s.mode&me?32:16):(n="callSource",h=nt,r=16),s.Ot=s[n],s.Ot.ru=n,s[n]=h,s.At={kt:r,It:e,Bt:0,oldValue:be}}Zn(t,i,s){s[s.Ot.ru]=s.Ot,s.Ot=null,PLATFORM.global.clearTimeout(s.At.Bt),s.At=null}}BindingBehaviorResource.Vn("debounce",DebounceBindingBehavior);class SignalBindingBehavior{constructor(t){this.hu=t}bind(t,i,s,...e){if(!s.Fl)throw Reporter.error(11);if(4===arguments.length){const name=e[0];this.hu.$n(name,s),s.ou=name}else{if(4>=arguments.length)throw Reporter.error(12);{const t=[].slice.call(arguments,3);let i=t.length;for(;i--;)this.hu.$n(t[i],s);s.ou=t}}}Zn(t,i,s){const name=s.ou;if(s.ou=null,Array.isArray(name)){const t=name;let i=t.length;for(;i--;)this.hu.Dn(t[i],s)}else this.hu.Dn(name,s)}}SignalBindingBehavior.inject=[ISignaler],BindingBehaviorResource.Vn("signal",SignalBindingBehavior);class ThrottleBindingBehavior{bind(t,i,s,e=200){let n;s.Et=s[n=s instanceof Binding?s.mode===BindingMode.gh?"updateSource":"updateTarget":"callSource"],s.Et.ru=n,s[n]=ht,s.St={It:e,Pt:0,Bt:-1}}Zn(t,i,s){s[s.Et.ru]=s.Et,s.Et=null,PLATFORM.global.clearTimeout(s.St.Bt),s.St=null}}BindingBehaviorResource.Vn("throttle",ThrottleBindingBehavior);const we={for(t){const i={add(i){let s;null!==i&&"object"==typeof i?s=i:"string"==typeof i&&(s={Lt:i});const e=s.Lt;if(!e)throw Reporter.error(0);return s.lu||(s.lu=PLATFORM.Ms(e)),s.ws||(s.ws=`${e}Changed`),void 0===s.mode&&(s.mode=BindingMode.Jn),t.bindables[e]=s,this},get:()=>t.bindables};if(void 0===t.bindables)t.bindables={};else if(Array.isArray(t.bindables)){const s=t.bindables;t.bindables={},s.forEach(i.add)}return i}},ve="custom-element",ye="custom-attribute";(function(TargetedInstructionType){TargetedInstructionType.cu="ra",TargetedInstructionType.uu="rb",TargetedInstructionType.fu="rc",TargetedInstructionType.du="rd",TargetedInstructionType.setProperty="re",TargetedInstructionType.bc="rf",TargetedInstructionType.gu="rg",TargetedInstructionType.pu="rh",TargetedInstructionType.bu="ri",TargetedInstructionType.mu="rj",TargetedInstructionType.wu="rk"})(TargetedInstructionType||(TargetedInstructionType={}));const ITargetedInstruction=DI.Gs("createInterface")._s(),Ce=Object.freeze({required:1,compiler:"default"}),Te=Object.freeze({required:0,compiler:"default"});class Re{constructor(){this.name="unnamed",this.template=null,this.cache=0,this.build=Te,this.bindables=PLATFORM.jt,this.instructions=PLATFORM.$s,this.dependencies=PLATFORM.$s,this.surrogates=PLATFORM.$s,this.containerless=0,this.shadowOptions=null,this.hasSlots=0,this.strategy=1}}const Ae=["name","template","cache","build","containerless","shadowOptions","hasSlots"],Be=["instructions","dependencies","surrogates"],INode=(Profiler.pe("AttachLifecycle"),Profiler.pe("BindLifecycle"),DI.Gs("INode")._s()),IRenderLocation=DI.Gs("IRenderLocation")._s(),IDOM=DI.Gs("IDOM")._s(),Oe=function(){throw Reporter.error(1e3)},Ie={addEventListener:Oe,appendChild:Oe,cloneNode:Oe,vu:Oe,createDocumentFragment:Oe,createElement:Oe,yu:Oe,dispatchEvent:Oe,Cu:Oe,Tu:Oe,createTextNode:Oe,insertBefore:Oe,Ru:Oe,es:Oe,Au:Oe,Ki:Oe,vi:Oe,remove:Oe,removeEventListener:Oe,setAttribute:Oe},DOM=Object.assign({},Ie,{get Bu(){return 1==Reflect.get(this,"$initialized")},initialize(dom){if(this.Bu)throw Reporter.error(1001);const t={},i=[dom];let s=Object.getPrototypeOf(dom);for(;s&&s!==Object.prototype;)i.unshift(s),s=Object.getPrototypeOf(s);for(s of i)Object.assign(t,Object.getOwnPropertyDescriptors(s));const e=[];let n,r;for(n in t)(r=t[n]).vn&&r.$l&&(Reflect.defineProperty(this,n,r),e.push(n));Reflect.set(this,"$domKeys",e),Reflect.set(this,"$initialized",1)},Ou(){if(!this.Bu)throw Reporter.error(1002);Reflect.get(this,"$domKeys").forEach(t=>{Reflect.deleteProperty(this,t)}),Object.assign(this,Ie),Reflect.set(this,"$domKeys",PLATFORM.$s),Reflect.set(this,"$initialized",0)}}),NodeSequence={empty:{childNodes:PLATFORM.$s,firstChild:null,lastChild:null,Iu:()=>PLATFORM.$s,insertBefore(t){},ku(t){},remove(){}}};class ke{constructor($lifecycle,cache){this.ci=null,this.bi=null,this.xt=null,this.Qt=null,this.xt=null,this.Qt=null,this.Ut=null,this.Zt=null,this.Su=null,this._o=null,this.tl=null,this.nl=null,this.$state=0,this.$scope=null,this.ii=0,this.$lifecycle=$lifecycle,this.cache=cache}Pu(t){this.ii=0,this.location=t}release(t){return this.ii=1,8&this.$state?this.cache.Eu(this):!!this.il(t)}Lu(t){this.$scope=t,this.ui=Ot,this.ei=Pt}}class Se{constructor(name,template,t){this.ju=0,this.$u=-1,this.cache=null,this.I=t,this.name=name,this.template=template}Du(t,i){t&&("*"===t?t=Se.Mu:"string"==typeof t&&(t=parseInt(t,10)),-1!==this.$u&&i||(this.$u=t)),this.cache=this.$u>0?[]:null,this.ju=this.$u>0}Eu(t){return null!==this.cache&&this.$u>this.cache.length}si(t){return this.Eu(t)?(t.Xt(0),this.cache.push(t),1):0}create(t){const cache=this.cache;let i;if(null!==cache&&cache.length>0)return(i=cache.pop()).$state&=-129,i;if(i=new ke(this.I,this),this.template.Ci(i,null,null,t),!i.$nodes)throw Reporter.error(90);return i}}Se.Mu=65535,(t=>{t.ui=Bt,t.q=Et,t.ei=St,t.Ft=ft,t.Gt=pt,t.Xt=wt,t.Xo=Ct,t.il=Tt})(ke.prototype);const ITemplateCompiler=DI.Gs("ITemplateCompiler")._s();(function(ViewCompileFlags){ViewCompileFlags[ViewCompileFlags.cn=1]="none",ViewCompileFlags[ViewCompileFlags.Vu=2]="surrogate",ViewCompileFlags[ViewCompileFlags.xu=4]="shadowDOM"})(ViewCompileFlags||(ViewCompileFlags={}));const ITemplateFactory=DI.Gs("ITemplateFactory")._s();class CompiledTemplate{constructor(dom,t,i,s){this.dom=dom,this.Fu=t,this.Uu=i,this.Nu=s}Ci(t,host,parts,i=0){const s=t.$nodes=this.Uu.qu();t.$context=this.Nu,this.Nu.Ci(i|=this.Fu.strategy,t,s.Iu(),this.Fu,host,parts)}}const Pe={Nu:null,dom:null,Ci(t){t.$nodes=NodeSequence.empty,t.$context=null}},Ee="default",IInstructionRenderer=DI.Gs("IInstructionRenderer")._s(),IRenderer=DI.Gs("IRenderer")._s(),IRenderingEngine=DI.Gs("IRenderingEngine").Xs(t=>t.singleton(Le));class Le{constructor(t,i,s,e){this.zu=new Map,this.Hu=t,this.Ku=i,this.Wu=new Map,this.I=s,this.Qu=new Map,this.Gu=e.reduce((t,i)=>(t[i.name]=i,t),Object.create(null))}Pi(dom,t,i,s){if(!t)return null;let e=this.Qu.get(t);return e||(e=this.Zu(dom,t,i,s),this.Qu.set(t,e)),e}_u(dom,t,i){if(!t)return null;let s=this.Wu.get(t);if(!s){const e=buildTemplateDefinition(null,t),template=this.Zu(dom,e,i,null);(s=new Se(e.name,template,this.I)).Du(e.cache,1),this.Wu.set(t,s)}return s}Oi(t,i,s){let e=this.zu.get(i);e||(e=Me.create(i),this.zu.set(i,e)),e.Xu(t,s,this.I)}Zu(dom,t,i,s){if(null===i&&(i=this.Hu),null!==t.template){const e=createRenderContext(dom,i,t.dependencies,s);if(t.build.required){const i=t.build.compiler||Ee,compiler=this.Gu[i];if(void 0===compiler)throw Reporter.error(20,i);t=compiler.compile(dom,t,new RuntimeCompilationResources(e),ViewCompileFlags.Vu)}return this.Ku.create(e,t)}return Pe}}Le.inject=[IContainer,ITemplateFactory,ILifecycle,all(ITemplateCompiler)];class je{constructor(){this.C=null}Ri(t){this.C=t}resolve(t,i){if(void 0===this.C)throw Reporter.error(50);return this.C}Y(){this.C=null}}class $e{Ri(t,parts){this.Uu=t,this.Ju=parts||PLATFORM.jt}resolve(t,i){const s=this.Uu;if(null==s)throw Reporter.error(50);if(!s.name||!s.name.length)throw Reporter.error(51);const e=this.Ju[s.name];if(e){const s=t.get(IRenderingEngine),dom=t.get(IDOM);return s._u(dom,e,i)}return s}Y(){this.Uu=null,this.Ju=PLATFORM.jt}}let De=class{constructor(t,customElement){this.wt=0,this.children=null,this.customElement=customElement,this.I=t,this.K=0}X(){return this.K||(this.K=1,this.customElement.Yt.Yu(()=>{this.ta()}),this.children=Lt(this.customElement.Yt.children)),this.children}J(t){}flush(t){this.T(this.children,void 0,16|t),this.wt=0}subscribe(t){this.g(t)}unsubscribe(t){this.p(t)}ta(){this.children=Lt(this.customElement.Yt.children),"$childrenChanged"in this.customElement&&this.customElement.ia(),this.I.O(this).catch(t=>{throw t}),this.wt=1}};De=g([subscriberCollection(MutationKind.C)],De);class Me{constructor(){}static create(t){const i=new Me;return i.bindables=t.description.bindables,i}Xu(t,i,s){i.$lifecycle=s,"$projector"in i?this.sa(t,s,i):this.ea(t,i)}sa(t,i,s){this.ea(t,s).na=new De(i,s),Reflect.defineProperty(s,"$children",{Ai:0,get(){return this.N.na.X()}})}ea(t,i){const s={},bindables=this.bindables,e=Object.getOwnPropertyNames(bindables);if(2&t)for(let n=0,r=e.length;r>n;++n){const name=e[n];s[name]=new SelfObserver(t,ProxyObserver.Bi(i).A,name,bindables[name].ws)}else{for(let n=0,r=e.length;r>n;++n){const name=e[n];s[name]=new SelfObserver(t,i,name,bindables[name].ws),4&t||jt(t,i,name)}Reflect.defineProperty(i,"$observers",{Ai:0,value:s})}return s}}const IProjectorLocator=DI.Gs("IProjectorLocator")._s(),CustomElementResource={name:ve,tt:ot,Mn(t){return t.kind===this},ra:lt,Vn(t,i=null){if(!t)throw Reporter.error(70);const s=null===i?class{}:i,e=s,n=buildTemplateDefinition(s,t),r=s.prototype;return e.kind=CustomElementResource,s.description=n,s.register=$t,r.ha=Vt,r.ui=At,r.q=Et,r.Ft=at,r.Gt=gt,r.ei=kt,r.Xt=mt,r.Zt=null,r.Ut=null,r.Su=null,r.nl=null,r.$scope=null,r.$hooks=0,r.ci=null,r.bi=null,r.xt=null,r.Qt=null,r.Xo=vt,r.il=yt,r._o=null,r.tl=null,r.Yt=null,"flush"in r&&(r.at=null),"binding"in r&&(r.$hooks|=4),"bound"in r&&(r.$hooks|=8,r.Zo=null),"unbinding"in r&&(r.$hooks|=256),"unbound"in r&&(r.$hooks|=512,r.rl=null),"render"in r&&(r.$hooks|=1024),"created"in r&&(r.$hooks|=2),"attaching"in r&&(r.$hooks|=16),"attached"in r&&(r.$hooks|=32,r.Jo=null),"detaching"in r&&(r.$hooks|=64),"caching"in r&&(r.$hooks|=2048),"detached"in r&&(r.$hooks|=128,r.sl=null),s}},Ve={mode:"open"},CustomAttributeResource=(Profiler.pe("RenderLifecycle"),{name:ye,tt:ct,Mn(t){return t.kind===this},Vn(t,i){const s=i,e=s,n=(function(def,t){const aliases=def.aliases,defaultBindingMode=def.defaultBindingMode;return{name:def.name,aliases:null==aliases?PLATFORM.$s:aliases,defaultBindingMode:null==defaultBindingMode?BindingMode.Jn:defaultBindingMode,Li:void 0===def.Li?0:def.Li,isTemplateController:void 0===def.isTemplateController?0:def.isTemplateController,bindables:Object.assign({},we.for(t).get(),we.for(def).get()),strategy:M(def.strategy)}})("string"==typeof t?{name:t}:t,s),r=s.prototype;return e.kind=CustomAttributeResource,e.description=n,s.register=xt,r.ha=Mt,r.ui=Rt,r.q=Et,r.Ft=ut,r.Gt=dt,r.ei=It,r.Xt=bt,r.Zt=null,r.Ut=null,r.Su=null,r.nl=null,r.$scope=null,r.$hooks=0,r.$state=0,"flush"in r&&(r.at=null),"binding"in r&&(r.$hooks|=4),"bound"in r&&(r.$hooks|=8,r.Zo=null),"unbinding"in r&&(r.$hooks|=256),"unbound"in r&&(r.$hooks|=512,r.rl=null),"created"in r&&(r.$hooks|=2),"attaching"in r&&(r.$hooks|=16),"attached"in r&&(r.$hooks|=32,r.Jo=null),"detaching"in r&&(r.$hooks|=64),"caching"in r&&(r.$hooks|=2048),"detached"in r&&(r.$hooks|=128,r.sl=null),s}});class If{constructor(t,i,s){this.value=0,this.El=s,this.oa=null,this.la=null,this.ca=t,this.ua=null,this.location=i,this._=0}hi(t){this._=67108879&t;const i=this.aa(t);this.El.Tl(i,t),this.El.hi(t,this.$scope)}Dt(t){this.El.Dt(t)}zt(t){this.El.zt(t)}gi(t){this.El.gi(t)}_t(t){null!==this.ua&&this.ua.release(t)&&(this.ua=null),null!==this.la&&this.la.release(t)&&(this.la=null),this.El._t(t)}fa(t,i,s){if(3&this.$state){s|=this._;const t=ProxyObserver.Rt(this);if(448&s){const i=t.aa(s);t.El.Tl(i,s)}else t.$lifecycle.O(t).catch(t=>{throw t})}}flush(t){t|=this._;const i=ProxyObserver.Rt(this),s=i.aa(t);i.El.Tl(s,t)}aa(t){return this.value?this.ua=this.da(this.ua,this.ca,t):null!==this.oa?this.la=this.da(this.la,this.oa,t):null}da(t,i,s){return null===t&&(t=i.create(s)),t.Pu(this.location),t}}If.inject=[IViewFactory,IRenderLocation,CompositionCoordinator],g([bindable],If.prototype,"value",void 0),CustomAttributeResource.Vn({name:"if",isTemplateController:1},If);class Else{constructor(t){this.Uu=t}link(t){t.oa=this.Uu}}Else.inject=[IViewFactory],CustomAttributeResource.Vn({name:"else",isTemplateController:1},Else);class Repeat{constructor(t,i,s){this.Uu=s,this.ga=0,this.location=t,this.pa=null,this.ba=i,this.ma=[],this.key=null,this.dn=0}hi(t){this._=67108879&t,this.wa(t);let i=this.ba.ci;for(;null!==i;){if(ProxyObserver.Rt(i.target)===ProxyObserver.Rt(this)&&"items"===i.xl){this.va=i.Vl;break}i=i.ai}this.ya=this.va.th.evaluate(t,this.$scope,null),this.dn||(8&t)>0?this.Ca(null,t):this.Ta(null,t)}Dt(t){const{ma:i,location:s}=this;let e;for(let n=0,r=i.length;r>n;++n)(e=i[n]).Pu(s),e.Ft(t)}zt(t){const{ma:i}=this;let s;for(let e=0,n=i.length;n>e;++e)(s=i[e]).Gt(t),s.release(t)}gi(t){this.wa(t);const{ma:i}=this;let s;for(let e=0,n=i.length;n>e;++e)(s=i[e]).ei(t)}Ra(t,i,s){s|=this._;const e=ProxyObserver.Rt(this);e.wa(s),s|=16,e.dn||(8&s)>0?e.Ca(null,s):e.Ta(null,s)}U(t,i){i|=this._;const s=ProxyObserver.Rt(this);i|=464,s.dn||(8&i)>0?s.Ca(t,i):s.Ta(t,i)}Ta(t,i){const{ma:s,$lifecycle}=this;let e;if(3&this.$state){const{ya:n,$scope,Uu:r,va:h,Aa:o}=this,l=s.length,c=h.count(i,o);if(c>l){s.length=c;for(let t=l;c>t;++t)s[t]=r.create(i)}else if(l>c){$lifecycle.qt();for(let t=c;l>t;++t)(e=s[t]).release(i),e.Gt(i);$lifecycle.Kt(i),$lifecycle.fi();for(let t=c;l>t;++t)(e=s[t]).ei(i);if($lifecycle.pi(i),s.length=c,0===c)return}else if(0===c)return;$lifecycle.ni(),h.sh(i,o,null===t?(t,r,h)=>{(e=s[r]).ui(i,Scope.En(i,$scope,e.$scope&&e.$scope.kn[n]===h?e.$scope.kn:BindingContext.create(i,n,h)))}:(r,h,o)=>{(e=s[h]).ui(i,Scope.En(i,$scope,!e.$scope||t[h]!==h&&e.$scope.kn[n]!==o?BindingContext.create(i,n,o):e.$scope.kn))}),$lifecycle.oi(i)}if(12&this.$state){const{location:n}=this;if($lifecycle.$t(),null===t)for(let t=0,r=s.length;r>t;++t)(e=s[t]).Pu(n),e.Ft(i);else for(let r=0,h=s.length;h>r;++r)t[r]!==r&&((e=s[r]).Pu(n),e.Ft(i));$lifecycle.Vt(i)}}Ca(t,i){const{$lifecycle,ya:s,$scope,Uu:e,va:n,Aa:r}=this;let h=this.ma;if(null===t){if(3&this.$state){$lifecycle.qt();const t=h.length;let o;for(let s=0;t>s;++s)(o=h[s]).release(i),o.Gt(i);$lifecycle.Kt(i),$lifecycle.fi();for(let s=0;t>s;++s)(o=h[s]).ei(i);$lifecycle.pi(i);const l=n.count(i,r);h=this.ma=Array(l),$lifecycle.ni(),n.sh(i,r,(t,n,r)=>{(o=h[n]=e.create(i)).ui(i,Scope.En(i,$scope,BindingContext.create(i,s,r)))}),$lifecycle.oi(i)}if(12&this.$state){const{location:t}=this;let s;$lifecycle.$t();const e=h.length;for(let n=0;e>n;++n)(s=h[n]).Pu(t),s.Ft(i);$lifecycle.Vt(i)}}else{const n=t.length;let o;const l=t.pt,c=l.length;let u=0;if(3&this.$state){if(c>0){for($lifecycle.qt(),u=0;c>u;++u)(o=h[l[u]]).release(i),o.Gt(i);for($lifecycle.Kt(i),$lifecycle.fi(),u=0;c>u;++u)(o=h[l[u]]).ei(i);$lifecycle.pi(i),u=0;let s=0,e=0;for(l.sort();c>u;++u)for(h.splice(s=l[u]-u,1),e=0;n>e;++e)s>t[e]||--t[e]}for($lifecycle.ni(),u=0;n>u;++u)-2===t[u]&&((o=e.create(i)).ui(i,Scope.En(i,$scope,BindingContext.create(i,s,r[u]))),h.splice(u,0,o));if($lifecycle.oi(i),h.length!==n)throw Error(`viewsLen=${h.length}, mapLen=${n}`)}if(12&this.$state){const{location:s}=this,e=(function(t){const i=t.length,s=i+t.pt.length,e=255>s?Uint8Array:65535>s?Uint16Array:Uint32Array;i>Ue&&(Ue=i,xe=new e(i),Fe=new e(i));let n=0,r=0,h=0,o=0,l=0,c=0,u=0,a=0;for(;i>o;o++)if(-2!==(r=t[o])){if(-2!==(h=t[l=xe[n]])&&r>h){Fe[o]=l,xe[++n]=o;continue}for(c=0,u=n;u>c;)-2!==(h=t[xe[a=c+u>>1]])&&r>h?c=a+1:u=a;((h=t[xe[c]])>r||-2===h)&&(c>0&&(xe[o]=xe[c-1]),xe[c]=o)}const f=new e(o=++n);for(r=xe[n-1];n-- >0;)f[n]=r,r=Fe[r];for(;o-- >0;)xe[o]=0;return f})(t),n=e.length;$lifecycle.qt(),$lifecycle.$t(),$lifecycle.Nt({Xo(){let r=s,l=n-1;for(u=t.length-1;u>=0;--u)if(-2===t[u]){(o=h[u]).$state|=4;let t=o.xt;for(;null!==t;)t.Ft(8192|i),t=t.Ut;o.$nodes.insertBefore(r),o.$state|=24,o.$state&=-5,r=o.$nodes.firstChild}else if(0>l||1===n||u!==e[l]){(o=h[t[u]]).$state|=32;let s=o.Qt;for(;null!==s;)s.Gt(16384|i),s=s.Zt;for(o.$nodes.remove(),o.$state&=-57,o.$state|=4,s=o.xt;null!==s;)s.Ft(8192|i),s=s.Ut;o.$nodes.insertBefore(r),o.$state|=24,o.$state&=-5,r=o.$nodes.firstChild}else r=(o=h[u]).$nodes.firstChild,--l},_o:null}),$lifecycle.Kt(i),$lifecycle.Vt(i)}}}wa(t){const i=ProxyObserver.Rt(this),s=i.pa;if(3&i.$state){const e=i.pa=getCollectionObserver(t,i.$lifecycle,i.Aa);s!==e&&s&&s.Tt(i),e&&e.Ct(i)}else s&&s.Tt(i)}}let xe,Fe;Repeat.inject=[IRenderLocation,IRenderable,IViewFactory],g([bindable],Repeat.prototype,"items",void 0),CustomAttributeResource.Vn({name:"repeat",isTemplateController:1},Repeat);let Ue=0;class Replaceable{constructor(t,i){this.Uu=t,this.currentView=this.Uu.create(),this.currentView.Pu(i)}hi(t){this.currentView.ui(67108864|t,this.$scope)}Dt(t){this.currentView.Ft(t)}zt(t){this.currentView.Gt(t)}gi(t){this.currentView.ei(t)}}Replaceable.inject=[IViewFactory,IRenderLocation],CustomAttributeResource.Vn({name:"replaceable",isTemplateController:1},Replaceable);class With{constructor(t,i){this.value=null,this.Uu=t,this.currentView=this.Uu.create(),this.currentView.Pu(i)}fa(){3&this.$state&&this.Ba(2048)}hi(t){this.Ba(t)}Dt(t){this.currentView.Ft(t)}zt(t){this.currentView.Gt(t)}gi(t){this.currentView.ei(t)}Ba(t){const i=Scope.En(t,this.$scope,this.value);this.currentView.ui(t,i)}}With.inject=[IViewFactory,IRenderLocation],g([bindable],With.prototype,"value",void 0),CustomAttributeResource.Vn({name:"with",isTemplateController:1},With);const ISanitizer=DI.Gs("ISanitizer").Xs(t=>t.singleton(class{Oa(t){return t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")}}));class SanitizeValueConverter{constructor(t){this.Ia=t}Jn(t){return null==t?null:this.Ia.Oa(t)}}SanitizeValueConverter.inject=[ISanitizer],ValueConverterResource.Vn("sanitize",SanitizeValueConverter),Profiler.pe("Aurelia.start"),Profiler.pe("Aurelia.stop");class Aurelia{constructor(t=DI.Ks()){this.Hu=t,this.ka=[],this.Sa=[],this.Pa=[],this.Ea=0,this.La=null,Registration.C(Aurelia,this).register(t,Aurelia)}register(...t){return this.Hu.register(...t),this}app(t){const host=t.host;this.Hu.get(IDOMInitializer).initialize(t),Registration.C(INode,host).register(this.Hu);const i=512|t.strategy,s=1024|t.strategy;let component;const e=t.component;CustomElementResource.Mn(e)?(this.Hu.register(e),component=this.Hu.get(CustomElementResource.tt(e.description.name))):component=e,component=ProxyObserver.Rt(component);const n=()=>{host.$au=this,this.ka.includes(component)||(this.La=component,this.ka.push(component),component.ha(i,this.Hu,host)),component.ui(2048|i,null),component.Ft(8192|i)};return this.Sa.push(n),this.Pa.push(()=>{component.Gt(16384|s),component.ei(4096|s),host.$au=null}),this.Ea&&n(),this}root(){return ProxyObserver.pn(this.La)}start(){for(const t of this.Sa)t();return this.Ea=1,this}stop(){this.Ea=0;for(const t of this.Pa)t();return this}}PLATFORM.global.Aurelia=Aurelia;const IDOMInitializer=DI.Gs("IDOMInitializer")._s();class Ne{constructor(t){const i=this.ja={};t.forEach(t=>{i[t.ji]=t})}static register(t){return Registration.singleton(IRenderer,this).register(t)}Ci(t,dom,i,s,targets,e,host,parts){const n=e.instructions,r=this.ja;if(targets.length!==n.length)throw Reporter.error(targets.length>n.length?30:31);let instructions,h,o;for(let e=0,l=targets.length;l>e;++e){h=targets[e];for(let l=0,c=(instructions=n[e]).length;c>l;++l)r[(o=instructions[l]).type].Ci(t,dom,i,s,h,o,parts)}if(host){const n=e.surrogates;for(let e=0,h=n.length;h>e;++e)r[(o=n[e]).type].Ci(t,dom,i,s,host,o,parts)}}}Ne.inject=[all(IInstructionRenderer)];let qe=class{Ci(t,dom,i,s,e,n){e[n.to]=n.value}};qe=g([instructionRenderer("re")],qe);let ze=class{Ci(t,dom,i,s,e,n){const r=i.Ti(s,e,n,null,null,e,1),component=i.get(ot(n.res)),h=i.get(IRenderer).ja,o=n.instructions;let l;component.ha(t,i,e,n);for(let e=0,n=o.length;n>e;++e)h[(l=o[e]).type].Ci(t,dom,i,s,component,l);addComponent(s,component),r.Y()}};ze=g([instructionRenderer("ra")],ze);let He=class{Ci(t,dom,i,s,e,n){const r=i.Ti(s,e,n),component=i.get(ct(n.res)),h=i.get(IRenderer).ja,o=n.instructions;let l;component.ha(t,i);for(let e=0,n=o.length;n>e;++e)h[(l=o[e]).type].Ci(t,dom,i,s,component,l);addComponent(s,component),r.Y()}};He=g([instructionRenderer("rb")],He);let Ke=class{constructor(t){this.$a=t}Ci(t,dom,i,s,e,n,parts){const r=this.$a._u(dom,n.def,i),h=i.Ti(s,e,n,r,parts,dom.vu(e),0),component=i.get(ct(n.res)),o=i.get(IRenderer).ja,l=n.instructions;let c;component.ha(t,i),n.link&&component.link(s.Qt);for(let e=0,n=l.length;n>e;++e)o[(c=l[e]).type].Ci(t,dom,i,s,component,c);addComponent(s,component),h.Y()}};Ke.inject=[IRenderingEngine],Ke=g([instructionRenderer("rc")],Ke);let We=class{constructor(t,i){this.Da=t,this.rt=i}Ci(t,dom,i,s,e,n){dom.remove(e);const r=n.instructions,toViewModel=n.toViewModel;let h,o,l;for(let t=0,e=r.length;e>t;++t)o=ensureExpression(this.Da,(h=r[t]).from,48),addBinding(s,l=new LetBinding(o,h.to,this.rt,i,toViewModel))}};We.inject=[IExpressionParser,IObserverLocator],We=g([instructionRenderer("rd")],We);let Qe=class{constructor(t,i){this.Da=t,this.rt=i}Ci(t,dom,i,s,e,n){const r=ensureExpression(this.Da,n.from,153);addBinding(s,new Call(r,e,n.to,this.rt,i))}};Qe.inject=[IExpressionParser,IObserverLocator],Qe=g([instructionRenderer("rh")],Qe);let Ge=class{constructor(t){this.Da=t}Ci(t,dom,i,s,e,n){const r=ensureExpression(this.Da,n.from,1280);addBinding(s,new Ref(r,e,i))}};Ge.inject=[IExpressionParser],Ge=g([instructionRenderer("rj")],Ge);let Ze=class{constructor(t,i){this.Da=t,this.rt=i}Ci(t,dom,i,s,e,n){let r;const h=ensureExpression(this.Da,n.from,2048);addBinding(s,r=h.nh?new MultiInterpolationBinding(this.rt,h,e,n.to,BindingMode.Jn,i):new InterpolationBinding(h.rh,h,e,n.to,BindingMode.Jn,this.rt,i,1))}};Ze.inject=[IExpressionParser,IObserverLocator],Ze=g([instructionRenderer("rf")],Ze);let _e=class{constructor(t,i){this.Da=t,this.rt=i}Ci(t,dom,i,s,e,n){const r=ensureExpression(this.Da,n.from,48|n.mode);addBinding(s,new Binding(r,e,n.to,n.mode,this.rt,i))}};_e.inject=[IExpressionParser,IObserverLocator],_e=g([instructionRenderer("rg")],_e);let Xe=class{constructor(t,i){this.Da=t,this.rt=i}Ci(t,dom,i,s,e,n){const r=ensureExpression(this.Da,n.from,539);addBinding(s,new Binding(r,e,n.to,BindingMode.Jn,this.rt,i))}};Xe.inject=[IExpressionParser,IObserverLocator],Xe=g([instructionRenderer("rk")],Xe);class Je{bind(t,i,s,e){s.target.key=e,s.target.dn=1}Zn(t,i,s){s.target.key=null,s.target.dn=0}}BindingBehaviorResource.Vn("keyed",Je);const DefaultComponents=[ae,ws,Ne],DefaultResources=[If,Else,Repeat,Replaceable,With,SanitizeValueConverter,DebounceBindingBehavior,Je,OneTimeBindingBehavior,ToViewBindingBehavior,FromViewBindingBehavior,SignalBindingBehavior,ThrottleBindingBehavior,TwoWayBindingBehavior],DefaultRenderers=[_e,Xe,Qe,Ge,Ze,qe,ze,He,Ke,We],RuntimeBasicConfiguration={register:t=>t.register(...DefaultComponents,...DefaultResources,...DefaultRenderers),Ks(){return this.register(DI.Ks())}};class InterpolationInstruction{constructor(from,to){this.type="rf",this.from=from,this.to=to}}class OneTimeBindingInstruction{constructor(from,to){this.type="rg",this.from=from,this.mode=BindingMode.oneTime,this.oneTime=1,this.to=to}}class ToViewBindingInstruction{constructor(from,to){this.type="rg",this.from=from,this.mode=BindingMode.Jn,this.oneTime=0,this.to=to}}class FromViewBindingInstruction{constructor(from,to){this.type="rg",this.from=from,this.mode=BindingMode.Yn,this.oneTime=0,this.to=to}}class TwoWayBindingInstruction{constructor(from,to){this.type="rg",this.type="rg",this.from=from,this.mode=BindingMode.gh,this.oneTime=0,this.to=to}}class IteratorBindingInstruction{constructor(from,to){this.type="rk",this.from=from,this.to=to}}class CallBindingInstruction{constructor(from,to){this.type="rh",this.from=from,this.to=to}}class RefBindingInstruction{constructor(from){this.type="rj",this.from=from}}class SetPropertyInstruction{constructor(value,to){this.type="re",this.to=to,this.value=value}}class HydrateElementInstruction{constructor(res,instructions,parts){this.type="ra",this.instructions=instructions,this.parts=parts,this.res=res}}class HydrateAttributeInstruction{constructor(res,instructions){this.type="rb",this.instructions=instructions,this.res=res}}class HydrateTemplateController{constructor(def,res,instructions,link){this.type="rc",this.def=def,this.instructions=instructions,this.link=link,this.res=res}}class LetElementInstruction{constructor(instructions,toViewModel){this.type="rd",this.instructions=instructions,this.toViewModel=toViewModel}}class LetBindingInstruction{constructor(from,to){this.type="ri",this.from=from,this.to=to}}wi=Object.freeze({CallFunction,connects:t=>32==(32&t.it),observes:t=>64==(64&t.it),callsFunction:t=>128==(128&t.it),hasAncestor:t=>256==(256&t.it),isAssignable:t=>8192==(8192&t.it),isLeftHandSide:t=>1024==(1024&t.it),isPrimary:t=>512==(512&t.it),isResource:t=>32768==(32768&t.it),hasBind,hasUnbind,isLiteral,arePureLiterals,isPureLiteral,BindingBehavior,ValueConverter,Assign,Conditional,AccessThis,AccessScope,AccessMember,AccessKeyed,CallScope,CallMember,Binary,Unary,PrimitiveLiteral,HtmlLiteral:class{constructor(parts){this.it=51,this.assign=PLATFORM.Ds,this.parts=parts}evaluate(t,i,s){const e=this.parts;let value,n="";for(let r=0,h=e.length;h>r;++r)null!=(value=e[r].evaluate(t,i,s))&&(n+=value);return n}connect(t,i,s){for(let e=0,n=this.parts.length;n>e;++e)this.parts[e].connect(t,i,s)}accept(t){return t.Ma(this)}},ArrayLiteral,ObjectLiteral,Template,TaggedTemplate,ArrayBindingPattern,ObjectBindingPattern,BindingIdentifier,ForOfStatement,Interpolation,get Binding(){return Binding},Call,connectable,IExpressionParser,get BindingType(){return BindingType},MultiInterpolationBinding,get InterpolationBinding(){return InterpolationBinding},get LetBinding(){return LetBinding},Ref,get ArrayObserver(){return ArrayObserver},enableArrayObservation,disableArrayObservation(){for(const t of Fs)1==Ps[t].K&&def(Ps,t,Object.assign({},Ns,{value:xs[t]}))},get MapObserver(){return MapObserver},enableMapObservation,disableMapObservation(){for(const t of Qs)1==qs[t].K&&_s(qs,t,Object.assign({},Zs,{value:Ws[t]}))},get SetObserver(){return SetObserver},enableSetObservation,disableSetObservation(){for(const t of se)1==Xs[t].K&&re(Xs,t,Object.assign({},ne,{value:ie[t]}))},BindingContext,Scope,OverrideContext,collectionObserver,get CollectionLengthObserver(){return CollectionLengthObserver},computed:t=>(function(i,s){(i.computed||(i.computed={}))[s]=t}),get CustomSetterObserver(){return CustomSetterObserver},get GetterObserver(){return GetterObserver},IDirtyChecker,get DirtyCheckProperty(){return DirtyCheckProperty},DirtyCheckSettings,IObserverLocator,ITargetObserverLocator,ITargetAccessorLocator,getCollectionObserver,PrimitiveObserver,PropertyAccessor,propertyObserver,get ProxyObserver(){return ProxyObserver},get SelfObserver(){return SelfObserver},get SetterObserver(){return SetterObserver},ISignaler,subscriberCollection,batchedSubscriberCollection,targetObserver,bindingBehavior:t=>i=>BindingBehaviorResource.Vn(t,i),BindingBehaviorResource,BindingModeBehavior,OneTimeBindingBehavior,ToViewBindingBehavior,FromViewBindingBehavior,TwoWayBindingBehavior,DebounceBindingBehavior,SignalBindingBehavior,ThrottleBindingBehavior,customAttribute:t=>i=>CustomAttributeResource.Vn(t,i),CustomAttributeResource,dynamicOptions:t=>void 0===t?Ft:Ft(t),templateController:t=>i=>CustomAttributeResource.Vn("string"==typeof t?{isTemplateController:1,name:t}:Object.assign({isTemplateController:1},t),i),If,Else,Repeat,Replaceable,With,containerless:t=>void 0===t?Dt:Dt(t),customElement:t=>i=>CustomElementResource.Vn(t,i),CustomElementResource,IProjectorLocator,useShadowDOM(t){function i(t){return t.shadowOptions=s,t}const s="function"!=typeof t&&t?t:Ve;return"function"==typeof t?i(t):i},valueConverter:t=>i=>ValueConverterResource.Vn(t,i),ValueConverterResource,ISanitizer,SanitizeValueConverter,bindable,Aurelia,IDOMInitializer,IfRegistration:If,ElseRegistration:Else,RepeatRegistration:Repeat,ReplaceableRegistration:Replaceable,WithRegistration:With,SanitizeValueConverterRegistration:SanitizeValueConverter,DebounceBindingBehaviorRegistration:DebounceBindingBehavior,OneTimeBindingBehaviorRegistration:OneTimeBindingBehavior,ToViewBindingBehaviorRegistration:ToViewBindingBehavior,FromViewBindingBehaviorRegistration:FromViewBindingBehavior,SignalBindingBehaviorRegistration:SignalBindingBehavior,ThrottleBindingBehaviorRegistration:ThrottleBindingBehavior,TwoWayBindingBehaviorRegistration:TwoWayBindingBehavior,KeyedBindingBehaviorRegistration:Je,RefBindingRendererRegistration:Ge,CallBindingRendererRegistration:Qe,CustomAttributeRendererRegistration:He,CustomElementRendererRegistration:ze,InterpolationBindingRendererRegistration:Ze,IteratorBindingRendererRegistration:Xe,LetElementRendererRegistration:We,PropertyBindingRendererRegistration:_e,SetPropertyRendererRegistration:qe,TemplateControllerRendererRegistration:Ke,DefaultResources,IObserverLocatorRegistration:ae,ILifecycleRegistration:ws,IRendererRegistration:Ne,RuntimeBasicConfiguration,buildTemplateDefinition,isTargetedInstruction(value){const type=value.type;return"string"==typeof type&&2===type.length},ITargetedInstruction,get TargetedInstructionType(){return TargetedInstructionType},DOM,INode,IRenderLocation,IDOM,NodeSequence,get BindingMode(){return BindingMode},get BindingStrategy(){return BindingStrategy},get ExpressionKind(){return ExpressionKind},get Hooks(){return Hooks},get LifecycleFlags(){return LifecycleFlags},get State(){return mi},CallBindingInstruction,FromViewBindingInstruction,HydrateAttributeInstruction,HydrateElementInstruction,HydrateTemplateController,InterpolationInstruction,IteratorBindingInstruction,LetBindingInstruction,LetElementInstruction,OneTimeBindingInstruction,RefBindingInstruction,SetPropertyInstruction,ToViewBindingInstruction,TwoWayBindingInstruction,AggregateLifecycleTask,CompositionCoordinator,ILifecycle,IRenderable,IViewFactory,LifecycleTask,PromiseTask:class{constructor(t,i){this.done=0,this.Ll=0,this.ws=i,this.Ss=t.then(value=>{if(1!=this.Ll)return this.done=1,this.ws(value),value})}Ol(){return!this.done}cancel(){this.Ol()&&(this.Ll=1)}Il(){return this.Ss}},get CollectionKind(){return CollectionKind},get DelegationStrategy(){return DelegationStrategy},get MutationKind(){return MutationKind},instructionRenderer,ensureExpression,addComponent,addBinding,CompiledTemplate,createRenderContext,IInstructionRenderer,IRenderer,IRenderingEngine,ITemplateCompiler,ITemplateFactory,get ViewCompileFlags(){return ViewCompileFlags}});const BindingCommandResource={name:"binding-command",tt(name){return`${this.name}:${name}`},Mn(t){return t.kind===this},Vn(t,i){const s=i,e=s,n="string"==typeof t?{name:t,target:null}:t;return e.kind=BindingCommandResource,e.description=n,s.register=Ut,s}};class OneTimeBindingCommand{constructor(){this.Va=49}compile(t){return new OneTimeBindingInstruction(t.Kn,getTarget(t,0))}}BindingCommandResource.Vn("one-time",OneTimeBindingCommand);class ToViewBindingCommand{constructor(){this.Va=50}compile(t){return new ToViewBindingInstruction(t.Kn,getTarget(t,0))}}BindingCommandResource.Vn("to-view",ToViewBindingCommand);class FromViewBindingCommand{constructor(){this.Va=51}compile(t){return new FromViewBindingInstruction(t.Kn,getTarget(t,0))}}BindingCommandResource.Vn("from-view",FromViewBindingCommand);class TwoWayBindingCommand{constructor(){this.Va=52}compile(t){return new TwoWayBindingInstruction(t.Kn,getTarget(t,0))}}BindingCommandResource.Vn("two-way",TwoWayBindingCommand);const Ye=["","$1","$2","","$4","","$6"],tn={bind:BindingMode.Jn,xa:BindingMode.oneTime,Fa:BindingMode.Jn,Ua:BindingMode.Yn,Na:BindingMode.gh};class DefaultBindingCommand{constructor(){this.Va=53,this.$1=OneTimeBindingCommand.prototype.compile,this.$2=ToViewBindingCommand.prototype.compile,this.$4=FromViewBindingCommand.prototype.compile,this.$6=TwoWayBindingCommand.prototype.compile}compile(t){return this[Ye[getMode(t)]](t)}}BindingCommandResource.Vn("bind",DefaultBindingCommand);class CallBindingCommand{constructor(){this.Va=153}compile(t){return new CallBindingInstruction(t.Kn,getTarget(t,1))}}BindingCommandResource.Vn("call",CallBindingCommand);class ForBindingCommand{constructor(){this.Va=539}compile(t){return new IteratorBindingInstruction(t.Kn,getTarget(t,0))}}BindingCommandResource.Vn("for",ForBindingCommand),(function(t){t[t.qa=0]="Reset",t[t.za=511]="Ancestor",t[t.Ha=512]="This",t[t.Scope=1024]="Scope",t[t.Ka=2048]="Member",t[t.Wa=4096]="Keyed"})(vi||(vi={})),(function(t){t[t.Qa=61]="Variadic",t[t.Assign=62]="Assign",t[t.Conditional=63]="Conditional",t[t.Ga=64]="LogicalOR",t[t.Za=128]="LogicalAND",t[t._a=192]="Equality",t[t.Xa=256]="Relational",t[t.Ja=320]="Additive",t[t.Ya=384]="Multiplicative",t[t.Binary=448]="Binary",t[t.tf=449]="LeftHandSide",t[t.if=450]="Primary",t[t.Unary=451]="Unary"})(yi||(yi={})),(function(t){t[t.sf=1572864]="EOF",t[t.ef=1048576]="ExpressionTerminal",t[t.nf=524288]="AccessScopeTerminal",t[t.rf=262144]="ClosingToken",t[t.hf=131072]="OpeningToken",t[t.lf=65536]="BinaryOp",t[t.cf=32768]="UnaryOp",t[t.tf=16384]="LeftHandSide",t[t.uf=12288]="StringOrNumericLiteral",t[t.af=8192]="NumericLiteral",t[t.ff=4096]="StringLiteral",t[t.df=3072]="IdentifierName",t[t.gf=2048]="Keyword",t[t.pf=1024]="Identifier",t[t.bf=512]="Contextual",t[t.mf=448]="Precedence",t[t.ie=63]="Type",t[t.wf=2048]="FalseKeyword",t[t.vf=2049]="TrueKeyword",t[t.yf=2050]="NullKeyword",t[t.Cf=2051]="UndefinedKeyword",t[t.Tf=3076]="ThisScope",t[t.Rf=3077]="ParentScope",t[t.Af=671750]="OpenParen",t[t.Bf=131079]="OpenBrace",t[t.Of=16392]="Dot",t[t.kf=1835017]="CloseBrace",t[t.Sf=1835018]="CloseParen",t[t.Pf=1572875]="Comma",t[t.Ef=671756]="OpenBracket",t[t.Lf=1835021]="CloseBracket",t[t.jf=1572878]="Colon",t[t.$f=1572879]="Question",t[t.Df=1572880]="Ampersand",t[t.Mf=1572883]="Bar",t[t.Vf=1638548]="BarBar",t[t.xf=1638613]="AmpersandAmpersand",t[t.Ff=1638678]="EqualsEquals",t[t.Uf=1638679]="ExclamationEquals",t[t.Nf=1638680]="EqualsEqualsEquals",t[t.qf=1638681]="ExclamationEqualsEquals",t[t.zf=1638746]="LessThan",t[t.Hf=1638747]="GreaterThan",t[t.Kf=1638748]="LessThanEquals",t[t.Wf=1638749]="GreaterThanEquals",t[t.Qf=1640798]="InKeyword",t[t.Gf=1640799]="InstanceOfKeyword",t[t.Zf=623008]="Plus",t[t._f=623009]="Minus",t[t.Xf=34850]="TypeofKeyword",t[t.Jf=34851]="VoidKeyword",t[t.Yf=1638884]="Asterisk",t[t.td=1638885]="Percent",t[t.sd=1638886]="Slash",t[t.ed=1048615]="Equals",t[t.nd=32808]="Exclamation",t[t.rd=540713]="TemplateTail",t[t.hd=540714]="TemplateContinuation",t[t.od=1051179]="OfKeyword"})(Ci||(Ci={})),(function(t){t[t.ld=0]="Null",t[t.ud=8]="Backspace",t[t.ad=9]="Tab",t[t.fd=10]="LineFeed",t[t.dd=11]="VerticalTab",t[t.gd=12]="FormFeed",t[t.pd=13]="CarriageReturn",t[t.bd=32]="Space",t[t.nd=33]="Exclamation",t[t.md=34]="DoubleQuote",t[t.wd=36]="Dollar",t[t.td=37]="Percent",t[t.Df=38]="Ampersand",t[t.vd=39]="SingleQuote",t[t.Af=40]="OpenParen",t[t.Sf=41]="CloseParen",t[t.Yf=42]="Asterisk",t[t.Zf=43]="Plus",t[t.Pf=44]="Comma",t[t._f=45]="Minus",t[t.Of=46]="Dot",t[t.sd=47]="Slash",t[t.yd=59]="Semicolon",t[t.Cd=96]="Backtick",t[t.Ef=91]="OpenBracket",t[t.Td=92]="Backslash",t[t.Lf=93]="CloseBracket",t[t.Rd=94]="Caret",t[t.Ad=95]="Underscore",t[t.Bf=123]="OpenBrace",t[t.Mf=124]="Bar",t[t.kf=125]="CloseBrace",t[t.jf=58]="Colon",t[t.zf=60]="LessThan",t[t.ed=61]="Equals",t[t.Hf=62]="GreaterThan",t[t.$f=63]="Question",t[t.Bd=48]="Zero",t[t.Od=49]="One",t[t.Id=50]="Two",t[t.kd=51]="Three",t[t.Sd=52]="Four",t[t.Pd=53]="Five",t[t.Ed=54]="Six",t[t.Ld=55]="Seven",t[t.jd=56]="Eight",t[t.$d=57]="Nine",t[t.Dd=65]="UpperA",t[t.Md=66]="UpperB",t[t.Vd=67]="UpperC",t[t.xd=68]="UpperD",t[t.Fd=69]="UpperE",t[t.Ud=70]="UpperF",t[t.Nd=71]="UpperG",t[t.qd=72]="UpperH",t[t.zd=73]="UpperI",t[t.Hd=74]="UpperJ",t[t.Kd=75]="UpperK",t[t.Wd=76]="UpperL",t[t.Qd=77]="UpperM",t[t.Gd=78]="UpperN",t[t.Zd=79]="UpperO",t[t._d=80]="UpperP",t[t.Xd=81]="UpperQ",t[t.Jd=82]="UpperR",t[t.Yd=83]="UpperS",t[t.tg=84]="UpperT",t[t.ig=85]="UpperU",t[t.sg=86]="UpperV",t[t.eg=87]="UpperW",t[t.ng=88]="UpperX",t[t.rg=89]="UpperY",t[t.hg=90]="UpperZ",t[t.og=97]="LowerA",t[t.lg=98]="LowerB",t[t.cg=99]="LowerC",t[t.ug=100]="LowerD",t[t.ag=101]="LowerE",t[t.fg=102]="LowerF",t[t.dg=103]="LowerG",t[t.gg=104]="LowerH",t[t.pg=105]="LowerI",t[t.bg=106]="LowerJ",t[t.mg=107]="LowerK",t[t.wg=108]="LowerL",t[t.vg=109]="LowerM",t[t.yg=110]="LowerN",t[t.Cg=111]="LowerO",t[t.Tg=112]="LowerP",t[t.Rg=113]="LowerQ",t[t.Ag=114]="LowerR",t[t.Bg=115]="LowerS",t[t.Og=116]="LowerT",t[t.Ig=117]="LowerU",t[t.kg=118]="LowerV",t[t.Sg=119]="LowerW",t[t.Pg=120]="LowerX",t[t.Eg=121]="LowerY",t[t.Lg=122]="LowerZ"})(Ti||(Ti={})),Profiler.pe("ExpressionParser");const sn=PrimitiveLiteral.Hr,en=PrimitiveLiteral.zr,nn=PrimitiveLiteral.qr,rn=PrimitiveLiteral.Nr,hn=AccessThis.or,on=AccessThis.lr,$state=new class{get qi(){return this.input.slice(this.zi,this.index)}constructor(t){this.index=0,this.zi=0,this.lastIndex=0,this.input=t,this.length=t.length,this.xi=1572864,this.Ui="",this.Vi=t.charCodeAt(0),this.Fi=1}}("");(function(t){t[t.jg=100]="InvalidExpressionStart",t[t.$g=101]="UnconsumedToken",t[t.Dg=102]="DoubleDot",t[t.Mg=103]="InvalidMemberExpression",t[t.Vg=104]="UnexpectedEndOfExpression",t[t.xg=105]="ExpectedIdentifier",t[t.Fg=106]="InvalidForDeclaration",t[t.Ug=107]="InvalidObjectLiteralPropertyDefinition",t[t.Ng=108]="UnterminatedQuote",t[t.qg=109]="UnterminatedTemplate",t[t.zg=110]="MissingExpectedToken",t[t.Hg=111]="UnexpectedCharacter",t[t.Kg=112]="MissingValueConverter",t[t.Wg=113]="MissingBindingBehavior"})(Ri||(Ri={})),(function(t){t[t.Qg=150]="NotAssignable",t[t.Gg=151]="UnexpectedForOf"})(Ai||(Ai={}));const ln=[sn,en,nn,rn,"$this","$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",540713,540714,"of"],cn=Object.create(null);cn.true=2049,cn.null=2050,cn.false=2048,cn.undefined=2051,cn.or=3076,cn.lr=3077,cn.Br=1640798,cn.Ar=1640799,cn.Vr=34850,cn.Mr=34851,cn.of=1051179;const un=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],an=[48,58],fn=t=>{throw Reporter.error(111,{state:t})};fn.Zg=1,Xt(null,new Set,[36,0,48,58,65,91,95,0,97,123],1);const dn=new Uint8Array(65535);Xt(dn,null,un,1),Xt(dn,null,an,1);const gn=Array(65535);gn.fill(fn,0,65535),Xt(gn,null,[0,33,127,161],t=>(Kt(t),null)),Xt(gn,null,un,function(t){for(;dn[Kt(t)];);const i=cn[t.Ui=t.qi];return void 0===i?1024:i}),Xt(gn,null,an,t=>Wt(t,0)),gn[34]=gn[39]=(t=>(function(t){const i=t.Vi;Kt(t);let s=0;const e=[];let n=t.index;for(;t.Vi!==i;)if(92===t.Vi)e.push(t.input.slice(n,t.index)),Kt(t),s=Nt(t.Vi),Kt(t),e.push(String.fromCharCode(s)),n=t.index;else{if(t.index>=t.length)throw Reporter.error(108,{state:t});Kt(t)}const r=t.input.slice(n,t.index);Kt(t),e.push(r);const h=e.join("");return t.Ui=h,4096})(t)),gn[96]=(t=>Qt(t)),gn[33]=(t=>61!==Kt(t)?32808:61!==Kt(t)?1638679:(Kt(t),1638681)),gn[61]=(t=>61!==Kt(t)?1048615:61!==Kt(t)?1638678:(Kt(t),1638680)),gn[38]=(t=>38!==Kt(t)?1572880:(Kt(t),1638613)),gn[124]=(t=>124!==Kt(t)?1572883:(Kt(t),1638548)),gn[46]=(t=>Kt(t)>57||48>t.Vi?16392:Wt(t,1)),gn[60]=(t=>61!==Kt(t)?1638746:(Kt(t),1638748)),gn[62]=(t=>61!==Kt(t)?1638747:(Kt(t),1638749)),gn[37]=Jt(1638885),gn[40]=Jt(671750),gn[41]=Jt(1835018),gn[42]=Jt(1638884),gn[43]=Jt(623008),gn[44]=Jt(1572875),gn[45]=Jt(623009),gn[47]=Jt(1638886),gn[58]=Jt(1572878),gn[63]=Jt(1572879),gn[91]=Jt(671756),gn[93]=Jt(1835021),gn[123]=Jt(131079),gn[125]=Jt(1835017);const IExpressionParserRegistration={register(t){t.he(IExpressionParser,t=>(t.Wl=parseExpression,t))}},pn=[IExpressionParserRegistration],AtPrefixedTriggerAttributePatternRegistration=AtPrefixedTriggerAttributePattern,ColonPrefixedBindAttributePatternRegistration=ColonPrefixedBindAttributePattern,RefAttributePatternRegistration=RefAttributePattern,DotSeparatedAttributePatternRegistration=DotSeparatedAttributePattern,DefaultBindingSyntax=[RefAttributePatternRegistration,DotSeparatedAttributePatternRegistration],ShortHandBindingSyntax=[AtPrefixedTriggerAttributePatternRegistration,ColonPrefixedBindAttributePatternRegistration],CallBindingCommandRegistration=CallBindingCommand,DefaultBindingCommandRegistration=DefaultBindingCommand,ForBindingCommandRegistration=ForBindingCommand,FromViewBindingCommandRegistration=FromViewBindingCommand,OneTimeBindingCommandRegistration=OneTimeBindingCommand,ToViewBindingCommandRegistration=ToViewBindingCommand,TwoWayBindingCommandRegistration=TwoWayBindingCommand,DefaultBindingLanguage=[DefaultBindingCommandRegistration,OneTimeBindingCommandRegistration,FromViewBindingCommandRegistration,ToViewBindingCommandRegistration,TwoWayBindingCommandRegistration,CallBindingCommandRegistration,ForBindingCommandRegistration],BasicConfiguration={register:t=>RuntimeBasicConfiguration.register(t).register(...pn,...DefaultBindingSyntax,...DefaultBindingLanguage),Ks(){return this.register(DI.Ks())}};class ResourceModel{constructor(t){this._g=t,this.Xg={},this.Jg={},this.Yg={}}tp(name){let t=this.Xg[name];if(void 0===t){const def=this._g.find(CustomElementResource,name);t=null===def?null:(function(def){const t=new ElementInfo(def.name,def.containerless),bindables=def.bindables,defaultBindingMode=BindingMode.Jn;let bindable,i,s,mode;for(i in bindables)void 0!==(bindable=bindables[i]).Lt&&(i=bindable.Lt),s=void 0!==bindable.lu?bindable.lu:PLATFORM.Ms(i),t.bindables[s]=new BindableInfo(i,mode=void 0!==bindable.mode&&bindable.mode!==BindingMode.default?bindable.mode:defaultBindingMode);return t})(def),this.Xg[name]=t}return t}ip(t){const name=PLATFORM.Di(t.target);let i=this.Jg[name];if(void 0===i){const def=this._g.find(CustomAttributeResource,name);i=null===def?null:(function(def){const t=new AttrInfo(def.name,def.isTemplateController),bindables=def.bindables,defaultBindingMode=void 0!==def.defaultBindingMode&&def.defaultBindingMode!==BindingMode.default?def.defaultBindingMode:BindingMode.Jn;let bindable,i,mode,s=0;for(i in bindables)++s,void 0!==(bindable=bindables[i]).Lt&&(i=bindable.Lt),t.bindables[i]=new BindableInfo(i,mode=void 0!==bindable.mode&&bindable.mode!==BindingMode.default?bindable.mode:defaultBindingMode),null===t.bindable&&(t.bindable=t.bindables[i]);return null===t.bindable&&(t.bindable=new BindableInfo("value",defaultBindingMode)),(def.Li||s>1)&&(t.Li=1),t})(def),this.Jg[name]=i}return i}sp(t){const name=t.command;if(null===name)return null;let i=this.Yg[name];if(void 0===i){if(null===(i=this._g.create(BindingCommandResource,name)))throw Reporter.error(0);this.Yg[name]=i}return i}}class BindableInfo{constructor(t,mode){this.$i=t,this.mode=mode}}class ElementInfo{constructor(name,containerless){this.name=name,this.containerless=containerless,this.bindables={}}}class AttrInfo{constructor(name,isTemplateController){this.name=name,this.bindables={},this.bindable=null,this.isTemplateController=isTemplateController,this.Li=0}}(function(SymbolFlags){SymbolFlags[SymbolFlags.type=511]="type",SymbolFlags[SymbolFlags.isTemplateController=1]="isTemplateController",SymbolFlags[SymbolFlags.ep=2]="isReplacePart",SymbolFlags[SymbolFlags.np=4]="isCustomAttribute",SymbolFlags[SymbolFlags.rp=8]="isPlainAttribute",SymbolFlags[SymbolFlags.hp=16]="isCustomElement",SymbolFlags[SymbolFlags.op=32]="isLetElement",SymbolFlags[SymbolFlags.lp=64]="isPlainElement",SymbolFlags[SymbolFlags.cp=128]="isText",SymbolFlags[SymbolFlags.wh=256]="isBinding",SymbolFlags[SymbolFlags.up=512]="hasMarker",SymbolFlags[SymbolFlags.ap=1024]="hasTemplate",SymbolFlags[SymbolFlags.hasAttributes=2048]="hasAttributes",SymbolFlags[SymbolFlags.fp=4096]="hasBindings",SymbolFlags[SymbolFlags.hasChildNodes=8192]="hasChildNodes",SymbolFlags[SymbolFlags.dp=16384]="hasParts"})(SymbolFlags||(SymbolFlags={}));class TemplateControllerSymbol{get gp(){return null===this.pp&&(this.pp=[],this.flags|=4096),this.pp}constructor(dom,t,i,s){this.flags=513,this.res=i.name,this.bp=s,this.mp=null,this.Mi=t,this.template=null,this.templateController=null,this.marker=Yt(dom),this.pp=null}}class ReplacePartSymbol{constructor(name){this.flags=2,this.name=name,this.mp=null,this.parent=null,this.template=null}}class CustomAttributeSymbol{get gp(){return null===this.pp&&(this.pp=[],this.flags|=4096),this.pp}constructor(t,i){this.flags=4,this.res=i.name,this.Mi=t,this.pp=null}}class PlainAttributeSymbol{constructor(t,i,s){this.flags=8,this.Mi=t,this.command=i,this.Kn=s}}class BindingSymbol{constructor(t,bindable,i,s,e){this.flags=256,this.command=t,this.bindable=bindable,this.Kn=i,this.hs=s,this.target=e}}class CustomElementSymbol{get attributes(){return null===this.wp&&(this.wp=[],this.flags|=2048),this.wp}get gp(){return null===this.pp&&(this.pp=[],this.flags|=4096),this.pp}get childNodes(){return null===this.vp&&(this.vp=[],this.flags|=8192),this.vp}get parts(){return null===this.yp&&(this.yp=[],this.flags|=16384),this.yp}constructor(dom,t,i){this.flags=16,this.res=i.name,this.mp=t,this.bindables=i.bindables,this.Cp=1,this.templateController=null,i.containerless?(this.Oh=1,this.marker=Yt(dom),this.flags|=512):(this.Oh=0,this.marker=null),this.wp=null,this.pp=null,this.vp=null,this.yp=null}}class LetElementSymbol{get gp(){return null===this.pp&&(this.pp=[],this.flags|=4096),this.pp}constructor(dom,t){this.flags=544,this.mp=t,this.toViewModel=0,this.marker=Yt(dom),this.pp=null}}class PlainElementSymbol{get attributes(){return null===this.wp&&(this.wp=[],this.flags|=2048),this.wp}get childNodes(){return null===this.vp&&(this.vp=[],this.flags|=8192),this.vp}constructor(t){this.flags=64,this.mp=t,this.Cp=0,this.templateController=null,this.wp=null,this.vp=null}}class TextSymbol{constructor(dom,t,i){this.flags=640,this.mp=t,this.bc=i,this.marker=Yt(dom)}}Bi=Object.freeze({AttrSyntax,IAttributeParser,AtPrefixedTriggerAttributePattern,attributePattern,ColonPrefixedBindAttributePattern,DotSeparatedAttributePattern,IAttributePattern,Interpretation,ISyntaxInterpreter,RefAttributePattern,bindingCommand:t=>i=>BindingCommandResource.Vn(t,i),BindingCommandResource,CallBindingCommand,DefaultBindingCommand,ForBindingCommand,FromViewBindingCommand,getMode,getTarget,OneTimeBindingCommand,ToViewBindingCommand,TwoWayBindingCommand,IExpressionParserRegistration,DefaultComponents:pn,RefAttributePatternRegistration,DotSeparatedAttributePatternRegistration,DefaultBindingSyntax,AtPrefixedTriggerAttributePatternRegistration,ColonPrefixedBindAttributePatternRegistration,ShortHandBindingSyntax,CallBindingCommandRegistration,DefaultBindingCommandRegistration,ForBindingCommandRegistration,FromViewBindingCommandRegistration,OneTimeBindingCommandRegistration,ToViewBindingCommandRegistration,TwoWayBindingCommandRegistration,DefaultBindingLanguage,BasicConfiguration,parseExpression,ResourceModel,BindableInfo,ElementInfo,AttrInfo,BindingSymbol,CustomAttributeSymbol,CustomElementSymbol,LetElementSymbol,PlainAttributeSymbol,PlainElementSymbol,ReplacePartSymbol,get SymbolFlags(){return SymbolFlags},TemplateControllerSymbol,TextSymbol});class Listener{constructor(dom,t,i,s,e,preventDefault,n,r){this.dom=dom,this.ai=null,this.mi=null,this.$state=0,this.Tp=i,this.Gn=r,this.preventDefault=preventDefault,this.Vl=s,this.target=e,this.Rp=t,this.Ap=n}ql(t){const i=this.$scope.On;i.Bp=t;const s=this.Vl.evaluate(1048576,this.$scope,this.Gn);return Reflect.deleteProperty(i,"$event"),1!=s&&this.preventDefault&&t.preventDefault(),s}Ji(t){this.ql(t)}ui(t,i){if(2&this.$state){if(this.$scope===i)return;this.ei(2048|t)}this.$state|=1,this.$scope=i;const s=this.Vl;hasBind(s)&&s.bind(t,i,this),this.Op=this.Ap.addEventListener(this.dom,this.target,this.Rp,this,this.Tp),this.$state|=2,this.$state&=-2}ei(t){if(!(2&this.$state))return;this.$state|=64;const i=this.Vl;hasUnbind(i)&&i.Zn(t,this.$scope,this),this.$scope=null,this.Op.Y(),this.Op=null,this.$state&=-67}ot(t,i,s){}B(t,i,s){}}let bn=class{constructor(t,i,s,e,n,r){this.lt=1,this._=67108879&t,this.rt=s,this.I=i,this.G=e,this.Ip=n,"class"===n?(this.kp=this.Sp,this.ut=this.Pp,this.X=this.Ep):"style"===n&&(this.kp=this.Lp,this.ut=this.jp,this.X=this.$p),this.Z=r}X(){return this.G.getAttribute(this.Z)}$p(){return this.G.style.getPropertyValue(this.Z)}Ep(){return this.G.classList.contains(this.Z)}ut(t,i){const s=this.G,e=this.Ip;null==t?s.removeAttribute(e):s.setAttribute(e,t)}jp(value){let t="";"string"==typeof value&&-1!==value.indexOf("!important")&&(t="important",value=value.replace("!important","")),this.G.style.setProperty(this.Z,value,t)}Pp(t){const i=this.Z,s=this.G.classList;t?s.add(i):s.remove(i)}Wi(t){let i=0;for(let s=0,e=t.length;e>s;++s){const e=t[s];if("attributes"===e.type&&e.attributeName===this.Ip){i=1;break}}i&&this.kp()}kp(){const t=this.G.getAttribute(this.Ip);t!==this.W&&(this.W=t,this.J(t,0))}Lp(){const t=this.G.style.getPropertyValue(this.Z);t!==this.W&&(this.W=t,this.J(t,0))}Sp(){const t=this.G.classList.contains(this.Z);t!==this.W&&(this.W=t,this.J(t,0))}subscribe(t){this.v()||mn(this.G,this),this.g(t)}unsubscribe(t){this.p(t)&&!this.v()&&wn(this.G,this)}};bn=g([targetObserver("")],bn);const mn=(t,i)=>{void 0===t.Dp&&(t.Dp=new Set),void 0===t.Mp&&(t.Mp=DOM.Cu(t,vn,{attributes:1})),t.Dp.add(i)},wn=(t,i)=>{const s=t.Dp;return s.delete(i)?(0===s.size&&(t.Mp.disconnect(),t.Mp=void 0),1):0},vn=t=>{t[0].target.Dp.forEach(ti,t)},{oneTime:yn,Jn:Cn,Yn:Tn}=BindingMode,Rn=Cn|yn;let AttributeBinding=class{constructor(t,i,s,e,mode,n,r){connectable.Dl(this),this.ai=null,this.mi=null,this.$state=0,this.$lifecycle=r.get(ILifecycle),this.Ml=null,this.Su=null,this.$scope=null,this.Gn=r,this.mode=mode,this.rt=n,this.Vl=t,this.target=i,this.Ip=s,this.xl=e,this._=0}Fl(value,t){this.targetObserver.J(value,16|(t|=this._))}Ul(value,t){this.Vl.assign(32|(t|=this._),this.$scope,this.Gn,value)}B(t,i,s){if(2&this.$state){if(s|=this._,this.mode===BindingMode.Yn&&(s&=-17,s|=32),16&s){const i=this.targetObserver.X();return(10082!==this.Vl.it||this.et>1)&&(t=this.Vl.evaluate(s,this.$scope,this.Gn)),t!==i&&this.Fl(t,s),void(0==(this.mode&yn)&&(this.version++,this.Vl.connect(s,this.$scope,this),this.unobserve(0)))}if(!(32&s))throw Reporter.error(15,s);t!==this.Vl.evaluate(s,this.$scope,this.Gn)&&this.Ul(t,s)}}ui(t,i){if(2&this.$state){if(this.$scope===i)return;this.ei(2048|t)}this.$state|=1,this._=67108879&t,this.$scope=i;let s=this.Vl;hasBind(s)&&s.bind(t,i,this);let targetObserver=this.targetObserver;targetObserver||(targetObserver=this.targetObserver=new bn(2048,this.$lifecycle,this.rt,this.target,this.Ip,this.xl)),targetObserver.bind&&targetObserver.bind(t),s=this.Vl,this.mode&Rn&&this.Fl(s.evaluate(t,i,this.Gn),t),this.mode&Cn&&s.connect(t,i,this),this.mode&Tn&&(targetObserver[this.id]|=32,targetObserver.subscribe(this)),this.$state|=2,this.$state&=-2}ei(t){2&this.$state&&(this.$state|=64,this._=0,hasUnbind(this.Vl)&&this.Vl.Zn(t,this.$scope,this),this.$scope=null,this.targetObserver.Zn&&this.targetObserver.Zn(t),this.targetObserver.unsubscribe&&(this.targetObserver.unsubscribe(this),this.targetObserver[this.id]&=-33),this.unobserve(1),this.$state&=-67)}connect(t){2&this.$state&&this.Vl.connect(1048576|(t|=this._),this.$scope,this)}mh(t){2&this.$state&&this.Fl(this.Vl.evaluate(1048576|(t|=this._),this.$scope,this.Gn),t)}};AttributeBinding=g([connectable()],AttributeBinding);let AttributeNSAccessor=class{constructor(t,i,s,e,n){this.lt=1,this.attributeName=e,this.I=t,this.G=i,this.oldValue=this.W=this.X(),this.Z=s,this.Vp=n}X(){return this.G.getAttributeNS(this.Vp,this.attributeName)}ut(t){this.G.setAttributeNS(this.Vp,this.attributeName,t)}};AttributeNSAccessor=g([targetObserver("")],AttributeNSAccessor);const An=(t,i)=>t===i;let CheckedObserver=class{constructor(t,i,s,e,n){this._=67108879&t,this.lt=1,this.Op=e,this.I=i,this.G=s,this.rt=n}X(){return this.W}ut(t,i){this.xp||(this.xp=this.G.N&&(this.G.N.Fp||this.G.N.value),this.xp&&this.xp.subscribe(this)),this.Up&&(this.Up.Tt(this),this.Up=null),"checkbox"===this.G.type&&Array.isArray(t)&&(this.Up=this.rt.Sc(this._|i,t),this.Up.Ct(this)),this.Np()}U(){this.Np(),this.Rs(448)}B(t,i,s){this.Np(),this.Rs(s)}Np(){const value=this.W,t=this.G,i=t.hasOwnProperty("model")?t.Fp:t.value,s=t.qp||An;t.checked="radio"===t.type?!!s(value,i):1==value?1:Array.isArray(value)?-1!==value.findIndex(t=>!!s(t,i)):0}Rs(t){2048&t||this.W!==this.oldValue&&this.T(this.W,this.oldValue,this._|t)}Ji(){let value=this.W;const t=this.G,i=t.hasOwnProperty("model")?t.Fp:t.value;let s;const e=t.qp||An;if("checkbox"===t.type){if(Array.isArray(value))return s=value.findIndex(t=>!!e(t,i)),void(t.checked&&-1===s?value.push(i):t.checked||-1===s||value.splice(s,1));value=t.checked}else{if(!t.checked)return;value=i}this.oldValue=this.W,this.W=value,this.Rs(327680)}subscribe(t){this.v()||this.Op.subscribe(this.G,this),this.g(t)}unsubscribe(t){this.p(t)&&!this.v()&&this.Op.Y()}Zn(){this.Up&&(this.Up.Tt(this),this.Up=null),this.xp&&this.xp.unsubscribe(this)}};CheckedObserver=g([targetObserver()],CheckedObserver);let ClassAttributeAccessor=class{constructor(t,i){this.lt=1,this.Kc=1,this.I=t,this.zp=null,this.G=i,this.version=0}X(){return this.W}ut(t){const i=this.zp||{};let s,name,e=this.version;if(t.length){const n=this.G;for(let r=0,h=(s=t.split(/\s+/)).length;h>r;r++)(name=s[r]).length&&(i[name]=e,n.classList.add(name))}if(this.zp=i,this.version+=1,0!==e)for(name in e-=1,i)i.hasOwnProperty(name)&&i[name]===e&&this.G.classList.remove(name)}};ClassAttributeAccessor=g([targetObserver("")],ClassAttributeAccessor);let DataAttributeAccessor=class{constructor(t,i,s){this.lt=1,this.I=t,this.G=i,this.oldValue=this.W=this.X(),this.Z=s}X(){return this.G.getAttribute(this.Z)}ut(t){null===t?this.G.removeAttribute(this.Z):this.G.setAttribute(this.Z,t)}};DataAttributeAccessor=g([targetObserver()],DataAttributeAccessor);let ElementPropertyAccessor=class{constructor(t,i,s){this.lt=1,this.I=t,this.G=i,this.Z=s}X(){return this.G[this.Z]}ut(value){this.G[this.Z]=value}};ElementPropertyAccessor=g([targetObserver("")],ElementPropertyAccessor);class ListenerTracker{constructor(dom,t,i,s){this.dom=dom,this.Hp=s,this.count=0,this.Kp=t,this.listener=i}Wp(){this.count++,1===this.count&&this.dom.addEventListener(this.Kp,this.listener,null,this.Hp)}Qp(){this.count--,0===this.count&&this.dom.removeEventListener(this.Kp,this.listener,null,this.Hp)}Y(){this.count>0&&(this.count=0,this.dom.removeEventListener(this.Kp,this.listener,null,this.Hp))}}class DelegateOrCaptureSubscription{constructor(t,i,s,e){this.Gp=t,this.Zp=i,this.Rp=s,i[s]=e}Y(){this.Gp.Qp(),this.Zp[this.Rp]=null}}class TriggerSubscription{constructor(dom,t,i,s){this.dom=dom,this.target=t,this.Rp=i,this.ws=s,dom.addEventListener(i,s,t)}Y(){this.dom.removeEventListener(this.Rp,this.ws,this.target)}}class EventSubscriber{constructor(dom,t){this.dom=dom,this._p=t,this.target=null,this.Op=null}subscribe(t,i){this.target=t,this.Op=i;const s=this.dom.addEventListener,e=this._p;for(let n=0,r=e.length;r>n;++n)s(e[n],i,t)}Y(){const t=this.target,i=this.Op,s=this._p,e=this.dom.removeEventListener;for(let n=0,r=s.length;r>n;++n)e(s[n],i,t);this.target=this.Op=null}}const IEventManager=DI.Gs("IEventManager").Xs(t=>t.singleton(Bn));class Bn{constructor(){this.Xp={},this.Jp={},this.Xp={},this.Jp={}}addEventListener(dom,t,i,s,strategy){let e,n,r;if(strategy===DelegationStrategy.an){(r=(e=this.Xp)[i]||(e[i]=new ListenerTracker(dom,i,ni,0))).Wp();const n=t.Yi||(t.Yi={});return new DelegateOrCaptureSubscription(r,n,i,s)}if(strategy===DelegationStrategy.un){(r=(n=this.Jp)[i]||(n[i]=new ListenerTracker(dom,i,ei,1))).Wp();const e=t.Xi||(t.Xi={});return new DelegateOrCaptureSubscription(r,e,i,s)}return new TriggerSubscription(dom,t,i,s)}Y(){let t;const{Xp:i,Jp:s}=this;for(t in i)i[t].Y();for(t in s)s[t].Y()}}const On={Yp:1,tb:1,ib:1};let SelectValueObserver=class{constructor(t,i,s,e,n,dom){this._=67108879&t,this.lt=1,this.I=i,this.G=s,this.Op=e,this.rt=n,this.dom=dom}X(){return this.W}ut(t,i){const s=Array.isArray(t);if(!s&&null!=t&&this.G.multiple)throw Error("Only null or Array instances can be bound to a multi-select.");this.Up&&(this.Up.Tt(this),this.Up=null),s&&(this.Up=this.rt.Sc(this._|i,t),this.Up.Ct(this)),this.sb(),this.Rs(i)}U(t){this.sb(t)}B(t,i,s){this.J(t,this._|s)}Rs(t){if(2048&t)return;const i=this.oldValue,s=this.W;s!==i&&this.T(s,i,this._|t)}Ji(){this.eb()&&this.Rs(327680)}sb(t){const i=this.W,s=Array.isArray(i),e=this.G,n=e.qp||ri,r=e.options;let h=r.length;for(;h--;){const t=r[h],e=t.hasOwnProperty("model")?t.Fp:t.value;t.selected=s?-1!==i.findIndex(t=>!!n(e,t)):!!n(e,i)}}eb(){const t=this.G,i=t.options,s=i.length,e=this.W;let n=0;if(t.multiple){if(!Array.isArray(e))return 1;let r;const h=t.qp||ri,o=[];for(;s>n;)(r=i[n]).selected&&o.push(r.hasOwnProperty("model")?r.Fp:r.value),++n;for(n=0;e.length>n;){const t=e[n];-1===o.findIndex(i=>!!h(t,i))?e.splice(n,1):++n}for(n=0;o.length>n;){const t=o[n];-1===e.findIndex(i=>!!h(t,i))&&e.push(t),++n}return 0}let value=null;for(;s>n;){const t=i[n];if(t.selected){value=t.hasOwnProperty("model")?t.Fp:t.value;break}++n}return this.oldValue=this.W,this.W=value,1}subscribe(t){this.v()||this.Op.subscribe(this.G,this),this.g(t)}unsubscribe(t){this.p(t)&&!this.v()&&this.Op.Y()}bind(){this.nb=this.dom.Cu(this.G,this.rb.bind(this),On)}Zn(){this.nb.disconnect(),this.nb=null,this.Up&&(this.Up.Tt(this),this.Up=null)}rb(){this.sb(),this.eb()&&this.Rs(65536)}};SelectValueObserver=g([targetObserver()],SelectValueObserver);let StyleAttributeAccessor=class{constructor(t,i){this.lt=1,this.oldValue=this.W=i.style.cssText,this.I=t,this.G=i,this.hb=null,this.version=0}X(){return this.G.style.cssText}ob(t,value){let i="";null!=value&&"function"==typeof value.indexOf&&-1!==value.indexOf("!important")&&(i="important",value=value.replace("!important","")),this.G.style.setProperty(t,value,i)}ut(t){const i=this.hb||{};let s,e=this.version;if(null!==t)if(t instanceof Object){let value;for(s in t)t.hasOwnProperty(s)&&(value=t[s],i[s=s.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)]=e,this.ob(s,value))}else if(t.length){const n=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:[^"](?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g;let r;for(;null!==(r=n.exec(t));)(s=r[1])&&(i[s]=e,this.ob(s,r[2]))}if(this.hb=i,this.version+=1,0!==e)for(s in e-=1,i)i.hasOwnProperty(s)&&i[s]===e&&this.G.style.removeProperty(s)}};StyleAttributeAccessor=g([targetObserver()],StyleAttributeAccessor);const ISVGAnalyzer=DI.Gs("ISVGAnalyzer").Xs(t=>t.singleton(class{ts(t,i){return 0}})),In={button:"",lb:"on",color:"#000000",cb:"",ub:"",email:"",ab:"",hidden:"",fb:"",gb:"",number:"",password:"",pb:"on",range:"50",reset:"",search:"",submit:"",tel:"",text:"",time:"",url:"",bb:""};let ValueAttributeObserver=class{constructor(t,i,s,e){if(this.lt=1,this.Op=e,this.I=t,this.G=i,this.Z=s,"value"===s){const t=i.type;this.defaultValue=In[t||"text"],"file"===t&&(this.flush=this.mb)}else this.defaultValue="";this.oldValue=this.W=i[s]}X(){return this.G[this.Z]}ut(t,i){this.G[this.Z]=t,2048&i||this.T(this.W,this.oldValue,i)}Ji(){const t=this.oldValue=this.W,i=this.W=this.X();t!==i&&(this.T(i,t,327680),this.oldValue=i)}subscribe(t){this.v()||(this.oldValue=this.X(),this.Op.subscribe(this.G,this)),this.g(t)}unsubscribe(t){this.p(t)&&!this.v()&&this.Op.Y()}mb(){const t=this.W;this.oldValue!==t&&""===t&&(this.ut(t,this.ct),this.oldValue=this.W)}};ValueAttributeObserver=g([targetObserver("")],ValueAttributeObserver);const kn="http://www.w3.org/1999/xlink",Sn="http://www.w3.org/XML/1998/namespace",Pn="http://www.w3.org/2000/xmlns/",En=((Ei=Object.create(null))["wb"]=["actuate",kn],Ei["vb"]=["arcrole",kn],Ei["yb"]=["href",kn],Ei["Cb"]=["role",kn],Ei["Tb"]=["show",kn],Ei["Rb"]=["title",kn],Ei["Ab"]=["type",kn],Ei["Bb"]=["lang",Sn],Ei["Ob"]=["space",Sn],Ei.Ib=["xmlns",Pn],Ei["kb"]=["xlink",Pn],Ei),Ln=["change","input"],jn=["change"],$n=["change","input","blur","keyup","paste"],Dn=["scroll"],Mn=(function(t){return t.Sb=1,t.style=1,t.Pb=1,t.checked=1,t.value=1,t.Fp=1,t["wb"]=1,t["vb"]=1,t["yb"]=1,t["Cb"]=1,t["Tb"]=1,t["Rb"]=1,t["Ab"]=1,t["Bb"]=1,t["Ob"]=1,t.Ib=1,t["kb"]=1,t})(Object.create(null));class TargetObserverLocator{constructor(dom,t){this.dom=dom,this.Eb=t}static register(t){return Registration.singleton(ITargetObserverLocator,this).register(t)}nt(t,i,s,e,n){switch(n){case"checked":return new CheckedObserver(t,i,e,new EventSubscriber(this.dom,Ln),s);case"value":return"SELECT"===e.tagName?new SelectValueObserver(t,i,e,new EventSubscriber(this.dom,jn),s,this.dom):new ValueAttributeObserver(i,e,n,new EventSubscriber(this.dom,Ln));case"files":return new ValueAttributeObserver(i,e,n,new EventSubscriber(this.dom,Ln));case"textContent":case"innerHTML":return new ValueAttributeObserver(i,e,n,new EventSubscriber(this.dom,$n));case"scrollTop":case"scrollLeft":return new ValueAttributeObserver(i,e,n,new EventSubscriber(this.dom,Dn));case"class":return new ClassAttributeAccessor(i,e);case"style":case"css":return new StyleAttributeAccessor(i,e);case"model":return new SetterObserver(t,e,n);case"role":return new DataAttributeAccessor(i,e,n);default:if(void 0!==En[n]){const t=En[n];return new AttributeNSAccessor(i,e,n,t[0],t[1])}if(hi(e,n,this.Eb))return new DataAttributeAccessor(i,e,n)}return null}iu(t,i,s){return 1==Mn[s]}tu(t,i){return this.dom.es(i)}}TargetObserverLocator.inject=[IDOM,ISVGAnalyzer];class TargetAccessorLocator{constructor(dom,t){this.dom=dom,this.Eb=t}static register(t){return Registration.singleton(ITargetAccessorLocator,this).register(t)}Nl(t,i,s,e){switch(e){case"textContent":return new ElementPropertyAccessor(i,s,e);case"class":return new ClassAttributeAccessor(i,s);case"style":case"css":return new StyleAttributeAccessor(i,s);case"src":case"href":case"role":return new DataAttributeAccessor(i,s,e);default:if(void 0!==En[e]){const t=En[e];return new AttributeNSAccessor(i,s,e,t[0],t[1])}return hi(s,e,this.Eb)?new DataAttributeAccessor(i,s,e):new ElementPropertyAccessor(i,s,e)}}tu(t,i){return this.dom.es(i)}}TargetAccessorLocator.inject=[IDOM,ISVGAnalyzer];const Vn={};class AttrBindingBehavior{bind(t,i,s){s.targetObserver=new DataAttributeAccessor(s.Gn.get(ILifecycle),s.target,s.xl)}Zn(t,i,s){}}BindingBehaviorResource.Vn("attr",AttrBindingBehavior);class SelfBindingBehavior{bind(t,i,s){if(!s.ql||!s.Rp)throw Reporter.error(8);s.ss=s.ql,s.ql=oi}Zn(t,i,s){s.ql=s.ss,s.ss=null}}BindingBehaviorResource.Vn("self",SelfBindingBehavior);class UpdateTriggerBindingBehavior{constructor(t){this.rt=t}bind(t,i,s,...e){if(0===e.length)throw Reporter.error(9);if(s.mode!==BindingMode.gh&&s.mode!==BindingMode.Yn)throw Reporter.error(10);this._=67108879&t;const targetObserver=this.rt.nt(this._|t,s.target,s.xl);if(!targetObserver.Op)throw Reporter.error(10);s.targetObserver=targetObserver,targetObserver.Lb=s.targetObserver.Op,targetObserver.Op=new EventSubscriber(s.Gn.get(IDOM),e)}Zn(t,i,s){s.targetObserver.Op.Y(),s.targetObserver.Op=s.targetObserver.Lb,s.targetObserver.Lb=null}}UpdateTriggerBindingBehavior.inject=[IObserverLocator],BindingBehaviorResource.Vn("updateTrigger",UpdateTriggerBindingBehavior),(function(HTMLTargetedInstructionType){HTMLTargetedInstructionType.jb="ha",HTMLTargetedInstructionType.$b="hb",HTMLTargetedInstructionType.Db="hc",HTMLTargetedInstructionType.Mb="hd",HTMLTargetedInstructionType.setAttribute="he"})(HTMLTargetedInstructionType||(HTMLTargetedInstructionType={}));class TextBindingInstruction{constructor(from){this.type="ha",this.from=from}}class TriggerBindingInstruction{constructor(from,to){this.type="hb",this.from=from,this.preventDefault=1,this.strategy=DelegationStrategy.cn,this.to=to}}class DelegateBindingInstruction{constructor(from,to){this.type="hb",this.from=from,this.preventDefault=0,this.strategy=DelegationStrategy.an,this.to=to}}class CaptureBindingInstruction{constructor(from,to){this.type="hb",this.from=from,this.preventDefault=0,this.strategy=DelegationStrategy.un,this.to=to}}class SetAttributeInstruction{constructor(value,to){this.type="he",this.to=to,this.value=value}}class AttributeBindingInstruction{constructor(t,from,to){this.type="hc",this.from=from,this.Vb=t,this.to=to}}class RenderPlan{constructor(dom,t,instructions,dependencies){this.dom=dom,this.dependencies=dependencies,this.instructions=instructions,this.xb=t}get Fu(){return this.Fb||(this.Fb=buildTemplateDefinition(null,null,this.xb,null,"string"==typeof this.xb,null,this.instructions,this.dependencies))}Pi(t,i){return t.Pi(this.dom,this.Fu,null,i)}Ub(t,i,s){return this._u(i,s).create()}_u(t,i){return t._u(this.dom,this.Fu,i)}ns(t,instructions,dependencies){this.dom.appendChild(t,this.xb),instructions.push(...this.instructions),dependencies.push(...this.dependencies)}}const xn=["subject","composing"];class Compose{constructor(dom,t,i,s,e){this.dom=dom,this.subject=null,this.Nb=0,this.El=e,this.qb=null,this.ba=t,this.$a=s,this.El.vl=(()=>{this.Nb=0}),this.properties=i.instructions.filter(t=>!xn.includes(t.to)).reduce((t,i)=>(i.to&&(t[i.to]=i),t),{})}hi(t){this.zb(this.subject,null,t),this.El.hi(t,this.$scope)}Dt(t){this.El.Dt(t)}zt(t){this.El.zt(t)}gi(t){this.qb=null,this.El.gi(t)}_t(t){this.El._t(t)}Hb(t,i,s){this.zb(t,i,s)}zb(t,i,s){this.qb!==t&&(this.qb=t,t=t instanceof Promise?t.then(t=>this.Kb(t,s)):this.Kb(t,s),this.Nb=1,this.El.Tl(t,s))}Kb(t,i){const s=this.Wb(t,i);return s?(s.Pu(this.Yt.host),s.Lu(this.ba.$scope),s):null}Wb(t,i){return t?"lockScope"in t?t:"createView"in t?t.Ub(i,this.$a,this.ba.$context):"create"in t?t.create():"template"in t?this.$a._u(this.dom,t,this.ba.$context).create():createElement(this.dom,t,this.properties,this.Yt.children).Ub(i,this.$a,this.ba.$context):null}}Compose.inject=[IDOM,IRenderable,ITargetedInstruction,IRenderingEngine,CompositionCoordinator],g([bindable],Compose.prototype,"subject",void 0),g([bindable],Compose.prototype,"composing",void 0),CustomElementResource.Vn({name:"au-compose",containerless:1},Compose),(function(NodeType){NodeType[NodeType.Element=1]="Element",NodeType[NodeType.Attr=2]="Attr",NodeType[NodeType.Text=3]="Text",NodeType[NodeType.CDATASection=4]="CDATASection",NodeType[NodeType.EntityReference=5]="EntityReference",NodeType[NodeType.Entity=6]="Entity",NodeType[NodeType.ProcessingInstruction=7]="ProcessingInstruction",NodeType[NodeType.Comment=8]="Comment",NodeType[NodeType.Document=9]="Document",NodeType[NodeType.DocumentType=10]="DocumentType",NodeType[NodeType.DocumentFragment=11]="DocumentFragment",NodeType[NodeType.Notation=12]="Notation"})(NodeType||(NodeType={}));class HTMLDOM{constructor(t,i,s,e,n,r){this.window=t,this.document=i,this.Node=s,this.Element=e,this.HTMLElement=n,this.CustomEvent=r,DOM.Bu&&(Reporter.write(1001),DOM.Ou()),DOM.initialize(this)}static register(t){return Registration.Ei(IDOM,this).register(t)}addEventListener(t,i,s,e){(s||this.document).addEventListener(t,i,e)}appendChild(t,i){t.appendChild(i)}cloneNode(t,i){return t.cloneNode(0!=i)}vu(t){if(this.Au(t))return t;if(null===t.parentNode)throw Reporter.error(52);const i=this.document.createComment("au-end"),s=this.document.createComment("au-start");return t.parentNode.replaceChild(i,t),i.parentNode.insertBefore(s,i),i.Qb=s,s.$nodes=null,i}createDocumentFragment(t){if(null==t)return this.document.createDocumentFragment();if(this.es(t)){if(void 0!==t.content)return t.content;const i=this.document.createDocumentFragment();return i.appendChild(t),i}return this.Tu(t).content}createElement(name){return this.document.createElement(name)}fetch(t,i){return this.window.fetch(t,i)}yu(t,i){return new this.CustomEvent(t,i)}dispatchEvent(t){this.document.dispatchEvent(t)}Cu(t,i,s){if("undefined"==typeof MutationObserver)return{disconnect(){},observe(){},takeRecords:()=>PLATFORM.$s};const e=new MutationObserver(i);return e.observe(t,s),e}Tu(t){if(null==t)return this.document.createElement("template");const template=this.document.createElement("template");return template.innerHTML=""+t,template}createTextNode(t){return this.document.createTextNode(t)}insertBefore(t,i){i.parentNode.insertBefore(t,i)}Ru(t){return"AU-M"===t.nodeName}es(t){return null!=t&&t.nodeType>0}Au(t){return"au-end"===t.textContent}Ki(t){t.className="au"}vi(t,i){t.yi(INode,i),t.yi(this.Node,i),t.yi(this.Element,i),t.yi(this.HTMLElement,i)}remove(t){t.remove?t.remove():t.parentNode.removeChild(t)}removeEventListener(t,i,s,e){(s||this.document).removeEventListener(t,i,e)}setAttribute(t,name,value){t.setAttribute(name,value)}}const Fn=DOM;class Un{constructor(dom,t){this.dom=dom,this.firstChild=t,this.lastChild=t,this.childNodes=[t],this.targets=[new zn(t)]}Iu(){return this.targets}insertBefore(t){t.parentNode.insertBefore(this.firstChild,t)}ku(t){t.appendChild(this.firstChild)}remove(){this.firstChild.remove()}}class Nn{constructor(dom,t){this.dom=dom,this.Gb=t;const i=t.querySelectorAll(".au");let s=0,e=i.length;const targets=this.targets=Array(e);for(;e>s;){const t=i[s];targets[s]="AU-M"===t.nodeName?this.dom.vu(t):t,++s}const n=t.childNodes;s=0;const childNodes=this.childNodes=Array(e=n.length);for(;e>s;)childNodes[s]=n[s],++s;this.firstChild=t.firstChild,this.lastChild=t.lastChild,this.start=this.end=null}Iu(){return this.targets}insertBefore(t){if(t.parentNode.insertBefore(this.Gb,t),"au-end"===t.textContent){this.end=t;const i=this.start=t.Qb;i.$nodes=null===i.$nodes?this:PLATFORM.jt}}ku(t){t.appendChild(this.Gb),this.start=this.end=null}remove(){const t=this.Gb;if(null!==this.start&&this.start.$nodes===this){const i=this.end;let s,e=this.start.nextSibling;for(;e!==i;)s=e.nextSibling,t.appendChild(e),e=s;this.start.$nodes=null,this.start=this.end=null}else{let i=this.firstChild;if(i.parentNode!==t){const s=this.lastChild;let e;for(;null!==i&&(e=i.nextSibling,t.appendChild(i),i!==s);)i=e}}}}class qn{constructor(dom,t){this.dom=dom;const i=dom.createDocumentFragment(t),childNodes=i.childNodes;switch(childNodes.length){case 0:return void(this.qu=(()=>NodeSequence.empty));case 2:const t=childNodes[0];if("AU-M"===t.nodeName||"#comment"===t.nodeName){const t=childNodes[1];if(3===t.nodeType&&0===t.textContent.length)return this.Zb=0,this.xb=t,void(this.ie=Un)}default:this.Zb=1,this.xb=i,this.ie=Nn}}qu(){return new this.ie(this.dom,this.xb.cloneNode(this.Zb))}}class zn{get parentNode(){return this.nextSibling.parentNode}constructor(t){this.nextSibling=t,this.textContent=""}remove(){}}(t=>{t.previousSibling=null,t.childNodes=PLATFORM.$s,t.nodeName="AU-M",t.nodeType=1})(zn.prototype);class Hn{constructor(dom){this.dom=dom}static register(t){return Registration.singleton(ITemplateFactory,this).register(t)}create(t,i){return new CompiledTemplate(this.dom,i,new qn(this.dom,i.template),t)}}Hn.inject=[IDOM];let Kn=class{constructor(t,i){this.Da=t,this.rt=i}Ci(t,dom,i,s,e,n){const r=e.nextSibling;let h;dom.Ru(e)&&dom.remove(e);const o=ensureExpression(this.Da,n.from,2048);addBinding(s,h=o.nh?new MultiInterpolationBinding(this.rt,o,r,"textContent",BindingMode.Jn,i):new InterpolationBinding(o.rh,o,r,"textContent",BindingMode.Jn,this.rt,i,1))}};Kn.inject=[IExpressionParser,IObserverLocator],Kn=g([instructionRenderer("ha")],Kn);let Wn=class{constructor(t,i){this.Da=t,this.Ap=i}Ci(t,dom,i,s,e,n){const r=ensureExpression(this.Da,n.from,80|n.strategy+6);addBinding(s,new Listener(dom,n.to,n.strategy,r,e,n.preventDefault,this.Ap,i))}};Wn.inject=[IExpressionParser,IEventManager],Wn=g([instructionRenderer("hb")],Wn);let Qn=class{Ci(t,dom,i,s,e,n){e.setAttribute(n.to,n.value)}};Qn=g([instructionRenderer("he")],Qn);let Gn=class{constructor(t,i){this.Da=t,this.rt=i}Ci(t,dom,i,s,e,n){const r=ensureExpression(this.Da,n.from,48|BindingMode.Jn);addBinding(s,new Binding(r,e.style,n.to,BindingMode.Jn,this.rt,i))}};Gn.inject=[IExpressionParser,IObserverLocator],Gn=g([instructionRenderer("hd")],Gn);let Zn=class{constructor(t,i){this.Da=t,this.rt=i}Ci(t,dom,i,s,e,n){const r=ensureExpression(this.Da,n.from,48|BindingMode.Jn);addBinding(s,new AttributeBinding(r,e,n.Vb,n.to,BindingMode.Jn,this.rt,i))}};Zn.inject=[IExpressionParser,IObserverLocator],Zn=g([instructionRenderer("hc")],Zn);const _n={mode:"open"},Xn={Yp:1};class Jn{constructor(dom,$customElement,host,t){let shadowOptions;this.dom=dom,this.host=host,this.shadowRoot=host._b(shadowOptions=null!=t.shadowOptions&&"object"==typeof t.shadowOptions&&"mode"in t.shadowOptions?t.shadowOptions:_n),this.host.$customElement=$customElement,this.shadowRoot.$customElement=$customElement}get children(){return this.shadowRoot.childNodes}Yu(t){this.dom.Cu(this.shadowRoot,t,Xn)}Xb(){return this.shadowRoot}Jt(t){t.ku(this.shadowRoot)}ti(t){t.remove()}}class Yn{constructor(dom,$customElement,host){this.childNodes=host.childNodes.length?PLATFORM.toArray(host.childNodes):PLATFORM.$s,this.host=dom.vu(host),this.host.$customElement=$customElement}get children(){return this.childNodes}Yu(t){new MutationObserver(t).observe(this.host,Xn)}Xb(){return this.host.Jb()}Jt(t){t.insertBefore(this.host)}ti(t){t.remove()}}class tr{constructor($customElement,host){this.host=host,this.host.$customElement=$customElement}get children(){return this.host.childNodes}Yu(t){}Xb(){return this.host.Jb()}Jt(t){t.ku(this.host)}ti(t){t.remove()}}const IProjectorLocatorRegistration=class{static register(t){return Registration.singleton(IProjectorLocator,this).register(t)}Si(dom,t,host,def){if(def.shadowOptions||def.hasSlots){if(def.containerless)throw Reporter.error(21);return new Jn(dom,t,host,def)}return def.containerless?new Yn(dom,t,host):new tr(t,host)}},ir=[IProjectorLocatorRegistration,TargetAccessorLocator,TargetObserverLocator,Hn],sr=[AttrBindingBehavior,SelfBindingBehavior,UpdateTriggerBindingBehavior,Compose],er=[Wn,Zn,Qn,Gn,Kn],nr={register:t=>RuntimeBasicConfiguration.register(t).register(...ir,...sr,...er),Ks(){return this.register(DI.Ks())}};Oi=Object.freeze({Listener,get AttributeBinding(){return AttributeBinding},get AttributeNSAccessor(){return AttributeNSAccessor},get CheckedObserver(){return CheckedObserver},get ClassAttributeAccessor(){return ClassAttributeAccessor},get DataAttributeAccessor(){return DataAttributeAccessor},get ElementPropertyAccessor(){return ElementPropertyAccessor},ListenerTracker,DelegateOrCaptureSubscription,TriggerSubscription,IEventManager,EventSubscriber,TargetAccessorLocator,TargetObserverLocator,get SelectValueObserver(){return SelectValueObserver},get StyleAttributeAccessor(){return StyleAttributeAccessor},ISVGAnalyzer,get ValueAttributeObserver(){return ValueAttributeObserver},AttrBindingBehavior,SelfBindingBehavior,UpdateTriggerBindingBehavior,Compose,IProjectorLocatorRegistration,ITargetAccessorLocatorRegistration:TargetAccessorLocator,ITargetObserverLocatorRegistration:TargetObserverLocator,ITemplateFactoryRegistration:Hn,DefaultComponents:ir,AttrBindingBehaviorRegistration:AttrBindingBehavior,SelfBindingBehaviorRegistration:SelfBindingBehavior,UpdateTriggerBindingBehaviorRegistration:UpdateTriggerBindingBehavior,ComposeRegistration:Compose,DefaultResources:sr,AttributeBindingRendererRegistration:Zn,ListenerBindingRendererRegistration:Wn,SetAttributeRendererRegistration:Qn,StylePropertyBindingRendererRegistration:Gn,TextBindingRendererRegistration:Kn,DefaultRenderers:er,BasicConfiguration:nr,createElement,RenderPlan,get HTMLTargetedInstructionType(){return HTMLTargetedInstructionType},isHTMLTargetedInstruction,get NodeType(){return NodeType},HTMLDOM,DOM:Fn,AttributeBindingInstruction,CaptureBindingInstruction,DelegateBindingInstruction,SetAttributeInstruction,StylePropertyBindingInstruction:class{constructor(from,to){this.type="hd",this.from=from,this.to=to}},TextBindingInstruction,TriggerBindingInstruction});class TriggerBindingCommand{constructor(){this.Va=86}compile(t){return new TriggerBindingInstruction(t.Kn,getTarget(t,0))}}BindingCommandResource.Vn("trigger",TriggerBindingCommand);class DelegateBindingCommand{constructor(){this.Va=88}compile(t){return new DelegateBindingInstruction(t.Kn,getTarget(t,0))}}BindingCommandResource.Vn("delegate",DelegateBindingCommand);class CaptureBindingCommand{constructor(){this.Va=87}compile(t){return new CaptureBindingInstruction(t.Kn,getTarget(t,0))}}BindingCommandResource.Vn("capture",CaptureBindingCommand);class AttrBindingCommand{constructor(){this.Va=32}compile(t){const i=getTarget(t,0);return new AttributeBindingInstruction(i,t.Kn,i)}}BindingCommandResource.Vn("attr",AttrBindingCommand);class StyleBindingCommand{constructor(){this.Va=32}compile(t){return new AttributeBindingInstruction("style",t.Kn,getTarget(t,0))}}BindingCommandResource.Vn("style",StyleBindingCommand);class ClassBindingCommand{constructor(){this.Va=32}compile(t){return new AttributeBindingInstruction("class",t.Kn,getTarget(t,0))}}BindingCommandResource.Vn("class",ClassBindingCommand);class rr{Yb(t,i,parts){return new AttrSyntax(t,i,parts[1],"attr")}tm(t,i,parts){return new AttrSyntax(t,i,parts[0],"attr")}}attributePattern({pattern:"attr.PART",symbols:"."},{pattern:"PART.attr",symbols:"."})(rr);class hr{im(t,i,parts){return new AttrSyntax(t,i,parts[1],"style")}sm(t,i,parts){return new AttrSyntax(t,i,parts[0],"style")}}attributePattern({pattern:"style.PART",symbols:"."},{pattern:"PART.style",symbols:"."})(hr);class or{em(t,i,parts){return new AttrSyntax(t,i,parts[1],"class")}nm(t,i,parts){return new AttrSyntax(t,i,parts[0],"class")}}attributePattern({pattern:"class.PART",symbols:"."},{pattern:"PART.class",symbols:"."})(or),Profiler.pe("TemplateBinder");const lr={id:1,rm:1,hm:1},cr={om:1,rm:1,hm:1};class TemplateBinder{constructor(dom,t,i,s){this.dom=dom,this._g=t,this.lm=i,this.cm=s,this.Vu=null,this.manifest=null,this.um=null,this.am=null,this.bp=null}bind(t){const i=this.Vu,s=this.am,e=this.um,n=this.manifest,r=this.Vu=this.manifest=new PlainElementSymbol(t),h=t.attributes;let o=0;for(;h.length>o;){const t=h[o],i=this.lm.parse(t.name,t.value);if(1==lr[i.target])throw Error(`Invalid surrogate attribute: ${i.target}`);const s=this._g.ip(i);if(null===s)this.fm(i,t);else{if(s.isTemplateController)throw Error("Cannot have template controller on surrogate element.");this.dm(i,s)}++o}return this.gm(t),this.Vu=i,this.am=s,this.um=e,this.manifest=n,r}pm(t,i){switch(i.nodeName){case"LET":return void this.bm(t,i);case"SLOT":return void(this.Vu.hasSlots=1)}const s=this.am,e=this.um,n=this.manifest;let r;this.bp=i.getAttribute("part");let name=i.getAttribute("as-element");null===name&&(name=i.nodeName.toLowerCase());const h=this._g.tp(name);null===h?this.manifest=new PlainElementSymbol(i):(this.am=this.um,r=this.um=this.manifest=new CustomElementSymbol(this.dom,i,h)),this.gm(i),this.mm(i,t),void 0!==r&&r.Oh?i.parentNode.replaceChild(r.marker,i):this.manifest.Cp&&i.classList.add("au"),this.am=s,this.um=e,this.manifest=n}bm(t,i){const s=new LetElementSymbol(this.dom,i);t.childNodes.push(s);const e=i.attributes;let n=0;for(;e.length>n;){const t=e[n];if("to-view-model"===t.name){i.removeAttribute("to-view-model"),s.toViewModel=1;continue}const r=this.lm.parse(t.name,t.value),h=this._g.sp(r),o=this.cm.parse(r.hs,null===h?2048:h.Va),to=PLATFORM.Di(r.target),l=new BindableInfo(to,BindingMode.Jn);s.gp.push(new BindingSymbol(h,l,o,r.hs,to)),++n}i.parentNode.replaceChild(s.marker,i)}mm(t,i){const{am:s,um:e,manifest:n}=this;let r=n;const h=this.wm(t);let o,l;const c=t.attributes;let u=0;for(;c.length>u;){const t=c[u];if(++u,1==cr[t.name])continue;const i=this.lm.parse(t.name,t.value),s=this._g.ip(i);null===s?this.fm(i,t):s.isTemplateController?(l=n.templateController=this.vm(i,s),r===n?(l.template=n,r=l):(l.templateController=o,l.template=o.template,o.template=l),o=l):this.dm(i,s)}(function(dom,t,i){const s=i.mp;let e,n=t;for(;n!==i;)n.template===i?(s.parentNode.replaceChild(n.marker,s),"TEMPLATE"===s.nodeName?(n.mp=s,s.remove()):(e=n.mp=dom.Tu()).content.appendChild(s)):(e=n.mp=dom.Tu()).content.appendChild(n.marker),s.removeAttribute(n.Mi.rs),n=n.template})(this.dom,r,n),null===h?i.childNodes.push(r):(h.parent=i,h.template=r,(n===e?s:e).parts.push(h),(function(dom,t,i){let s,e;"TEMPLATE"===(s=512&i.flags?i.marker:i.mp).nodeName?t.mp=s:(e=t.mp=dom.Tu()).content.appendChild(s)})(this.dom,h,r))}gm(t){let i,s;for(i="TEMPLATE"===t.nodeName?t.content.firstChild:t.firstChild;null!==i;)switch(i.nodeType){case 1:s=i.nextSibling,this.pm(this.manifest,i),i=s;break;case 3:i=this.ym(i).nextSibling;break;case 4:case 7:case 8:case 10:i=i.nextSibling;break;case 9:case 11:i=i.firstChild}}ym(t){const i=this.cm.parse(t.wholeText,2048);if(null!==i){const s=new TextSymbol(this.dom,t,i);this.manifest.childNodes.push(s),(function(t){const i=t.mp,s=i.parentNode;for(;null!==i.nextSibling&&3===i.nextSibling.nodeType;)s.removeChild(i.nextSibling);i.textContent="",s.insertBefore(t.marker,i)})(s)}for(;null!==t.nextSibling&&3===t.nextSibling.nodeType;)t=t.nextSibling;return t}vm(t,i){let s;const e=this._g.sp(t);if(null===e&&i.Li)s=new TemplateControllerSymbol(this.dom,t,i,this.bp),this.bp=null,this.Cm(s,i,t.hs);else{s=new TemplateControllerSymbol(this.dom,t,i,this.bp);const n=this.cm.parse(t.hs,null===e?2048:e.Va);s.gp.push(new BindingSymbol(e,i.bindable,n,t.hs,t.target)),this.bp=null}return s}dm(t,i){const s=this._g.sp(t);let e;if(null===s&&i.Li)e=new CustomAttributeSymbol(t,i),this.Cm(e,i,t.hs);else{e=new CustomAttributeSymbol(t,i);const n=this.cm.parse(t.hs,null===s?2048:s.Va);e.gp.push(new BindingSymbol(s,i.bindable,n,t.hs,t.target))}this.manifest.attributes.push(e),this.manifest.Cp=1}Cm(t,i,value){const s=(function(t){const i=[],s=new ur(t),e=s.length;let name,value;for(;e>s.index;){if(0===(name=ci(s)).length)return i;value=ui(s),i.push({name,value})}return i})(value);let e;for(let n=0,r=s.length;r>n;++n){const r=this.lm.parse((e=s[n]).name,e.value),h=this._g.sp(r),o=this.cm.parse(r.hs,null===h?2048:h.Va);let bindable=i.bindables[r.target];void 0===bindable&&(bindable=i.bindables[r.target]=new BindableInfo(r.target,BindingMode.Jn)),t.gp.push(new BindingSymbol(h,bindable,o,r.hs,r.target))}}fm(t,i){if(0===t.hs.length)return;const s=this._g.sp(t),e=this.manifest,n=this.cm.parse(t.hs,null===s?2048:s.Va);if(16&e.flags){const bindable=e.bindables[t.target];void 0!==bindable?(e.gp.push(new BindingSymbol(s,bindable,n,t.hs,t.target)),e.Cp=1):null===n&&"ref"!==t.target||(e.attributes.push(new PlainAttributeSymbol(t,s,n)),e.Cp=1)}else null!==n||"ref"===t.target?(e.attributes.push(new PlainAttributeSymbol(t,s,n)),e.Cp=1):e===this.Vu&&e.attributes.push(new PlainAttributeSymbol(t,s,n));null===s&&null!==n&&(i.value="")}wm(t){const name=t.getAttribute("replace-part");return null===name?null:(t.removeAttribute("replace-part"),new ReplacePartSymbol(name))}}class ur{constructor(t){this.input=t,this.index=0,this.length=t.length}}const ar=String.fromCharCode;(function(t){t[t.md=34]="DoubleQuote",t[t.vd=39]="SingleQuote",t[t.sd=47]="Slash",t[t.yd=59]="Semicolon",t[t.jf=58]="Colon"})(Ii||(Ii={}));const ITemplateElementFactory=DI.Gs("ITemplateElementFactory")._s();Profiler.pe("TemplateElementFactory");class fr{constructor(dom){this.dom=dom,this.template=dom.Tu()}static register(t){return Registration.singleton(ITemplateElementFactory,this).register(t)}Tu(t){if("string"==typeof t){const template=this.template;template.innerHTML=t;const i=template.content.firstElementChild;return null===i||"TEMPLATE"!==i.nodeName||null!==i.nextElementSibling?(this.template=this.dom.Tu(),template):(template.content.removeChild(i),i)}if("TEMPLATE"!==t.nodeName){const template=this.dom.Tu();return template.content.appendChild(t),template}return null!==t.parentNode&&t.parentNode.removeChild(t),t}}fr.inject=[IDOM];const dr=Object.freeze({required:0,compiler:"default"});Profiler.pe("TemplateCompiler");class gr{constructor(t,i,s){this.Uu=t,this.lm=i,this.cm=s,this.Tm=null}get name(){return"default"}static register(t){return Registration.singleton(ITemplateCompiler,this).register(t)}compile(dom,t,i){const s=new TemplateBinder(dom,new ResourceModel(i),this.lm,this.cm),template=t.template=this.Uu.Tu(t.template),e=s.bind(template);void 0!==t.instructions&&t.instructions!==PLATFORM.$s||(t.instructions=[]),1==e.hasSlots&&(t.hasSlots=1),this.Tm=t.instructions;const n=e.attributes,r=n.length;if(r>0){let surrogates;void 0!==t.surrogates&&t.surrogates!==PLATFORM.$s||(t.surrogates=Array(r)),surrogates=t.surrogates;for(let t=0;r>t;++t)surrogates[t]=this.Rm(n[t])}return this.Am(e),this.Tm=null,t}Am(t){if(8192&t.flags){const{childNodes}=t;let i;const s=childNodes.length;for(let t=0;s>t;++t)if(128&(i=childNodes[t]).flags)this.Tm.push([new TextBindingInstruction(i.bc)]);else if(32&i.flags){const t=i.gp,instructions=[];let s;const e=t.length;for(let i=0;e>i;++i)instructions[i]=new LetBindingInstruction((s=t[i]).Kn,s.target);this.Tm.push([new LetElementInstruction(instructions,i.toViewModel)])}else this.Bm(i)}}Om(t){const i=this.Im(t,1);i[0]=new HydrateElementInstruction(t.res,this.km(t),this.Sm(t)),this.Tm.push(i)}Pm(t){const i=this.Im(t,0);i.length>0&&this.Tm.push(i),this.Am(t)}Bm(t){switch(511&t.flags){case 16:this.Om(t);break;case 64:this.Pm(t);break;case 1:this.Em(t)}}Em(t){const i=this.km(t),s=this.Tm,e=this.Tm=[];this.Bm(t.template),this.Tm=s,this.Tm.push([new HydrateTemplateController({name:null===t.bp?t.res:t.bp,template:t.mp,instructions:e,build:dr},t.res,i,"else"===t.res)])}km(t){let i;if(4096&t.flags){const{gp:s}=t,e=s.length;i=Array(e);let n=0;for(;e>n;++n)i[n]=this.Lm(s[n])}else i=PLATFORM.$s;return i}Lm(t){return null===t.command?null===t.Kn?new SetPropertyInstruction(t.hs,t.bindable.$i):new InterpolationInstruction(t.Kn,t.bindable.$i):t.command.compile(t)}Im(t,i){let s;if(2048&t.flags){const{attributes:e}=t,n=e.length;s=Array(i+n);for(let t=0;n>t;++t)s[t+i]=this.Rm(e[t])}else s=i>0?Array(i):PLATFORM.$s;return s}jm(t){const i=this.km(t);return new HydrateAttributeInstruction(t.res,i)}$m(t){return null===t.command?null===t.Kn?new SetAttributeInstruction(t.Mi.hs,t.Mi.target):new InterpolationInstruction(t.Kn,t.Mi.target):t.command.compile(t)}Rm(t){return"ref"===t.Mi.target?new RefBindingInstruction(t.Mi.hs):4&t.flags?this.jm(t):this.$m(t)}Sm(t){let parts;if(16384&t.flags){parts={};const i=t.parts,s=i.length;let e,n,r;for(let t=0;s>t;++t)r=i[t],e=this.Tm,n=this.Tm=[],this.Bm(r.template),parts[r.name]={name:r.name,template:r.mp,instructions:n,build:dr},this.Tm=e}else parts=PLATFORM.jt;return parts}}gr.inject=[ITemplateElementFactory,IAttributeParser,IExpressionParser];const pr=[gr,fr],br=[hr,or,rr],mr=[TriggerBindingCommand,DelegateBindingCommand,CaptureBindingCommand,ClassBindingCommand,StyleBindingCommand,AttrBindingCommand];ki=Object.freeze({TriggerBindingCommand,DelegateBindingCommand,CaptureBindingCommand,AttrBindingCommand,ClassBindingCommand,StyleBindingCommand,ITemplateCompilerRegistration:gr,ITemplateElementFactoryRegistration:fr,DefaultComponents:pr,TriggerBindingCommandRegistration:TriggerBindingCommand,DelegateBindingCommandRegistration:DelegateBindingCommand,CaptureBindingCommandRegistration:CaptureBindingCommand,AttrBindingCommandRegistration:AttrBindingCommand,ClassBindingCommandRegistration:ClassBindingCommand,StyleBindingCommandRegistration:StyleBindingCommand,DefaultBindingLanguage:mr,BasicConfiguration:{register:t=>nr.register(t).register(...pn,...DefaultBindingSyntax,...br,...DefaultBindingLanguage,...pr,...mr),Ks(){return this.register(DI.Ks())}},stringifyDOM,stringifyInstructions,stringifyTemplateDefinition,TemplateBinder,ITemplateElementFactory});class wr{constructor(t){this.Hu=t}static register(t){return Registration.singleton(IDOMInitializer,this).register(t)}initialize(t){if(this.Hu.has(IDOM,0))return this.Hu.get(IDOM);let dom;return dom=void 0!==t?void 0!==t.dom?t.dom:new HTMLDOM(window,null!==t.host.ownerDocument?t.host.ownerDocument:document,Node,Element,HTMLElement,CustomEvent):new HTMLDOM(window,document,Node,Element,HTMLElement,CustomEvent),Registration.C(IDOM,dom).register(this.Hu),dom}}wr.inject=[IContainer];const vr=[wr],yr={register:t=>nr.register(t).register(...vr),Ks(){return this.register(DI.Ks())}};return Si=Object.freeze({Dm:wr,DefaultComponents:vr,BasicConfiguration:yr}),Profiler.pe("BasicConfiguration"),Pi=Object.freeze({BasicConfiguration:{register:t=>(yr.register(t).register(...DefaultBindingLanguage,...DefaultBindingSyntax,...pn,...mr,...pr),t),Ks(){return this.register(DI.Ks())}}}),t.jit=Bi,t.jitHtml=ki,t.jitHtmlBrowser=Pi,t.kernel=fi,t.runtime=wi,t.runtimeHtml=Oi,t.runtimeHtmlBrowser=Si,t})({});
