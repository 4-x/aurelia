System.register("runtimeHtml",["@aurelia/kernel","@aurelia/runtime"],function(t){"use strict";var Reporter,DI,Registration,PLATFORM,hasBind,hasUnbind,targetObserver,DOM,connectable,ILifecycle,BindingMode,DelegationStrategy,ITargetObserverLocator,SetterObserver,IDOM,ITargetAccessorLocator,BindingBehaviorResource,IObserverLocator,buildTemplateDefinition,HydrateElementInstruction,IRenderable,ITargetedInstruction,IRenderingEngine,CompositionCoordinator,bindable,CustomElementResource,INode,ITemplateFactory,CompiledTemplate,NodeSequence,IExpressionParser,instructionRenderer,ensureExpression,MultiInterpolationBinding,InterpolationBinding,addBinding,Binding,IProjectorLocator,RuntimeBasicConfiguration;return{t:[function(t){Reporter=t.Reporter,DI=t.DI,Registration=t.Registration,PLATFORM=t.PLATFORM},function(t){hasBind=t.hasBind,hasUnbind=t.hasUnbind,targetObserver=t.targetObserver,DOM=t.DOM,connectable=t.connectable,ILifecycle=t.ILifecycle,BindingMode=t.BindingMode,DelegationStrategy=t.DelegationStrategy,ITargetObserverLocator=t.ITargetObserverLocator,SetterObserver=t.SetterObserver,IDOM=t.IDOM,ITargetAccessorLocator=t.ITargetAccessorLocator,BindingBehaviorResource=t.BindingBehaviorResource,IObserverLocator=t.IObserverLocator,buildTemplateDefinition=t.buildTemplateDefinition,HydrateElementInstruction=t.HydrateElementInstruction,IRenderable=t.IRenderable,ITargetedInstruction=t.ITargetedInstruction,IRenderingEngine=t.IRenderingEngine,CompositionCoordinator=t.CompositionCoordinator,bindable=t.bindable,CustomElementResource=t.CustomElementResource,INode=t.INode,ITemplateFactory=t.ITemplateFactory,CompiledTemplate=t.CompiledTemplate,NodeSequence=t.NodeSequence,IExpressionParser=t.IExpressionParser,instructionRenderer=t.instructionRenderer,ensureExpression=t.ensureExpression,MultiInterpolationBinding=t.MultiInterpolationBinding,InterpolationBinding=t.InterpolationBinding,addBinding=t.addBinding,Binding=t.Binding,IProjectorLocator=t.IProjectorLocator,RuntimeBasicConfiguration=t.RuntimeBasicConfiguration}],s(){function s(t,s,i,e){var h,n,r=arguments.length,o=3>r?s:null===e?e=Object.getOwnPropertyDescriptor(s,i):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,s,i,e);else for(n=t.length-1;n>=0;n--)(h=t[n])&&(o=(3>r?h(o):r>3?h(s,i,o):h(s,i))||o);return r>3&&o&&Object.defineProperty(s,i,o),o}function i(t){t.i(this)}function e(t){return t.h&&t.h()[0]||t.o&&t.o()[0]||t.path&&t.path[0]||t.target}function h(){this.l(),this.u=1}function n(t){t.u=0;let s=e(t);const i=[];for(;s;){if(s.g){const e=s.g[t.type];e&&(t.stopPropagation!==h&&(t.l=t.stopPropagation,t.stopPropagation=h),i.push(e))}s=s.parentNode}for(let s=i.length-1;s>=0&&!t.u;s--){const e=i[s];"handleEvent"in e?e.p(t):e(t)}}function r(t){t.u=0;let s=e(t);for(;s&&!t.u;){if(s.m){const i=s.m[t.type];i&&(t.stopPropagation!==h&&(t.l=t.stopPropagation,t.stopPropagation=h),"handleEvent"in i?i.p(t):i(t))}s=s.parentNode}}function o(t,s){return t===s}function c(t,s,i){if(1==M[s])return 1;const e=s.slice(0,5);return M[s]="aria-"===e||"data-"===e||i.v(t,s)}function l(t){const s=e(t);if(this.target===s)return this.A(t)}function isHTMLTargetedInstruction(value){const type=value.type;return"string"==typeof type&&2===type.length}function createElement(dom,t,s,i){return"string"==typeof t?(function(dom,s,i,e){const instructions=[],h=[],dependencies=[],n=dom.createElement(t);let r=0;return i&&Object.keys(i).forEach(to=>{const value=i[to];isHTMLTargetedInstruction(value)?(r=1,instructions.push(value)):dom.setAttribute(n,to,value)}),r&&(dom.C(n),h.push(instructions)),e&&u(dom,n,e,h,dependencies),new RenderPlan(dom,n,h,dependencies)})(dom,0,s,i):(function(dom,t,s,i){const e=t.description.name,instructions=[],h=[instructions],dependencies=[],n=[],bindables=t.description.bindables,r=dom.createElement(e);return dom.C(r),dependencies.includes(t)||dependencies.push(t),instructions.push(new HydrateElementInstruction(e,n)),s&&Object.keys(s).forEach(to=>{const value=s[to];if(isHTMLTargetedInstruction(value))n.push(value);else{n.push(bindables[to]?{type:"re",to,value}:new SetAttributeInstruction(value,to))}}),i&&u(dom,r,i,h,dependencies),new RenderPlan(dom,r,h,dependencies)})(dom,t,s,i)}function u(dom,t,s,i,dependencies){for(let e=0,h=s.length;h>e;++e){const h=s[e];switch(typeof h){case"string":dom.appendChild(t,dom.createTextNode(h));break;case"object":dom.T(h)?dom.appendChild(t,h):"mergeInto"in h&&h.V(t,i,dependencies)}}}var HTMLTargetedInstructionType,NodeType,a,d;t({HTMLTargetedInstructionType:void 0,NodeType:void 0,createElement,isHTMLTargetedInstruction});class Listener{constructor(dom,t,s,i,e,preventDefault,h,n){this.dom=dom,this.S=null,this.B=null,this.$state=0,this.R=s,this.I=n,this.preventDefault=preventDefault,this.O=i,this.target=e,this.L=t,this.k=h}M(t){const s=this.$scope.j;s.D=t;const i=this.O.evaluate(1048576,this.$scope,this.I);return Reflect.deleteProperty(s,"$event"),1!=i&&this.preventDefault&&t.preventDefault(),i}p(t){this.M(t)}N(t,s){if(2&this.$state){if(this.$scope===s)return;this.P(2048|t)}this.$state|=1,this.$scope=s;const i=this.O;hasBind(i)&&i.bind(t,s,this),this.H=this.k.addEventListener(this.dom,this.target,this.L,this,this.R),this.$state|=2,this.$state&=-2}P(t){if(!(2&this.$state))return;this.$state|=64;const s=this.O;hasUnbind(s)&&s.F(t,this.$scope,this),this.$scope=null,this.H.U(),this.H=null,this.$state&=-67}$(t,s,i){}G(t,s,i){}}t("Listener",Listener);let f=class{constructor(t,s,i,e,h,n){this.q=1,this.X=67108879&t,this.Z=i,this._=s,this.J=e,this.K=h,"class"===h?(this.W=this.Y,this.tt=this.st,this.it=this.et):"style"===h&&(this.W=this.ht,this.tt=this.nt,this.it=this.rt),this.ot=n}it(){return this.J.getAttribute(this.ot)}rt(){return this.J.style.getPropertyValue(this.ot)}et(){return this.J.classList.contains(this.ot)}tt(t,s){const i=this.J,e=this.K;null==t?i.removeAttribute(e):i.setAttribute(e,t)}nt(value){let t="";"string"==typeof value&&-1!==value.indexOf("!important")&&(t="important",value=value.replace("!important","")),this.J.style.setProperty(this.ot,value,t)}st(t){const s=this.ot,i=this.J.classList;t?i.add(s):i.remove(s)}i(t){let s=0;for(let i=0,e=t.length;e>i;++i){const e=t[i];if("attributes"===e.type&&e.attributeName===this.K){s=1;break}}s&&this.W()}W(){const t=this.J.getAttribute(this.K);t!==this.ct&&(this.ct=t,this.lt(t,0))}ht(){const t=this.J.style.getPropertyValue(this.ot);t!==this.ct&&(this.ct=t,this.lt(t,0))}Y(){const t=this.J.classList.contains(this.ot);t!==this.ct&&(this.ct=t,this.lt(t,0))}subscribe(t){this.ut()||g(this.J,this),this.at(t)}unsubscribe(t){this.dt(t)&&!this.ut()&&b(this.J,this)}};f=s([targetObserver("")],f);const g=(t,s)=>{void 0===t.ft&&(t.ft=new Set),void 0===t.gt&&(t.gt=DOM.bt(t,p,{attributes:1})),t.ft.add(s)},b=(t,s)=>{const i=t.ft;return i.delete(s)?(0===i.size&&(t.gt.disconnect(),t.gt=void 0),1):0},p=t=>{t[0].target.ft.forEach(i,t)},{oneTime,pt:w,wt:m}=BindingMode,v=w|oneTime;let AttributeBinding=t("AttributeBinding",class{constructor(t,s,i,e,mode,h,n){connectable.vt(this),this.S=null,this.B=null,this.$state=0,this.$lifecycle=n.get(ILifecycle),this.yt=null,this.At=null,this.$scope=null,this.I=n,this.mode=mode,this.Z=h,this.O=t,this.target=s,this.K=i,this.Ct=e,this.X=0}Tt(value,t){this.targetObserver.lt(value,16|(t|=this.X))}Vt(value,t){this.O.assign(32|(t|=this.X),this.$scope,this.I,value)}G(t,s,i){if(2&this.$state){if(i|=this.X,this.mode===BindingMode.wt&&(i&=-17,i|=32),16&i){const s=this.targetObserver.it();return(10082!==this.O.St||this.Et>1)&&(t=this.O.evaluate(i,this.$scope,this.I)),t!==s&&this.Tt(t,i),void(0==(this.mode&oneTime)&&(this.version++,this.O.connect(i,this.$scope,this),this.unobserve(0)))}if(!(32&i))throw Reporter.error(15,i);t!==this.O.evaluate(i,this.$scope,this.I)&&this.Vt(t,i)}}N(t,s){if(2&this.$state){if(this.$scope===s)return;this.P(2048|t)}this.$state|=1,this.X=67108879&t,this.$scope=s;let i=this.O;hasBind(i)&&i.bind(t,s,this);let targetObserver=this.targetObserver;targetObserver||(targetObserver=this.targetObserver=new f(2048,this.$lifecycle,this.Z,this.target,this.K,this.Ct)),targetObserver.bind&&targetObserver.bind(t),i=this.O,this.mode&v&&this.Tt(i.evaluate(t,s,this.I),t),this.mode&w&&i.connect(t,s,this),this.mode&m&&(targetObserver[this.id]|=32,targetObserver.subscribe(this)),this.$state|=2,this.$state&=-2}P(t){2&this.$state&&(this.$state|=64,this.X=0,hasUnbind(this.O)&&this.O.F(t,this.$scope,this),this.$scope=null,this.targetObserver.F&&this.targetObserver.F(t),this.targetObserver.unsubscribe&&(this.targetObserver.unsubscribe(this),this.targetObserver[this.id]&=-33),this.unobserve(1),this.$state&=-67)}connect(t){2&this.$state&&this.O.connect(1048576|(t|=this.X),this.$scope,this)}Bt(t){2&this.$state&&this.Tt(this.O.evaluate(1048576|(t|=this.X),this.$scope,this.I),t)}});AttributeBinding=t("AttributeBinding",s([connectable()],AttributeBinding));let AttributeNSAccessor=t("AttributeNSAccessor",class{constructor(t,s,i,e,h){this.q=1,this.attributeName=e,this._=t,this.J=s,this.oldValue=this.ct=this.it(),this.ot=i,this.Rt=h}it(){return this.J.getAttributeNS(this.Rt,this.attributeName)}tt(t){this.J.setAttributeNS(this.Rt,this.attributeName,t)}});AttributeNSAccessor=t("AttributeNSAccessor",s([targetObserver("")],AttributeNSAccessor));const y=(t,s)=>t===s;let CheckedObserver=t("CheckedObserver",class{constructor(t,s,i,e,h){this.X=67108879&t,this.q=1,this.H=e,this._=s,this.J=i,this.Z=h}it(){return this.ct}tt(t,s){this.It||(this.It=this.J.Ot&&(this.J.Ot.Lt||this.J.Ot.value),this.It&&this.It.subscribe(this)),this.kt&&(this.kt.Mt(this),this.kt=null),"checkbox"===this.J.type&&Array.isArray(t)&&(this.kt=this.Z.jt(this.X|s,t),this.kt.xt(this)),this.Dt()}Nt(){this.Dt(),this.Pt(448)}G(t,s,i){this.Dt(),this.Pt(i)}Dt(){const value=this.ct,t=this.J,s=t.hasOwnProperty("model")?t.Lt:t.value,i=t.Ht||y;t.checked="radio"===t.type?!!i(value,s):1==value?1:Array.isArray(value)?-1!==value.findIndex(t=>!!i(t,s)):0}Pt(t){2048&t||this.ct!==this.oldValue&&this.Ft(this.ct,this.oldValue,this.X|t)}p(){let value=this.ct;const t=this.J,s=t.hasOwnProperty("model")?t.Lt:t.value;let i;const e=t.Ht||y;if("checkbox"===t.type){if(Array.isArray(value))return i=value.findIndex(t=>!!e(t,s)),void(t.checked&&-1===i?value.push(s):t.checked||-1===i||value.splice(i,1));value=t.checked}else{if(!t.checked)return;value=s}this.oldValue=this.ct,this.ct=value,this.Pt(327680)}subscribe(t){this.ut()||this.H.subscribe(this.J,this),this.at(t)}unsubscribe(t){this.dt(t)&&!this.ut()&&this.H.U()}F(){this.kt&&(this.kt.Mt(this),this.kt=null),this.It&&this.It.unsubscribe(this)}});CheckedObserver=t("CheckedObserver",s([targetObserver()],CheckedObserver));let ClassAttributeAccessor=t("ClassAttributeAccessor",class{constructor(t,s){this.q=1,this.Ut=1,this._=t,this.$t=null,this.J=s,this.version=0}it(){return this.ct}tt(t){const s=this.$t||{};let i,name,e=this.version;if(t.length){const h=this.J;for(let n=0,r=(i=t.split(/\s+/)).length;r>n;n++)(name=i[n]).length&&(s[name]=e,h.classList.add(name))}if(this.$t=s,this.version+=1,0!==e)for(name in e-=1,s)s.hasOwnProperty(name)&&s[name]===e&&this.J.classList.remove(name)}});ClassAttributeAccessor=t("ClassAttributeAccessor",s([targetObserver("")],ClassAttributeAccessor));let DataAttributeAccessor=t("DataAttributeAccessor",class{constructor(t,s,i){this.q=1,this._=t,this.J=s,this.oldValue=this.ct=this.it(),this.ot=i}it(){return this.J.getAttribute(this.ot)}tt(t){null===t?this.J.removeAttribute(this.ot):this.J.setAttribute(this.ot,t)}});DataAttributeAccessor=t("DataAttributeAccessor",s([targetObserver()],DataAttributeAccessor));let ElementPropertyAccessor=t("ElementPropertyAccessor",class{constructor(t,s,i){this.q=1,this._=t,this.J=s,this.ot=i}it(){return this.J[this.ot]}tt(value){this.J[this.ot]=value}});ElementPropertyAccessor=t("ElementPropertyAccessor",s([targetObserver("")],ElementPropertyAccessor));class ListenerTracker{constructor(dom,t,s,i){this.dom=dom,this.zt=i,this.count=0,this.Gt=t,this.listener=s}qt(){this.count++,1===this.count&&this.dom.addEventListener(this.Gt,this.listener,null,this.zt)}Xt(){this.count--,0===this.count&&this.dom.removeEventListener(this.Gt,this.listener,null,this.zt)}U(){this.count>0&&(this.count=0,this.dom.removeEventListener(this.Gt,this.listener,null,this.zt))}}t("ListenerTracker",ListenerTracker);class DelegateOrCaptureSubscription{constructor(t,s,i,e){this.Zt=t,this._t=s,this.L=i,s[i]=e}U(){this.Zt.Xt(),this._t[this.L]=null}}t("DelegateOrCaptureSubscription",DelegateOrCaptureSubscription);class TriggerSubscription{constructor(dom,t,s,i){this.dom=dom,this.target=t,this.L=s,this.Jt=i,dom.addEventListener(s,i,t)}U(){this.dom.removeEventListener(this.L,this.Jt,this.target)}}t("TriggerSubscription",TriggerSubscription);class EventSubscriber{constructor(dom,t){this.dom=dom,this.Kt=t,this.target=null,this.H=null}subscribe(t,s){this.target=t,this.H=s;const i=this.dom.addEventListener,e=this.Kt;for(let h=0,n=e.length;n>h;++h)i(e[h],s,t)}U(){const t=this.target,s=this.H,i=this.Kt,e=this.dom.removeEventListener;for(let h=0,n=i.length;n>h;++h)e(i[h],s,t);this.target=this.H=null}}t("EventSubscriber",EventSubscriber);const IEventManager=t("IEventManager",DI.Wt("IEventManager").Qt(t=>t.singleton(A)));class A{constructor(){this.Yt={},this.ts={},this.Yt={},this.ts={}}addEventListener(dom,t,s,i,strategy){let e,h,o;if(strategy===DelegationStrategy.ss){(o=(e=this.Yt)[s]||(e[s]=new ListenerTracker(dom,s,r,0))).qt();const h=t.m||(t.m={});return new DelegateOrCaptureSubscription(o,h,s,i)}if(strategy===DelegationStrategy.es){(o=(h=this.ts)[s]||(h[s]=new ListenerTracker(dom,s,n,1))).qt();const e=t.g||(t.g={});return new DelegateOrCaptureSubscription(o,e,s,i)}return new TriggerSubscription(dom,t,s,i)}U(){let t;const{Yt:s,ts:i}=this;for(t in s)s[t].U();for(t in i)i[t].U()}}const C={hs:1,ns:1,rs:1};let SelectValueObserver=t("SelectValueObserver",class{constructor(t,s,i,e,h,dom){this.X=67108879&t,this.q=1,this._=s,this.J=i,this.H=e,this.Z=h,this.dom=dom}it(){return this.ct}tt(t,s){const i=Array.isArray(t);if(!i&&null!=t&&this.J.multiple)throw Error("Only null or Array instances can be bound to a multi-select.");this.kt&&(this.kt.Mt(this),this.kt=null),i&&(this.kt=this.Z.jt(this.X|s,t),this.kt.xt(this)),this.os(),this.Pt(s)}Nt(t){this.os(t)}G(t,s,i){this.lt(t,this.X|i)}Pt(t){if(2048&t)return;const s=this.oldValue,i=this.ct;i!==s&&this.Ft(i,s,this.X|t)}p(){this.cs()&&this.Pt(327680)}os(t){const s=this.ct,i=Array.isArray(s),e=this.J,h=e.Ht||o,n=e.options;let r=n.length;for(;r--;){const t=n[r],e=t.hasOwnProperty("model")?t.Lt:t.value;t.selected=i?-1!==s.findIndex(t=>!!h(e,t)):!!h(e,s)}}cs(){const t=this.J,s=t.options,i=s.length,e=this.ct;let h=0;if(t.multiple){if(!Array.isArray(e))return 1;let n;const r=t.Ht||o,c=[];for(;i>h;)(n=s[h]).selected&&c.push(n.hasOwnProperty("model")?n.Lt:n.value),++h;for(h=0;e.length>h;){const t=e[h];-1===c.findIndex(s=>!!r(t,s))?e.splice(h,1):++h}for(h=0;c.length>h;){const t=c[h];-1===e.findIndex(s=>!!r(t,s))&&e.push(t),++h}return 0}let value=null;for(;i>h;){const t=s[h];if(t.selected){value=t.hasOwnProperty("model")?t.Lt:t.value;break}++h}return this.oldValue=this.ct,this.ct=value,1}subscribe(t){this.ut()||this.H.subscribe(this.J,this),this.at(t)}unsubscribe(t){this.dt(t)&&!this.ut()&&this.H.U()}bind(){this.ls=this.dom.bt(this.J,this.us.bind(this),C)}F(){this.ls.disconnect(),this.ls=null,this.kt&&(this.kt.Mt(this),this.kt=null)}us(){this.os(),this.cs()&&this.Pt(65536)}});SelectValueObserver=t("SelectValueObserver",s([targetObserver()],SelectValueObserver));let StyleAttributeAccessor=t("StyleAttributeAccessor",class{constructor(t,s){this.q=1,this.oldValue=this.ct=s.style.cssText,this._=t,this.J=s,this.as=null,this.version=0}it(){return this.J.style.cssText}ds(t,value){let s="";null!=value&&"function"==typeof value.indexOf&&-1!==value.indexOf("!important")&&(s="important",value=value.replace("!important","")),this.J.style.setProperty(t,value,s)}tt(t){const s=this.as||{};let i,e=this.version;if(null!==t)if(t instanceof Object){let value;for(i in t)t.hasOwnProperty(i)&&(value=t[i],s[i=i.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)]=e,this.ds(i,value))}else if(t.length){const h=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:[^"](?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g;let n;for(;null!==(n=h.exec(t));)(i=n[1])&&(s[i]=e,this.ds(i,n[2]))}if(this.as=s,this.version+=1,0!==e)for(i in e-=1,s)s.hasOwnProperty(i)&&s[i]===e&&this.J.style.removeProperty(i)}});StyleAttributeAccessor=t("StyleAttributeAccessor",s([targetObserver()],StyleAttributeAccessor));const ISVGAnalyzer=t("ISVGAnalyzer",DI.Wt("ISVGAnalyzer").Qt(t=>t.singleton(class{v(t,s){return 0}}))),T={button:"",fs:"on",color:"#000000",gs:"",bs:"",email:"",ps:"",hidden:"",ws:"",ms:"",number:"",password:"",vs:"on",range:"50",reset:"",search:"",submit:"",tel:"",text:"",time:"",url:"",ys:""};let ValueAttributeObserver=t("ValueAttributeObserver",class{constructor(t,s,i,e){if(this.q=1,this.H=e,this._=t,this.J=s,this.ot=i,"value"===i){const t=s.type;this.defaultValue=T[t||"text"],"file"===t&&(this.flush=this.As)}else this.defaultValue="";this.oldValue=this.ct=s[i]}it(){return this.J[this.ot]}tt(t,s){this.J[this.ot]=t,2048&s||this.Ft(this.ct,this.oldValue,s)}p(){const t=this.oldValue=this.ct,s=this.ct=this.it();t!==s&&(this.Ft(s,t,327680),this.oldValue=s)}subscribe(t){this.ut()||(this.oldValue=this.it(),this.H.subscribe(this.J,this)),this.at(t)}unsubscribe(t){this.dt(t)&&!this.ut()&&this.H.U()}As(){const t=this.ct;this.oldValue!==t&&""===t&&(this.tt(t,this.Cs),this.oldValue=this.ct)}});ValueAttributeObserver=t("ValueAttributeObserver",s([targetObserver("")],ValueAttributeObserver));const V="http://www.w3.org/1999/xlink",S="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",B=((a=Object.create(null))["Ts"]=["actuate",V],a["Vs"]=["arcrole",V],a["Ss"]=["href",V],a["Es"]=["role",V],a["Bs"]=["show",V],a["Rs"]=["title",V],a["Is"]=["type",V],a["Os"]=["lang",S],a["Ls"]=["space",S],a.ks=["xmlns",E],a["Ms"]=["xlink",E],a),R=["change","input"],I=["change"],O=["change","input","blur","keyup","paste"],L=["scroll"],k=(function(t){return t.js=1,t.style=1,t.xs=1,t.checked=1,t.value=1,t.Lt=1,t["Ts"]=1,t["Vs"]=1,t["Ss"]=1,t["Es"]=1,t["Bs"]=1,t["Rs"]=1,t["Is"]=1,t["Os"]=1,t["Ls"]=1,t.ks=1,t["Ms"]=1,t})(Object.create(null));class TargetObserverLocator{constructor(dom,t){this.dom=dom,this.Ds=t}static register(t){return Registration.singleton(ITargetObserverLocator,this).register(t)}Ns(t,s,i,e,h){switch(h){case"checked":return new CheckedObserver(t,s,e,new EventSubscriber(this.dom,R),i);case"value":return"SELECT"===e.tagName?new SelectValueObserver(t,s,e,new EventSubscriber(this.dom,I),i,this.dom):new ValueAttributeObserver(s,e,h,new EventSubscriber(this.dom,R));case"files":return new ValueAttributeObserver(s,e,h,new EventSubscriber(this.dom,R));case"textContent":case"innerHTML":return new ValueAttributeObserver(s,e,h,new EventSubscriber(this.dom,O));case"scrollTop":case"scrollLeft":return new ValueAttributeObserver(s,e,h,new EventSubscriber(this.dom,L));case"class":return new ClassAttributeAccessor(s,e);case"style":case"css":return new StyleAttributeAccessor(s,e);case"model":return new SetterObserver(t,e,h);case"role":return new DataAttributeAccessor(s,e,h);default:if(void 0!==B[h]){const t=B[h];return new AttributeNSAccessor(s,e,h,t[0],t[1])}if(c(e,h,this.Ds))return new DataAttributeAccessor(s,e,h)}return null}Ps(t,s,i){return 1==k[i]}Hs(t,s){return this.dom.T(s)}}t("TargetObserverLocator",TargetObserverLocator),TargetObserverLocator.inject=[IDOM,ISVGAnalyzer];class TargetAccessorLocator{constructor(dom,t){this.dom=dom,this.Ds=t}static register(t){return Registration.singleton(ITargetAccessorLocator,this).register(t)}Fs(t,s,i,e){switch(e){case"textContent":return new ElementPropertyAccessor(s,i,e);case"class":return new ClassAttributeAccessor(s,i);case"style":case"css":return new StyleAttributeAccessor(s,i);case"src":case"href":case"role":return new DataAttributeAccessor(s,i,e);default:if(void 0!==B[e]){const t=B[e];return new AttributeNSAccessor(s,i,e,t[0],t[1])}return c(i,e,this.Ds)?new DataAttributeAccessor(s,i,e):new ElementPropertyAccessor(s,i,e)}}Hs(t,s){return this.dom.T(s)}}t("TargetAccessorLocator",TargetAccessorLocator),TargetAccessorLocator.inject=[IDOM,ISVGAnalyzer];const M={};class AttrBindingBehavior{bind(t,s,i){i.targetObserver=new DataAttributeAccessor(i.I.get(ILifecycle),i.target,i.Ct)}F(t,s,i){}}t("AttrBindingBehavior",AttrBindingBehavior),BindingBehaviorResource.Us("attr",AttrBindingBehavior);class SelfBindingBehavior{bind(t,s,i){if(!i.M||!i.L)throw Reporter.error(8);i.A=i.M,i.M=l}F(t,s,i){i.M=i.A,i.A=null}}t("SelfBindingBehavior",SelfBindingBehavior),BindingBehaviorResource.Us("self",SelfBindingBehavior);class UpdateTriggerBindingBehavior{constructor(t){this.Z=t}bind(t,s,i,...e){if(0===e.length)throw Reporter.error(9);if(i.mode!==BindingMode.$s&&i.mode!==BindingMode.wt)throw Reporter.error(10);this.X=67108879&t;const targetObserver=this.Z.Ns(this.X|t,i.target,i.Ct);if(!targetObserver.H)throw Reporter.error(10);i.targetObserver=targetObserver,targetObserver.zs=i.targetObserver.H,targetObserver.H=new EventSubscriber(i.I.get(IDOM),e)}F(t,s,i){i.targetObserver.H.U(),i.targetObserver.H=i.targetObserver.zs,i.targetObserver.zs=null}}t("UpdateTriggerBindingBehavior",UpdateTriggerBindingBehavior),UpdateTriggerBindingBehavior.inject=[IObserverLocator],BindingBehaviorResource.Us("updateTrigger",UpdateTriggerBindingBehavior),(function(HTMLTargetedInstructionType){HTMLTargetedInstructionType.Gs="ha",HTMLTargetedInstructionType.qs="hb",HTMLTargetedInstructionType.Xs="hc",HTMLTargetedInstructionType.Zs="hd",HTMLTargetedInstructionType.setAttribute="he"})(HTMLTargetedInstructionType||(HTMLTargetedInstructionType=t("HTMLTargetedInstructionType",{}))),t("TextBindingInstruction",class{constructor(from){this.type="ha",this.from=from}}),t("TriggerBindingInstruction",class{constructor(from,to){this.type="hb",this.from=from,this.preventDefault=1,this.strategy=DelegationStrategy._s,this.to=to}}),t("DelegateBindingInstruction",class{constructor(from,to){this.type="hb",this.from=from,this.preventDefault=0,this.strategy=DelegationStrategy.ss,this.to=to}}),t("CaptureBindingInstruction",class{constructor(from,to){this.type="hb",this.from=from,this.preventDefault=0,this.strategy=DelegationStrategy.es,this.to=to}}),t("StylePropertyBindingInstruction",class{constructor(from,to){this.type="hd",this.from=from,this.to=to}});class SetAttributeInstruction{constructor(value,to){this.type="he",this.to=to,this.value=value}}t("SetAttributeInstruction",SetAttributeInstruction),t("AttributeBindingInstruction",class{constructor(t,from,to){this.type="hc",this.from=from,this.Js=t,this.to=to}});class RenderPlan{constructor(dom,t,instructions,dependencies){this.dom=dom,this.dependencies=dependencies,this.instructions=instructions,this.Ks=t}get Qs(){return this.Ws||(this.Ws=buildTemplateDefinition(null,null,this.Ks,null,"string"==typeof this.Ks,null,this.instructions,this.dependencies))}Ys(t,s){return t.Ys(this.dom,this.Qs,null,s)}ti(t,s,i){return this.si(s,i).create()}si(t,s){return t.si(this.dom,this.Qs,s)}V(t,instructions,dependencies){this.dom.appendChild(t,this.Ks),instructions.push(...this.instructions),dependencies.push(...this.dependencies)}}t("RenderPlan",RenderPlan);const j=["subject","composing"];class Compose{constructor(dom,t,s,i,e){this.dom=dom,this.subject=null,this.ii=0,this.ei=e,this.hi=null,this.ni=t,this.ri=i,this.ei.oi=(()=>{this.ii=0}),this.properties=s.instructions.filter(t=>!j.includes(t.to)).reduce((t,s)=>(s.to&&(t[s.to]=s),t),{})}ci(t){this.li(this.subject,null,t),this.ei.ci(t,this.$scope)}ui(t){this.ei.ui(t)}ai(t){this.ei.ai(t)}di(t){this.hi=null,this.ei.di(t)}fi(t){this.ei.fi(t)}gi(t,s,i){this.li(t,s,i)}li(t,s,i){this.hi!==t&&(this.hi=t,t=t instanceof Promise?t.then(t=>this.bi(t,i)):this.bi(t,i),this.ii=1,this.ei.pi(t,i))}bi(t,s){const i=this.wi(t,s);return i?(i.mi(this.vi.host),i.yi(this.ni.$scope),i):null}wi(t,s){return t?"lockScope"in t?t:"createView"in t?t.ti(s,this.ri,this.ni.$context):"create"in t?t.create():"template"in t?this.ri.si(this.dom,t,this.ni.$context).create():createElement(this.dom,t,this.properties,this.vi.children).ti(s,this.ri,this.ni.$context):null}}t("Compose",Compose),Compose.inject=[IDOM,IRenderable,ITargetedInstruction,IRenderingEngine,CompositionCoordinator],s([bindable],Compose.prototype,"subject",void 0),s([bindable],Compose.prototype,"composing",void 0),CustomElementResource.Us({name:"au-compose",containerless:1},Compose),(function(NodeType){NodeType[NodeType.Element=1]="Element",NodeType[NodeType.Attr=2]="Attr",NodeType[NodeType.Text=3]="Text",NodeType[NodeType.CDATASection=4]="CDATASection",NodeType[NodeType.EntityReference=5]="EntityReference",NodeType[NodeType.Entity=6]="Entity",NodeType[NodeType.ProcessingInstruction=7]="ProcessingInstruction",NodeType[NodeType.Comment=8]="Comment",NodeType[NodeType.Document=9]="Document",NodeType[NodeType.DocumentType=10]="DocumentType",NodeType[NodeType.DocumentFragment=11]="DocumentFragment",NodeType[NodeType.Notation=12]="Notation"})(NodeType||(NodeType=t("NodeType",{}))),t("HTMLDOM",class{constructor(t,s,i,e,h,n){this.window=t,this.document=s,this.Node=i,this.Element=e,this.HTMLElement=h,this.CustomEvent=n,DOM.Ai&&(Reporter.write(1001),DOM.Ci()),DOM.initialize(this)}static register(t){return Registration.Ti(IDOM,this).register(t)}addEventListener(t,s,i,e){(i||this.document).addEventListener(t,s,e)}appendChild(t,s){t.appendChild(s)}cloneNode(t,s){return t.cloneNode(0!=s)}Vi(t){if(this.Si(t))return t;if(null===t.parentNode)throw Reporter.error(52);const s=this.document.createComment("au-end"),i=this.document.createComment("au-start");return t.parentNode.replaceChild(s,t),s.parentNode.insertBefore(i,s),s.Ei=i,i.$nodes=null,s}createDocumentFragment(t){if(null==t)return this.document.createDocumentFragment();if(this.T(t)){if(void 0!==t.content)return t.content;const s=this.document.createDocumentFragment();return s.appendChild(t),s}return this.Bi(t).content}createElement(name){return this.document.createElement(name)}fetch(t,s){return this.window.fetch(t,s)}Ri(t,s){return new this.CustomEvent(t,s)}dispatchEvent(t){this.document.dispatchEvent(t)}bt(t,s,i){if("undefined"==typeof MutationObserver)return{disconnect(){},observe(){},takeRecords:()=>PLATFORM.Ii};const e=new MutationObserver(s);return e.observe(t,i),e}Bi(t){if(null==t)return this.document.createElement("template");const template=this.document.createElement("template");return template.innerHTML=""+t,template}createTextNode(t){return this.document.createTextNode(t)}insertBefore(t,s){s.parentNode.insertBefore(t,s)}Oi(t){return"AU-M"===t.nodeName}T(t){return null!=t&&t.nodeType>0}Si(t){return"au-end"===t.textContent}C(t){t.className="au"}Li(t,s){t.ki(INode,s),t.ki(this.Node,s),t.ki(this.Element,s),t.ki(this.HTMLElement,s)}remove(t){t.remove?t.remove():t.parentNode.removeChild(t)}removeEventListener(t,s,i,e){(i||this.document).removeEventListener(t,s,e)}setAttribute(t,name,value){t.setAttribute(name,value)}}),t("DOM",DOM);class x{constructor(dom,t){this.dom=dom,this.firstChild=t,this.lastChild=t,this.childNodes=[t],this.targets=[new P(t)]}Mi(){return this.targets}insertBefore(t){t.parentNode.insertBefore(this.firstChild,t)}ji(t){t.appendChild(this.firstChild)}remove(){this.firstChild.remove()}}class D{constructor(dom,t){this.dom=dom,this.xi=t;const s=t.querySelectorAll(".au");let i=0,e=s.length;const targets=this.targets=Array(e);for(;e>i;){const t=s[i];targets[i]="AU-M"===t.nodeName?this.dom.Vi(t):t,++i}const h=t.childNodes;i=0;const childNodes=this.childNodes=Array(e=h.length);for(;e>i;)childNodes[i]=h[i],++i;this.firstChild=t.firstChild,this.lastChild=t.lastChild,this.start=this.end=null}Mi(){return this.targets}insertBefore(t){if(t.parentNode.insertBefore(this.xi,t),"au-end"===t.textContent){this.end=t;const s=this.start=t.Ei;s.$nodes=null===s.$nodes?this:PLATFORM.Di}}ji(t){t.appendChild(this.xi),this.start=this.end=null}remove(){const t=this.xi;if(null!==this.start&&this.start.$nodes===this){const s=this.end;let i,e=this.start.nextSibling;for(;e!==s;)i=e.nextSibling,t.appendChild(e),e=i;this.start.$nodes=null,this.start=this.end=null}else{let s=this.firstChild;if(s.parentNode!==t){const i=this.lastChild;let e;for(;null!==s&&(e=s.nextSibling,t.appendChild(s),s!==i);)s=e}}}}class N{constructor(dom,t){this.dom=dom;const s=dom.createDocumentFragment(t),childNodes=s.childNodes;switch(childNodes.length){case 0:return void(this.Ni=(()=>NodeSequence.empty));case 2:const t=childNodes[0];if("AU-M"===t.nodeName||"#comment"===t.nodeName){const t=childNodes[1];if(3===t.nodeType&&0===t.textContent.length)return this.Pi=0,this.Ks=t,void(this.Hi=x)}default:this.Pi=1,this.Ks=s,this.Hi=D}}Ni(){return new this.Hi(this.dom,this.Ks.cloneNode(this.Pi))}}class P{get parentNode(){return this.nextSibling.parentNode}constructor(t){this.nextSibling=t,this.textContent=""}remove(){}}(d=P.prototype).previousSibling=null,d.childNodes=PLATFORM.Ii,d.nodeName="AU-M",d.nodeType=1;class H{constructor(dom){this.dom=dom}static register(t){return Registration.singleton(ITemplateFactory,this).register(t)}create(t,s){return new CompiledTemplate(this.dom,s,new N(this.dom,s.template),t)}}H.inject=[IDOM];let F=class{constructor(t,s){this.Fi=t,this.Z=s}Ui(t,dom,s,i,e,h){const n=e.nextSibling;let r;dom.Oi(e)&&dom.remove(e);const o=ensureExpression(this.Fi,h.from,2048);r=o.$i?new MultiInterpolationBinding(this.Z,o,n,"textContent",BindingMode.pt,s):new InterpolationBinding(o.zi,o,n,"textContent",BindingMode.pt,this.Z,s,1),addBinding(i,r)}};F.inject=[IExpressionParser,IObserverLocator],F=s([instructionRenderer("ha")],F);let U=class{constructor(t,s){this.Fi=t,this.k=s}Ui(t,dom,s,i,e,h){const n=ensureExpression(this.Fi,h.from,80|h.strategy+6),r=new Listener(dom,h.to,h.strategy,n,e,h.preventDefault,this.k,s);addBinding(i,r)}};U.inject=[IExpressionParser,IEventManager],U=s([instructionRenderer("hb")],U);let $=class{Ui(t,dom,s,i,e,h){e.setAttribute(h.to,h.value)}};$=s([instructionRenderer("he")],$);let z=class{constructor(t,s){this.Fi=t,this.Z=s}Ui(t,dom,s,i,e,h){const n=ensureExpression(this.Fi,h.from,48|BindingMode.pt),r=new Binding(n,e.style,h.to,BindingMode.pt,this.Z,s);addBinding(i,r)}};z.inject=[IExpressionParser,IObserverLocator],z=s([instructionRenderer("hd")],z);let G=class{constructor(t,s){this.Fi=t,this.Z=s}Ui(t,dom,s,i,e,h){const n=ensureExpression(this.Fi,h.from,48|BindingMode.pt),r=new AttributeBinding(n,e,h.Js,h.to,BindingMode.pt,this.Z,s);addBinding(i,r)}};G.inject=[IExpressionParser,IObserverLocator],G=s([instructionRenderer("hc")],G);const q={mode:"open"},X={hs:1};class Z{constructor(dom,$customElement,host,t){let shadowOptions;this.dom=dom,this.host=host,this.shadowRoot=host.Gi(shadowOptions=null!=t.shadowOptions&&"object"==typeof t.shadowOptions&&"mode"in t.shadowOptions?t.shadowOptions:q),this.host.$customElement=$customElement,this.shadowRoot.$customElement=$customElement}get children(){return this.shadowRoot.childNodes}qi(t){this.dom.bt(this.shadowRoot,t,X)}Xi(){return this.shadowRoot}Zi(t){t.ji(this.shadowRoot)}_i(t){t.remove()}}class _{constructor(dom,$customElement,host){this.childNodes=host.childNodes.length?PLATFORM.toArray(host.childNodes):PLATFORM.Ii,this.host=dom.Vi(host),this.host.$customElement=$customElement}get children(){return this.childNodes}qi(t){new MutationObserver(t).observe(this.host,X)}Xi(){return this.host.Ji()}Zi(t){t.insertBefore(this.host)}_i(t){t.remove()}}class J{constructor($customElement,host){this.host=host,this.host.$customElement=$customElement}get children(){return this.host.childNodes}qi(t){}Xi(){return this.host.Ji()}Zi(t){t.ji(this.host)}_i(t){t.remove()}}const IProjectorLocatorRegistration=t("IProjectorLocatorRegistration",class{static register(t){return Registration.singleton(IProjectorLocator,this).register(t)}Ki(dom,t,host,def){if(def.shadowOptions||def.hasSlots){if(def.containerless)throw Reporter.error(21);return new Z(dom,t,host,def)}return def.containerless?new _(dom,t,host):new J(t,host)}}),ITargetAccessorLocatorRegistration=t("ITargetAccessorLocatorRegistration",TargetAccessorLocator),ITargetObserverLocatorRegistration=t("ITargetObserverLocatorRegistration",TargetObserverLocator),ITemplateFactoryRegistration=t("ITemplateFactoryRegistration",H),DefaultComponents=t("DefaultComponents",[IProjectorLocatorRegistration,ITargetAccessorLocatorRegistration,ITargetObserverLocatorRegistration,ITemplateFactoryRegistration]),AttrBindingBehaviorRegistration=t("AttrBindingBehaviorRegistration",AttrBindingBehavior),SelfBindingBehaviorRegistration=t("SelfBindingBehaviorRegistration",SelfBindingBehavior),UpdateTriggerBindingBehaviorRegistration=t("UpdateTriggerBindingBehaviorRegistration",UpdateTriggerBindingBehavior),ComposeRegistration=t("ComposeRegistration",Compose),DefaultResources=t("DefaultResources",[AttrBindingBehaviorRegistration,SelfBindingBehaviorRegistration,UpdateTriggerBindingBehaviorRegistration,ComposeRegistration]),ListenerBindingRendererRegistration=t("ListenerBindingRendererRegistration",U),AttributeBindingRendererRegistration=t("AttributeBindingRendererRegistration",G),SetAttributeRendererRegistration=t("SetAttributeRendererRegistration",$),StylePropertyBindingRendererRegistration=t("StylePropertyBindingRendererRegistration",z),TextBindingRendererRegistration=t("TextBindingRendererRegistration",F),DefaultRenderers=t("DefaultRenderers",[ListenerBindingRendererRegistration,AttributeBindingRendererRegistration,SetAttributeRendererRegistration,StylePropertyBindingRendererRegistration,TextBindingRendererRegistration]);t("BasicConfiguration",{register:t=>RuntimeBasicConfiguration.register(t).register(...DefaultComponents,...DefaultResources,...DefaultRenderers),Qi(){return this.register(DI.Qi())}})}}});
