this.au=this.au||{},this.au.runtimeHtml=(function(t,kernel,runtime){"use strict";function s(t,s,i,h){var e,n,r=arguments.length,o=3>r?s:null===h?h=Object.getOwnPropertyDescriptor(s,i):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,s,i,h);else for(n=t.length-1;n>=0;n--)(e=t[n])&&(o=(3>r?e(o):r>3?e(s,i,o):e(s,i))||o);return r>3&&o&&Object.defineProperty(s,i,o),o}function i(t){t.t(this)}function h(t){return t.s&&t.s()[0]||t.i&&t.i()[0]||t.path&&t.path[0]||t.target}function e(){this.h(),this.o=1}function n(t){t.o=0;let s=h(t);const i=[];for(;s;){if(s.l){const h=s.l[t.type];h&&(t.stopPropagation!==e&&(t.h=t.stopPropagation,t.stopPropagation=e),i.push(h))}s=s.parentNode}for(let s=i.length-1;s>=0&&!t.o;s--){const h=i[s];"handleEvent"in h?h.u(t):h(t)}}function r(t){t.o=0;let s=h(t);for(;s&&!t.o;){if(s.g){const i=s.g[t.type];i&&(t.stopPropagation!==e&&(t.h=t.stopPropagation,t.stopPropagation=e),"handleEvent"in i?i.u(t):i(t))}s=s.parentNode}}function o(t,s){return t===s}function c(t,s,i){if(1==N[s])return 1;const h=s.slice(0,5);return N[s]="aria-"===h||"data-"===h||i.p(t,s)}function l(t){const s=h(t);if(this.target===s)return this.m(t)}function isHTMLTargetedInstruction(value){const type=value.type;return"string"==typeof type&&2===type.length}function createElement(dom,t,s,i){return"string"==typeof t?(function(dom,s,i,h){const instructions=[],e=[],dependencies=[],n=dom.createElement(t);let r=0;return i&&Object.keys(i).forEach(to=>{const value=i[to];isHTMLTargetedInstruction(value)?(r=1,instructions.push(value)):dom.setAttribute(n,to,value)}),r&&(dom.v(n),e.push(instructions)),h&&u(dom,n,h,e,dependencies),new RenderPlan(dom,n,e,dependencies)})(dom,0,s,i):(function(dom,t,s,i){const h=t.description.name,instructions=[],e=[instructions],dependencies=[],n=[],bindables=t.description.bindables,r=dom.createElement(h);return dom.v(r),dependencies.includes(t)||dependencies.push(t),instructions.push(new runtime.HydrateElementInstruction(h,n)),s&&Object.keys(s).forEach(to=>{const value=s[to];if(isHTMLTargetedInstruction(value))n.push(value);else{n.push(bindables[to]?{type:"re",to,value}:new SetAttributeInstruction(value,to))}}),i&&u(dom,r,i,e,dependencies),new RenderPlan(dom,r,e,dependencies)})(dom,t,s,i)}function u(dom,t,s,i,dependencies){for(let h=0,e=s.length;e>h;++h){const e=s[h];switch(typeof e){case"string":dom.appendChild(t,dom.createTextNode(e));break;case"object":dom.C(e)?dom.appendChild(t,e):"mergeInto"in e&&e.V(t,i,dependencies)}}}var a,HTMLTargetedInstructionType,NodeType,d;class Listener{constructor(dom,t,s,i,h,preventDefault,e,n){this.dom=dom,this.A=null,this.T=null,this.$state=0,this.k=s,this.j=n,this.preventDefault=preventDefault,this.S=i,this.target=h,this.M=t,this.O=e}L(t){const s=this.$scope.N;s.I=t;const i=this.S.evaluate(1048576,this.$scope,this.j);return Reflect.deleteProperty(s,"$event"),1!=i&&this.preventDefault&&t.preventDefault(),i}u(t){this.L(t)}R(t,s){if(2&this.$state){if(this.$scope===s)return;this.D(2048|t)}this.$state|=1,this.$scope=s;const i=this.S;runtime.hasBind(i)&&i.bind(t,s,this),this.$=this.O.addEventListener(this.dom,this.target,this.M,this,this.k),this.$state|=2,this.$state&=-2}D(t){if(!(2&this.$state))return;this.$state|=64;const s=this.S;runtime.hasUnbind(s)&&s.B(t,this.$scope,this),this.$scope=null,this.$.F(),this.$=null,this.$state&=-67}P(t,s,i){}U(t,s,i){}}let f=class{constructor(t,s,i,h,e,n){this.H=1,this.q=67108879&t,this.G=i,this.X=s,this.Z=h,this._=e,"class"===e?(this.J=this.K,this.W=this.Y,this.tt=this.st):"style"===e&&(this.J=this.it,this.W=this.ht,this.tt=this.et),this.nt=n}tt(){return this.Z.getAttribute(this.nt)}et(){return this.Z.style.getPropertyValue(this.nt)}st(){return this.Z.classList.contains(this.nt)}W(t,s){const i=this.Z,h=this._;null==t?i.removeAttribute(h):i.setAttribute(h,t)}ht(value){let t="";"string"==typeof value&&-1!==value.indexOf("!important")&&(t="important",value=value.replace("!important","")),this.Z.style.setProperty(this.nt,value,t)}Y(t){const s=this.nt,i=this.Z.classList;t?i.add(s):i.remove(s)}t(t){let s=0;for(let i=0,h=t.length;h>i;++i){const h=t[i];if("attributes"===h.type&&h.attributeName===this._){s=1;break}}s&&this.J()}J(){const t=this.Z.getAttribute(this._);t!==this.rt&&(this.rt=t,this.ot(t,0))}it(){const t=this.Z.style.getPropertyValue(this.nt);t!==this.rt&&(this.rt=t,this.ot(t,0))}K(){const t=this.Z.classList.contains(this.nt);t!==this.rt&&(this.rt=t,this.ot(t,0))}subscribe(t){this.ct()||w(this.Z,this),this.lt(t)}unsubscribe(t){this.ut(t)&&!this.ct()&&b(this.Z,this)}};f=s([runtime.targetObserver("")],f);const w=(t,s)=>{void 0===t.at&&(t.at=new Set),void 0===t.dt&&(t.dt=runtime.DOM.ft(t,g,{attributes:1})),t.at.add(s)},b=(t,s)=>{const i=t.at;return i.delete(s)?(0===i.size&&(t.dt.disconnect(),t.dt=void 0),1):0},g=t=>{t[0].target.at.forEach(i,t)},{oneTime,wt:p,bt:m}=runtime.BindingMode,v=p|oneTime;t.AttributeBinding=class{constructor(t,s,i,h,mode,e,n){runtime.connectable.gt(this),this.A=null,this.T=null,this.$state=0,this.$lifecycle=n.get(runtime.ILifecycle),this.pt=null,this.vt=null,this.$scope=null,this.j=n,this.mode=mode,this.G=e,this.S=t,this.target=s,this._=i,this.yt=h,this.q=0}Ct(value,t){this.targetObserver.ot(value,16|(t|=this.q))}Vt(value,t){this.S.assign(32|(t|=this.q),this.$scope,this.j,value)}U(t,s,i){if(2&this.$state){if(i|=this.q,this.mode===runtime.BindingMode.bt&&(i&=-17,i|=32),16&i){const s=this.targetObserver.tt();return(10082!==this.S.Et||this.At>1)&&(t=this.S.evaluate(i,this.$scope,this.j)),t!==s&&this.Ct(t,i),void(0==(this.mode&oneTime)&&(this.version++,this.S.connect(i,this.$scope,this),this.unobserve(0)))}if(!(32&i))throw kernel.Reporter.error(15,i);t!==this.S.evaluate(i,this.$scope,this.j)&&this.Vt(t,i)}}R(t,s){if(2&this.$state){if(this.$scope===s)return;this.D(2048|t)}this.$state|=1,this.q=67108879&t,this.$scope=s;let i=this.S;runtime.hasBind(i)&&i.bind(t,s,this);let targetObserver=this.targetObserver;targetObserver||(targetObserver=this.targetObserver=new f(2048,this.$lifecycle,this.G,this.target,this._,this.yt)),targetObserver.bind&&targetObserver.bind(t),i=this.S,this.mode&v&&this.Ct(i.evaluate(t,s,this.j),t),this.mode&p&&i.connect(t,s,this),this.mode&m&&(targetObserver[this.id]|=32,targetObserver.subscribe(this)),this.$state|=2,this.$state&=-2}D(t){2&this.$state&&(this.$state|=64,this.q=0,runtime.hasUnbind(this.S)&&this.S.B(t,this.$scope,this),this.$scope=null,this.targetObserver.B&&this.targetObserver.B(t),this.targetObserver.unsubscribe&&(this.targetObserver.unsubscribe(this),this.targetObserver[this.id]&=-33),this.unobserve(1),this.$state&=-67)}connect(t){2&this.$state&&this.S.connect(1048576|(t|=this.q),this.$scope,this)}Tt(t){2&this.$state&&this.Ct(this.S.evaluate(1048576|(t|=this.q),this.$scope,this.j),t)}},t.AttributeBinding=s([runtime.connectable()],t.AttributeBinding),t.AttributeNSAccessor=class{constructor(t,s,i,h,e){this.H=1,this.attributeName=h,this.X=t,this.Z=s,this.oldValue=this.rt=this.tt(),this.nt=i,this.kt=e}tt(){return this.Z.getAttributeNS(this.kt,this.attributeName)}W(t){this.Z.setAttributeNS(this.kt,this.attributeName,t)}},t.AttributeNSAccessor=s([runtime.targetObserver("")],t.AttributeNSAccessor);const y=(t,s)=>t===s;t.CheckedObserver=class{constructor(t,s,i,h,e){this.q=67108879&t,this.H=1,this.$=h,this.X=s,this.Z=i,this.G=e}tt(){return this.rt}W(t,s){this.jt||(this.jt=this.Z.St&&(this.Z.St.xt||this.Z.St.value),this.jt&&this.jt.subscribe(this)),this.Mt&&(this.Mt.Ot(this),this.Mt=null),"checkbox"===this.Z.type&&Array.isArray(t)&&(this.Mt=this.G.Lt(this.q|s,t),this.Mt.Nt(this)),this.It()}Rt(){this.It(),this.Dt(448)}U(t,s,i){this.It(),this.Dt(i)}It(){const value=this.rt,t=this.Z,s=t.hasOwnProperty("model")?t.xt:t.value,i=t.$t||y;t.checked="radio"===t.type?!!i(value,s):1==value?1:Array.isArray(value)?-1!==value.findIndex(t=>!!i(t,s)):0}Dt(t){2048&t||this.rt!==this.oldValue&&this.Bt(this.rt,this.oldValue,this.q|t)}u(){let value=this.rt;const t=this.Z,s=t.hasOwnProperty("model")?t.xt:t.value;let i;const h=t.$t||y;if("checkbox"===t.type){if(Array.isArray(value))return i=value.findIndex(t=>!!h(t,s)),void(t.checked&&-1===i?value.push(s):t.checked||-1===i||value.splice(i,1));value=t.checked}else{if(!t.checked)return;value=s}this.oldValue=this.rt,this.rt=value,this.Dt(327680)}subscribe(t){this.ct()||this.$.subscribe(this.Z,this),this.lt(t)}unsubscribe(t){this.ut(t)&&!this.ct()&&this.$.F()}B(){this.Mt&&(this.Mt.Ot(this),this.Mt=null),this.jt&&this.jt.unsubscribe(this)}},t.CheckedObserver=s([runtime.targetObserver()],t.CheckedObserver),t.ClassAttributeAccessor=class{constructor(t,s){this.H=1,this.Ft=1,this.X=t,this.Pt=null,this.Z=s,this.version=0}tt(){return this.rt}W(t){const s=this.Pt||{};let i,name,h=this.version;if(t.length){const e=this.Z;for(let n=0,r=(i=t.split(/\s+/)).length;r>n;n++)(name=i[n]).length&&(s[name]=h,e.classList.add(name))}if(this.Pt=s,this.version+=1,0!==h)for(name in h-=1,s)s.hasOwnProperty(name)&&s[name]===h&&this.Z.classList.remove(name)}},t.ClassAttributeAccessor=s([runtime.targetObserver("")],t.ClassAttributeAccessor),t.DataAttributeAccessor=class{constructor(t,s,i){this.H=1,this.X=t,this.Z=s,this.oldValue=this.rt=this.tt(),this.nt=i}tt(){return this.Z.getAttribute(this.nt)}W(t){null===t?this.Z.removeAttribute(this.nt):this.Z.setAttribute(this.nt,t)}},t.DataAttributeAccessor=s([runtime.targetObserver()],t.DataAttributeAccessor),t.ElementPropertyAccessor=class{constructor(t,s,i){this.H=1,this.X=t,this.Z=s,this.nt=i}tt(){return this.Z[this.nt]}W(value){this.Z[this.nt]=value}},t.ElementPropertyAccessor=s([runtime.targetObserver("")],t.ElementPropertyAccessor);class ListenerTracker{constructor(dom,t,s,i){this.dom=dom,this.zt=i,this.count=0,this.Ut=t,this.listener=s}Ht(){this.count++,1===this.count&&this.dom.addEventListener(this.Ut,this.listener,null,this.zt)}qt(){this.count--,0===this.count&&this.dom.removeEventListener(this.Ut,this.listener,null,this.zt)}F(){this.count>0&&(this.count=0,this.dom.removeEventListener(this.Ut,this.listener,null,this.zt))}}class DelegateOrCaptureSubscription{constructor(t,s,i,h){this.Gt=t,this.Xt=s,this.M=i,s[i]=h}F(){this.Gt.qt(),this.Xt[this.M]=null}}class TriggerSubscription{constructor(dom,t,s,i){this.dom=dom,this.target=t,this.M=s,this.Zt=i,dom.addEventListener(s,i,t)}F(){this.dom.removeEventListener(this.M,this.Zt,this.target)}}class EventSubscriber{constructor(dom,t){this.dom=dom,this._t=t,this.target=null,this.$=null}subscribe(t,s){this.target=t,this.$=s;const i=this.dom.addEventListener,h=this._t;for(let e=0,n=h.length;n>e;++e)i(h[e],s,t)}F(){const t=this.target,s=this.$,i=this._t,h=this.dom.removeEventListener;for(let e=0,n=i.length;n>e;++e)h(i[e],s,t);this.target=this.$=null}}const IEventManager=kernel.DI.Kt("IEventManager").Jt(t=>t.singleton(C));class C{constructor(){this.Qt={},this.Wt={},this.Qt={},this.Wt={}}addEventListener(dom,t,s,i,strategy){let h,e,o;if(strategy===runtime.DelegationStrategy.Yt){(o=(h=this.Qt)[s]||(h[s]=new ListenerTracker(dom,s,r,0))).Ht();const e=t.g||(t.g={});return new DelegateOrCaptureSubscription(o,e,s,i)}if(strategy===runtime.DelegationStrategy.ts){(o=(e=this.Wt)[s]||(e[s]=new ListenerTracker(dom,s,n,1))).Ht();const h=t.l||(t.l={});return new DelegateOrCaptureSubscription(o,h,s,i)}return new TriggerSubscription(dom,t,s,i)}F(){let t;const{Qt:s,Wt:i}=this;for(t in s)s[t].F();for(t in i)i[t].F()}}const V={ss:1,hs:1,es:1};t.SelectValueObserver=class{constructor(t,s,i,h,e,dom){this.q=67108879&t,this.H=1,this.X=s,this.Z=i,this.$=h,this.G=e,this.dom=dom}tt(){return this.rt}W(t,s){const i=Array.isArray(t);if(!i&&null!=t&&this.Z.multiple)throw Error("Only null or Array instances can be bound to a multi-select.");this.Mt&&(this.Mt.Ot(this),this.Mt=null),i&&(this.Mt=this.G.Lt(this.q|s,t),this.Mt.Nt(this)),this.ns(),this.Dt(s)}Rt(t){this.ns(t)}U(t,s,i){this.ot(t,this.q|i)}Dt(t){if(2048&t)return;const s=this.oldValue,i=this.rt;i!==s&&this.Bt(i,s,this.q|t)}u(){this.rs()&&this.Dt(327680)}ns(t){const s=this.rt,i=Array.isArray(s),h=this.Z,e=h.$t||o,n=h.options;let r=n.length;for(;r--;){const t=n[r],h=t.hasOwnProperty("model")?t.xt:t.value;t.selected=i?-1!==s.findIndex(t=>!!e(h,t)):!!e(h,s)}}rs(){const t=this.Z,s=t.options,i=s.length,h=this.rt;let e=0;if(t.multiple){if(!Array.isArray(h))return 1;let n;const r=t.$t||o,c=[];for(;i>e;)(n=s[e]).selected&&c.push(n.hasOwnProperty("model")?n.xt:n.value),++e;for(e=0;h.length>e;){const t=h[e];-1===c.findIndex(s=>!!r(t,s))?h.splice(e,1):++e}for(e=0;c.length>e;){const t=c[e];-1===h.findIndex(s=>!!r(t,s))&&h.push(t),++e}return 0}let value=null;for(;i>e;){const t=s[e];if(t.selected){value=t.hasOwnProperty("model")?t.xt:t.value;break}++e}return this.oldValue=this.rt,this.rt=value,1}subscribe(t){this.ct()||this.$.subscribe(this.Z,this),this.lt(t)}unsubscribe(t){this.ut(t)&&!this.ct()&&this.$.F()}bind(){this.os=this.dom.ft(this.Z,this.cs.bind(this),V)}B(){this.os.disconnect(),this.os=null,this.Mt&&(this.Mt.Ot(this),this.Mt=null)}cs(){this.ns(),this.rs()&&this.Dt(65536)}},t.SelectValueObserver=s([runtime.targetObserver()],t.SelectValueObserver),t.StyleAttributeAccessor=class{constructor(t,s){this.H=1,this.oldValue=this.rt=s.style.cssText,this.X=t,this.Z=s,this.ls=null,this.version=0}tt(){return this.Z.style.cssText}us(t,value){let s="";null!=value&&"function"==typeof value.indexOf&&-1!==value.indexOf("!important")&&(s="important",value=value.replace("!important","")),this.Z.style.setProperty(t,value,s)}W(t){const s=this.ls||{};let i,h=this.version;if(null!==t)if(t instanceof Object){let value;for(i in t)t.hasOwnProperty(i)&&(value=t[i],s[i=i.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)]=h,this.us(i,value))}else if(t.length){const e=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:[^"](?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g;let n;for(;null!==(n=e.exec(t));)(i=n[1])&&(s[i]=h,this.us(i,n[2]))}if(this.ls=s,this.version+=1,0!==h)for(i in h-=1,s)s.hasOwnProperty(i)&&s[i]===h&&this.Z.style.removeProperty(i)}},t.StyleAttributeAccessor=s([runtime.targetObserver()],t.StyleAttributeAccessor);const ISVGAnalyzer=kernel.DI.Kt("ISVGAnalyzer").Jt(t=>t.singleton(class{p(t,s){return 0}})),E={button:"",as:"on",color:"#000000",ds:"",fs:"",email:"",ws:"",hidden:"",bs:"",gs:"",number:"",password:"",ps:"on",range:"50",reset:"",search:"",submit:"",tel:"",text:"",time:"",url:"",ms:""};t.ValueAttributeObserver=class{constructor(t,s,i,h){if(this.H=1,this.$=h,this.X=t,this.Z=s,this.nt=i,"value"===i){const t=s.type;this.defaultValue=E[t||"text"],"file"===t&&(this.flush=this.vs)}else this.defaultValue="";this.oldValue=this.rt=s[i]}tt(){return this.Z[this.nt]}W(t,s){this.Z[this.nt]=t,2048&s||this.Bt(this.rt,this.oldValue,s)}u(){const t=this.oldValue=this.rt,s=this.rt=this.tt();t!==s&&(this.Bt(s,t,327680),this.oldValue=s)}subscribe(t){this.ct()||(this.oldValue=this.tt(),this.$.subscribe(this.Z,this)),this.lt(t)}unsubscribe(t){this.ut(t)&&!this.ct()&&this.$.F()}vs(){const t=this.rt;this.oldValue!==t&&""===t&&(this.W(t,this.ys),this.oldValue=this.rt)}},t.ValueAttributeObserver=s([runtime.targetObserver("")],t.ValueAttributeObserver);const A="http://www.w3.org/1999/xlink",T="http://www.w3.org/XML/1998/namespace",k="http://www.w3.org/2000/xmlns/",j=((a=Object.create(null))["Cs"]=["actuate",A],a["Vs"]=["arcrole",A],a["Es"]=["href",A],a["As"]=["role",A],a["Ts"]=["show",A],a["ks"]=["title",A],a["js"]=["type",A],a["Ss"]=["lang",T],a["xs"]=["space",T],a.Ms=["xmlns",k],a["Os"]=["xlink",k],a),S=["change","input"],x=["change"],M=["change","input","blur","keyup","paste"],O=["scroll"],L=(function(t){return t.Ls=1,t.style=1,t.Ns=1,t.checked=1,t.value=1,t.xt=1,t["Cs"]=1,t["Vs"]=1,t["Es"]=1,t["As"]=1,t["Ts"]=1,t["ks"]=1,t["js"]=1,t["Ss"]=1,t["xs"]=1,t.Ms=1,t["Os"]=1,t})(Object.create(null));class TargetObserverLocator{constructor(dom,t){this.dom=dom,this.Is=t}static register(t){return kernel.Registration.singleton(runtime.ITargetObserverLocator,this).register(t)}Rs(s,i,h,e,n){switch(n){case"checked":return new t.CheckedObserver(s,i,e,new EventSubscriber(this.dom,S),h);case"value":return"SELECT"===e.tagName?new t.SelectValueObserver(s,i,e,new EventSubscriber(this.dom,x),h,this.dom):new t.ValueAttributeObserver(i,e,n,new EventSubscriber(this.dom,S));case"files":return new t.ValueAttributeObserver(i,e,n,new EventSubscriber(this.dom,S));case"textContent":case"innerHTML":return new t.ValueAttributeObserver(i,e,n,new EventSubscriber(this.dom,M));case"scrollTop":case"scrollLeft":return new t.ValueAttributeObserver(i,e,n,new EventSubscriber(this.dom,O));case"class":return new t.ClassAttributeAccessor(i,e);case"style":case"css":return new t.StyleAttributeAccessor(i,e);case"model":return new runtime.SetterObserver(s,e,n);case"role":return new t.DataAttributeAccessor(i,e,n);default:if(void 0!==j[n]){const s=j[n];return new t.AttributeNSAccessor(i,e,n,s[0],s[1])}if(c(e,n,this.Is))return new t.DataAttributeAccessor(i,e,n)}return null}Ds(t,s,i){return 1==L[i]}$s(t,s){return this.dom.C(s)}}TargetObserverLocator.inject=[runtime.IDOM,ISVGAnalyzer];class TargetAccessorLocator{constructor(dom,t){this.dom=dom,this.Is=t}static register(t){return kernel.Registration.singleton(runtime.ITargetAccessorLocator,this).register(t)}Bs(s,i,h,e){switch(e){case"textContent":return new t.ElementPropertyAccessor(i,h,e);case"class":return new t.ClassAttributeAccessor(i,h);case"style":case"css":return new t.StyleAttributeAccessor(i,h);case"src":case"href":case"role":return new t.DataAttributeAccessor(i,h,e);default:if(void 0!==j[e]){const s=j[e];return new t.AttributeNSAccessor(i,h,e,s[0],s[1])}return c(h,e,this.Is)?new t.DataAttributeAccessor(i,h,e):new t.ElementPropertyAccessor(i,h,e)}}$s(t,s){return this.dom.C(s)}}TargetAccessorLocator.inject=[runtime.IDOM,ISVGAnalyzer];const N={};class AttrBindingBehavior{bind(s,i,h){h.targetObserver=new t.DataAttributeAccessor(h.j.get(runtime.ILifecycle),h.target,h.yt)}B(t,s,i){}}runtime.BindingBehaviorResource.Fs("attr",AttrBindingBehavior);class SelfBindingBehavior{bind(t,s,i){if(!i.L||!i.M)throw kernel.Reporter.error(8);i.m=i.L,i.L=l}B(t,s,i){i.L=i.m,i.m=null}}runtime.BindingBehaviorResource.Fs("self",SelfBindingBehavior);class UpdateTriggerBindingBehavior{constructor(t){this.G=t}bind(t,s,i,...h){if(0===h.length)throw kernel.Reporter.error(9);if(i.mode!==runtime.BindingMode.Ps&&i.mode!==runtime.BindingMode.bt)throw kernel.Reporter.error(10);this.q=67108879&t;const targetObserver=this.G.Rs(this.q|t,i.target,i.yt);if(!targetObserver.$)throw kernel.Reporter.error(10);i.targetObserver=targetObserver,targetObserver.zs=i.targetObserver.$,targetObserver.$=new EventSubscriber(i.j.get(runtime.IDOM),h)}B(t,s,i){i.targetObserver.$.F(),i.targetObserver.$=i.targetObserver.zs,i.targetObserver.zs=null}}UpdateTriggerBindingBehavior.inject=[runtime.IObserverLocator],runtime.BindingBehaviorResource.Fs("updateTrigger",UpdateTriggerBindingBehavior),(HTMLTargetedInstructionType=t.HTMLTargetedInstructionType||(t.HTMLTargetedInstructionType={})).Us="ha",HTMLTargetedInstructionType.Hs="hb",HTMLTargetedInstructionType.qs="hc",HTMLTargetedInstructionType.Gs="hd",HTMLTargetedInstructionType.setAttribute="he";class SetAttributeInstruction{constructor(value,to){this.type="he",this.to=to,this.value=value}}class RenderPlan{constructor(dom,t,instructions,dependencies){this.dom=dom,this.dependencies=dependencies,this.instructions=instructions,this.Xs=t}get Zs(){return this._s||(this._s=runtime.buildTemplateDefinition(null,null,this.Xs,null,"string"==typeof this.Xs,null,this.instructions,this.dependencies))}Js(t,s){return t.Js(this.dom,this.Zs,null,s)}Ks(t,s,i){return this.Qs(s,i).create()}Qs(t,s){return t.Qs(this.dom,this.Zs,s)}V(t,instructions,dependencies){this.dom.appendChild(t,this.Xs),instructions.push(...this.instructions),dependencies.push(...this.dependencies)}}const I=["subject","composing"];class Compose{constructor(dom,t,s,i,h){this.dom=dom,this.subject=null,this.Ws=0,this.Ys=h,this.ti=null,this.si=t,this.ii=i,this.Ys.hi=(()=>{this.Ws=0}),this.properties=s.instructions.filter(t=>!I.includes(t.to)).reduce((t,s)=>(s.to&&(t[s.to]=s),t),{})}ei(t){this.ni(this.subject,null,t),this.Ys.ei(t,this.$scope)}ri(t){this.Ys.ri(t)}oi(t){this.Ys.oi(t)}ci(t){this.ti=null,this.Ys.ci(t)}li(t){this.Ys.li(t)}ui(t,s,i){this.ni(t,s,i)}ni(t,s,i){this.ti!==t&&(this.ti=t,t=t instanceof Promise?t.then(t=>this.ai(t,i)):this.ai(t,i),this.Ws=1,this.Ys.di(t,i))}ai(t,s){const i=this.fi(t,s);return i?(i.wi(this.bi.host),i.gi(this.si.$scope),i):null}fi(t,s){return t?"lockScope"in t?t:"createView"in t?t.Ks(s,this.ii,this.si.$context):"create"in t?t.create():"template"in t?this.ii.Qs(this.dom,t,this.si.$context).create():createElement(this.dom,t,this.properties,this.bi.children).Ks(s,this.ii,this.si.$context):null}}Compose.inject=[runtime.IDOM,runtime.IRenderable,runtime.ITargetedInstruction,runtime.IRenderingEngine,runtime.CompositionCoordinator],s([runtime.bindable],Compose.prototype,"subject",void 0),s([runtime.bindable],Compose.prototype,"composing",void 0),runtime.CustomElementResource.Fs({name:"au-compose",containerless:1},Compose),(NodeType=t.NodeType||(t.NodeType={}))[NodeType.Element=1]="Element",NodeType[NodeType.Attr=2]="Attr",NodeType[NodeType.Text=3]="Text",NodeType[NodeType.CDATASection=4]="CDATASection",NodeType[NodeType.EntityReference=5]="EntityReference",NodeType[NodeType.Entity=6]="Entity",NodeType[NodeType.ProcessingInstruction=7]="ProcessingInstruction",NodeType[NodeType.Comment=8]="Comment",NodeType[NodeType.Document=9]="Document",NodeType[NodeType.DocumentType=10]="DocumentType",NodeType[NodeType.DocumentFragment=11]="DocumentFragment",NodeType[NodeType.Notation=12]="Notation";const R=runtime.DOM;class D{constructor(dom,t){this.dom=dom,this.firstChild=t,this.lastChild=t,this.childNodes=[t],this.targets=[new F(t)]}pi(){return this.targets}insertBefore(t){t.parentNode.insertBefore(this.firstChild,t)}mi(t){t.appendChild(this.firstChild)}remove(){this.firstChild.remove()}}class ${constructor(dom,t){this.dom=dom,this.vi=t;const s=t.querySelectorAll(".au");let i=0,h=s.length;const targets=this.targets=Array(h);for(;h>i;){const t=s[i];targets[i]="AU-M"===t.nodeName?this.dom.yi(t):t,++i}const e=t.childNodes;i=0;const childNodes=this.childNodes=Array(h=e.length);for(;h>i;)childNodes[i]=e[i],++i;this.firstChild=t.firstChild,this.lastChild=t.lastChild,this.start=this.end=null}pi(){return this.targets}insertBefore(t){if(t.parentNode.insertBefore(this.vi,t),"au-end"===t.textContent){this.end=t;const s=this.start=t.Ci;s.$nodes=null===s.$nodes?this:kernel.PLATFORM.Vi}}mi(t){t.appendChild(this.vi),this.start=this.end=null}remove(){const t=this.vi;if(null!==this.start&&this.start.$nodes===this){const s=this.end;let i,h=this.start.nextSibling;for(;h!==s;)i=h.nextSibling,t.appendChild(h),h=i;this.start.$nodes=null,this.start=this.end=null}else{let s=this.firstChild;if(s.parentNode!==t){const i=this.lastChild;let h;for(;null!==s&&(h=s.nextSibling,t.appendChild(s),s!==i);)s=h}}}}class B{constructor(dom,t){this.dom=dom;const s=dom.createDocumentFragment(t),childNodes=s.childNodes;switch(childNodes.length){case 0:return void(this.Ei=(()=>runtime.NodeSequence.empty));case 2:const t=childNodes[0];if("AU-M"===t.nodeName||"#comment"===t.nodeName){const t=childNodes[1];if(3===t.nodeType&&0===t.textContent.length)return this.Ai=0,this.Xs=t,void(this.Ti=D)}default:this.Ai=1,this.Xs=s,this.Ti=$}}Ei(){return new this.Ti(this.dom,this.Xs.cloneNode(this.Ai))}}class F{get parentNode(){return this.nextSibling.parentNode}constructor(t){this.nextSibling=t,this.textContent=""}remove(){}}(d=F.prototype).previousSibling=null,d.childNodes=kernel.PLATFORM.ki,d.nodeName="AU-M",d.nodeType=1;class P{constructor(dom){this.dom=dom}static register(t){return kernel.Registration.singleton(runtime.ITemplateFactory,this).register(t)}create(t,s){return new runtime.CompiledTemplate(this.dom,s,new B(this.dom,s.template),t)}}P.inject=[runtime.IDOM];let z=class{constructor(t,s){this.ji=t,this.G=s}Si(t,dom,s,i,h,e){const n=h.nextSibling;let r;dom.xi(h)&&dom.remove(h);const o=runtime.ensureExpression(this.ji,e.from,2048);r=o.Mi?new runtime.MultiInterpolationBinding(this.G,o,n,"textContent",runtime.BindingMode.wt,s):new runtime.InterpolationBinding(o.Oi,o,n,"textContent",runtime.BindingMode.wt,this.G,s,1),runtime.addBinding(i,r)}};z.inject=[runtime.IExpressionParser,runtime.IObserverLocator],z=s([runtime.instructionRenderer("ha")],z);let U=class{constructor(t,s){this.ji=t,this.O=s}Si(t,dom,s,i,h,e){const n=runtime.ensureExpression(this.ji,e.from,80|e.strategy+6),r=new Listener(dom,e.to,e.strategy,n,h,e.preventDefault,this.O,s);runtime.addBinding(i,r)}};U.inject=[runtime.IExpressionParser,IEventManager],U=s([runtime.instructionRenderer("hb")],U);let H=class{Si(t,dom,s,i,h,e){h.setAttribute(e.to,e.value)}};H=s([runtime.instructionRenderer("he")],H);let q=class{constructor(t,s){this.ji=t,this.G=s}Si(t,dom,s,i,h,e){const n=runtime.ensureExpression(this.ji,e.from,48|runtime.BindingMode.wt),r=new runtime.Binding(n,h.style,e.to,runtime.BindingMode.wt,this.G,s);runtime.addBinding(i,r)}};q.inject=[runtime.IExpressionParser,runtime.IObserverLocator],q=s([runtime.instructionRenderer("hd")],q);let G=class{constructor(t,s){this.ji=t,this.G=s}Si(s,dom,i,h,e,n){const r=runtime.ensureExpression(this.ji,n.from,48|runtime.BindingMode.wt),o=new t.AttributeBinding(r,e,n.Li,n.to,runtime.BindingMode.wt,this.G,i);runtime.addBinding(h,o)}};G.inject=[runtime.IExpressionParser,runtime.IObserverLocator],G=s([runtime.instructionRenderer("hc")],G);const X={mode:"open"},Z={ss:1};class _{constructor(dom,$customElement,host,t){let shadowOptions;this.dom=dom,this.host=host,this.shadowRoot=host.Ni(shadowOptions=null!=t.shadowOptions&&"object"==typeof t.shadowOptions&&"mode"in t.shadowOptions?t.shadowOptions:X),this.host.$customElement=$customElement,this.shadowRoot.$customElement=$customElement}get children(){return this.shadowRoot.childNodes}Ii(t){this.dom.ft(this.shadowRoot,t,Z)}Ri(){return this.shadowRoot}Di(t){t.mi(this.shadowRoot)}$i(t){t.remove()}}class J{constructor(dom,$customElement,host){this.childNodes=host.childNodes.length?kernel.PLATFORM.toArray(host.childNodes):kernel.PLATFORM.ki,this.host=dom.yi(host),this.host.$customElement=$customElement}get children(){return this.childNodes}Ii(t){new MutationObserver(t).observe(this.host,Z)}Ri(){return this.host.Bi()}Di(t){t.insertBefore(this.host)}$i(t){t.remove()}}class K{constructor($customElement,host){this.host=host,this.host.$customElement=$customElement}get children(){return this.host.childNodes}Ii(t){}Ri(){return this.host.Bi()}Di(t){t.mi(this.host)}$i(t){t.remove()}}const IProjectorLocatorRegistration=class{static register(t){return kernel.Registration.singleton(runtime.IProjectorLocator,this).register(t)}Fi(dom,t,host,def){if(def.shadowOptions||def.hasSlots){if(def.containerless)throw kernel.Reporter.error(21);return new _(dom,t,host,def)}return def.containerless?new J(dom,t,host):new K(t,host)}},ITargetAccessorLocatorRegistration=TargetAccessorLocator,ITargetObserverLocatorRegistration=TargetObserverLocator,ITemplateFactoryRegistration=P,DefaultComponents=[IProjectorLocatorRegistration,ITargetAccessorLocatorRegistration,ITargetObserverLocatorRegistration,ITemplateFactoryRegistration],AttrBindingBehaviorRegistration=AttrBindingBehavior,SelfBindingBehaviorRegistration=SelfBindingBehavior,UpdateTriggerBindingBehaviorRegistration=UpdateTriggerBindingBehavior,ComposeRegistration=Compose,DefaultResources=[AttrBindingBehaviorRegistration,SelfBindingBehaviorRegistration,UpdateTriggerBindingBehaviorRegistration,ComposeRegistration],ListenerBindingRendererRegistration=U,AttributeBindingRendererRegistration=G,SetAttributeRendererRegistration=H,StylePropertyBindingRendererRegistration=q,TextBindingRendererRegistration=z,DefaultRenderers=[ListenerBindingRendererRegistration,AttributeBindingRendererRegistration,SetAttributeRendererRegistration,StylePropertyBindingRendererRegistration,TextBindingRendererRegistration],BasicConfiguration={register:t=>runtime.RuntimeBasicConfiguration.register(t).register(...DefaultComponents,...DefaultResources,...DefaultRenderers),Pi(){return this.register(kernel.DI.Pi())}};return t.AttrBindingBehavior=AttrBindingBehavior,t.AttrBindingBehaviorRegistration=AttrBindingBehaviorRegistration,t.AttributeBindingInstruction=class{constructor(t,from,to){this.type="hc",this.from=from,this.Li=t,this.to=to}},t.AttributeBindingRendererRegistration=AttributeBindingRendererRegistration,t.BasicConfiguration=BasicConfiguration,t.CaptureBindingInstruction=class{constructor(from,to){this.type="hb",this.from=from,this.preventDefault=0,this.strategy=runtime.DelegationStrategy.ts,this.to=to}},t.Compose=Compose,t.ComposeRegistration=ComposeRegistration,t.DOM=R,t.DefaultComponents=DefaultComponents,t.DefaultRenderers=DefaultRenderers,t.DefaultResources=DefaultResources,t.DelegateBindingInstruction=class{constructor(from,to){this.type="hb",this.from=from,this.preventDefault=0,this.strategy=runtime.DelegationStrategy.Yt,this.to=to}},t.DelegateOrCaptureSubscription=DelegateOrCaptureSubscription,t.EventSubscriber=EventSubscriber,t.HTMLDOM=class{constructor(t,s,i,h,e,n){this.window=t,this.document=s,this.Node=i,this.Element=h,this.HTMLElement=e,this.CustomEvent=n,runtime.DOM.zi&&(kernel.Reporter.write(1001),runtime.DOM.Ui()),runtime.DOM.initialize(this)}static register(t){return kernel.Registration.Hi(runtime.IDOM,this).register(t)}addEventListener(t,s,i,h){(i||this.document).addEventListener(t,s,h)}appendChild(t,s){t.appendChild(s)}cloneNode(t,s){return t.cloneNode(0!=s)}yi(t){if(this.qi(t))return t;if(null===t.parentNode)throw kernel.Reporter.error(52);const s=this.document.createComment("au-end"),i=this.document.createComment("au-start");return t.parentNode.replaceChild(s,t),s.parentNode.insertBefore(i,s),s.Ci=i,i.$nodes=null,s}createDocumentFragment(t){if(null==t)return this.document.createDocumentFragment();if(this.C(t)){if(void 0!==t.content)return t.content;const s=this.document.createDocumentFragment();return s.appendChild(t),s}return this.Gi(t).content}createElement(name){return this.document.createElement(name)}fetch(t,s){return this.window.fetch(t,s)}Xi(t,s){return new this.CustomEvent(t,s)}dispatchEvent(t){this.document.dispatchEvent(t)}ft(t,s,i){if("undefined"==typeof MutationObserver)return{disconnect(){},observe(){},takeRecords:()=>kernel.PLATFORM.ki};const h=new MutationObserver(s);return h.observe(t,i),h}Gi(t){if(null==t)return this.document.createElement("template");const template=this.document.createElement("template");return template.innerHTML=""+t,template}createTextNode(t){return this.document.createTextNode(t)}insertBefore(t,s){s.parentNode.insertBefore(t,s)}xi(t){return"AU-M"===t.nodeName}C(t){return null!=t&&t.nodeType>0}qi(t){return"au-end"===t.textContent}v(t){t.className="au"}Zi(t,s){t._i(runtime.INode,s),t._i(this.Node,s),t._i(this.Element,s),t._i(this.HTMLElement,s)}remove(t){t.remove?t.remove():t.parentNode.removeChild(t)}removeEventListener(t,s,i,h){(i||this.document).removeEventListener(t,s,h)}setAttribute(t,name,value){t.setAttribute(name,value)}},t.IEventManager=IEventManager,t.IProjectorLocatorRegistration=IProjectorLocatorRegistration,t.ISVGAnalyzer=ISVGAnalyzer,t.ITargetAccessorLocatorRegistration=ITargetAccessorLocatorRegistration,t.ITargetObserverLocatorRegistration=ITargetObserverLocatorRegistration,t.ITemplateFactoryRegistration=ITemplateFactoryRegistration,t.Listener=Listener,t.ListenerBindingRendererRegistration=ListenerBindingRendererRegistration,t.ListenerTracker=ListenerTracker,t.RenderPlan=RenderPlan,t.SelfBindingBehavior=SelfBindingBehavior,t.SelfBindingBehaviorRegistration=SelfBindingBehaviorRegistration,t.SetAttributeInstruction=SetAttributeInstruction,t.SetAttributeRendererRegistration=SetAttributeRendererRegistration,t.StylePropertyBindingInstruction=class{constructor(from,to){this.type="hd",this.from=from,this.to=to}},t.StylePropertyBindingRendererRegistration=StylePropertyBindingRendererRegistration,t.TargetAccessorLocator=TargetAccessorLocator,t.TargetObserverLocator=TargetObserverLocator,t.TextBindingInstruction=class{constructor(from){this.type="ha",this.from=from}},t.TextBindingRendererRegistration=TextBindingRendererRegistration,t.TriggerBindingInstruction=class{constructor(from,to){this.type="hb",this.from=from,this.preventDefault=1,this.strategy=runtime.DelegationStrategy.Ji,this.to=to}},t.TriggerSubscription=TriggerSubscription,t.UpdateTriggerBindingBehavior=UpdateTriggerBindingBehavior,t.UpdateTriggerBindingBehaviorRegistration=UpdateTriggerBindingBehaviorRegistration,t.createElement=createElement,t.isHTMLTargetedInstruction=isHTMLTargetedInstruction,t})({},kernel,runtime);
