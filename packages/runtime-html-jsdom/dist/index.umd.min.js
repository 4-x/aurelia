(function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@aurelia/kernel"),require("@aurelia/runtime"),require("@aurelia/runtime-html"),require("jsdom")):"function"==typeof define&&define.amd?define(["exports","@aurelia/kernel","@aurelia/runtime","@aurelia/runtime-html","jsdom"],i):i((e=e||self).runtimeHtmlJsdom={},e.kernel,e.runtime,e.runtimeHtml,e.i)})(this,function(e,kernel,runtime,runtimeHtml,i){"use strict";class t{constructor(e){this.t=e,this.i=new i.s}static register(e){return kernel.Registration.singleton(runtime.IDOMInitializer,this).register(e)}initialize(e){if(this.t.has(runtime.IDOM,0))return this.t.get(runtime.IDOM);let dom;return void 0!==e?void 0!==e.dom?dom=e.dom:e.host.ownerDocument?dom=new runtimeHtml.HTMLDOM(this.i.window,e.host.ownerDocument,this.i.window.Node,this.i.window.Element,this.i.window.HTMLElement,this.i.window.CustomEvent):(void 0!==e.host&&this.i.window.document.body.appendChild(e.host),dom=new runtimeHtml.HTMLDOM(this.i.window,this.i.window.document,this.i.window.Node,this.i.window.Element,this.i.window.HTMLElement,this.i.window.CustomEvent)):dom=new runtimeHtml.HTMLDOM(this.i.window,this.i.window.document,this.i.window.Node,this.i.window.Element,this.i.window.HTMLElement,this.i.window.CustomEvent),kernel.Registration.h(runtime.IDOM,dom).register(this.t),dom}}t.inject=[kernel.IContainer];const s=t,DefaultComponents=[s];e.BasicConfiguration={register:e=>runtimeHtml.BasicConfiguration.register(e).register(...DefaultComponents),u(){return this.register(kernel.DI.u())}},e.DefaultComponents=DefaultComponents,e.o=s,Object.defineProperty(e,"l",{value:1})});
